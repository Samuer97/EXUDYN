% ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++% description of python utility functions; generated by Johannes Gerstmayr% ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

\mysubsection{Module: advancedUtilities}
\label{sec:module:advancedUtilities}
 	Advanced utility functions only depending on numpy or specified exudyn modules;
           Here, we gather special functions, which are depending on other modules and do not fit into exudyn.utilities as they cannot be imported e.g. in rigidBodyUtilities
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Johannes Gerstmayr
\item[]Date:      2023-01-06 (created)
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L30}{PlotLineCode}{}}}\label{sec:advancedUtilities:PlotLineCode}
({\it index})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: helper functions for matplotlib, returns a list of 28 line codes to be used in plot, e.g. 'r-' for red solid line
\item[--]
{\bf input}: index in range(0:28)
\item[--]
{\bf output}: a color and line style code for matplotlib plot
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on PlotLineCode see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInteractiveLimits.py}{\texttt{serialRobotInteractiveLimits.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotTSD.py}{\texttt{serialRobotTSD.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L47}{FindObjectIndex}{}}}\label{sec:advancedUtilities:FindObjectIndex}
({\it i}, {\it globalVariables})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: simple function to find object index i within the local or global scope of variables
\item[--]
{\bf input}: i, the integer object number and  globalVariables=globals()
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  FindObjectIndex(2, locals() )  #usually sufficient
  FindObjectIndex(2, globals() ) #wider search
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L63}{FindNodeIndex}{}}}\label{sec:advancedUtilities:FindNodeIndex}
({\it i}, {\it globalVariables})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: simple function to find node index i within the local or global scope of variables
\item[--]
{\bf input}: i, the integer node number and  globalVariables=globals()
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  FindObjectIndex(2, locals() )  #usually sufficient
  FindObjectIndex(2, globals() ) #wider search
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L79}{IsListOrArray}{}}}\label{sec:advancedUtilities:IsListOrArray}
({\it data}, {\it checkIfNoneEmpty}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: checks, if data is of type list or np.array; used in functions to check input data
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it data}: any type, preferrably list or numpy.array
\item[]{\it checkIfNoneEmpty}: if True, function only returns True if type is list or array AND if length is non-zero
\end{itemize}
\item[--]
{\bf output}: returns True/False
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L112}{RaiseTypeError}{}}}\label{sec:advancedUtilities:RaiseTypeError}
({\it where}= '', {\it argumentName}= '', {\it received}= None, {\it expectedType}= None, {\it dim}= None, {\it cols}= None)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: internal function which is used to raise common errors in case of wrong types; dim is used for vectors and square matrices, cols is used for non-square matrices
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L145}{IsValidBool}{}}}\label{sec:advancedUtilities:IsValidBool}
({\it x})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: return True, if x is int, float, np.double, np.integer or similar types that can be automatically casted to pybind11
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L154}{IsValidRealInt}{}}}\label{sec:advancedUtilities:IsValidRealInt}
({\it x})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: return True, if x is int, float, np.double, np.integer or similar types that can be automatically casted to pybind11
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L164}{IsValidPRealInt}{}}}\label{sec:advancedUtilities:IsValidPRealInt}
({\it x})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: return True, if x is valid Real/Int and positive
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L170}{IsValidURealInt}{}}}\label{sec:advancedUtilities:IsValidURealInt}
({\it x})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: return True, if x is valid Real/Int and unsigned (non-negative)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L176}{IsReal}{}}}\label{sec:advancedUtilities:IsReal}
({\it x})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: return True, if x is any python or numpy float type; could also be called IsFloat(), but Real has special meaning in Exudyn
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L183}{IsInteger}{}}}\label{sec:advancedUtilities:IsInteger}
({\it x})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: return True, if x is any python or numpy float type
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L190}{IsVector}{}}}\label{sec:advancedUtilities:IsVector}
({\it v}, {\it expectedSize}= None)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: check if v is a valid vector with floats or ints; if expectedSize!=None, the length is also checked
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L204}{IsIntVector}{}}}\label{sec:advancedUtilities:IsIntVector}
({\it v}, {\it expectedSize}= None)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: check if v is a valid vector with floats or ints; if expectedSize!=None, the length is also checked
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L219}{IsSquareMatrix}{}}}\label{sec:advancedUtilities:IsSquareMatrix}
({\it m}, {\it expectedSize}= None)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: check if v is a valid vector with floats or ints; if expectedSize!=None, the length is also checked
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L236}{IsValidObjectIndex}{}}}\label{sec:advancedUtilities:IsValidObjectIndex}
({\it x})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: return True, if x is valid exudyn object index
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L242}{IsValidNodeIndex}{}}}\label{sec:advancedUtilities:IsValidNodeIndex}
({\it x})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: return True, if x is valid exudyn node index
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L248}{IsValidMarkerIndex}{}}}\label{sec:advancedUtilities:IsValidMarkerIndex}
({\it x})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: return True, if x is valid exudyn marker index
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L263}{FillInSubMatrix}{}}}\label{sec:advancedUtilities:FillInSubMatrix}
({\it subMatrix}, {\it destinationMatrix}, {\it destRow}, {\it destColumn})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: fill submatrix into given destinationMatrix; all matrices must be numpy arrays
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it subMatrix}: input matrix, which is filled into destinationMatrix
\item[]{\it destinationMatrix}: the subMatrix is entered here
\item[]{\it destRow}: row destination of subMatrix
\item[]{\it destColumn}: column destination of subMatrix
\end{itemize}
\item[--]
{\bf output}: destinationMatrix is changed after function call
\item[--]
{\bf notes}: may be erased in future!
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on FillInSubMatrix see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectFFRFTest.py}{\texttt{objectFFRFTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L282}{SweepSin}{}}}\label{sec:advancedUtilities:SweepSin}
({\it t}, {\it t1}, {\it f0}, {\it f1})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute sin sweep at given time t
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it t}: evaluate of sweep at time t
\item[]{\it t1}: end time of sweep frequency range
\item[]{\it f0}: start of frequency interval [f0,f1] in Hz
\item[]{\it f1}: end of frequency interval [f0,f1] in Hz
\end{itemize}
\item[--]
{\bf output}: evaluation of sin sweep (in range -1..+1)
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on SweepSin see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectGenericODE2Test.py}{\texttt{objectGenericODE2Test.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L293}{SweepCos}{}}}\label{sec:advancedUtilities:SweepCos}
({\it t}, {\it t1}, {\it f0}, {\it f1})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute cos sweep at given time t
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it t}: evaluate of sweep at time t
\item[]{\it t1}: end time of sweep frequency range
\item[]{\it f0}: start of frequency interval [f0,f1] in Hz
\item[]{\it f1}: end of frequency interval [f0,f1] in Hz
\end{itemize}
\item[--]
{\bf output}: evaluation of cos sweep (in range -1..+1)
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on SweepCos see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/rigidRotor3DbasicBehaviour.py}{\texttt{rigidRotor3DbasicBehaviour.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/rigidRotor3Drunup.py}{\texttt{rigidRotor3Drunup.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectGenericODE2Test.py}{\texttt{objectGenericODE2Test.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L304}{FrequencySweep}{}}}\label{sec:advancedUtilities:FrequencySweep}
({\it t}, {\it t1}, {\it f0}, {\it f1})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: frequency according to given sweep functions SweepSin, SweepCos
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it t}: evaluate of frequency at time t
\item[]{\it t1}: end time of sweep frequency range
\item[]{\it f0}: start of frequency interval [f0,f1] in Hz
\item[]{\it f1}: end of frequency interval [f0,f1] in Hz
\end{itemize}
\item[--]
{\bf output}: frequency in Hz
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on FrequencySweep see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectGenericODE2Test.py}{\texttt{objectGenericODE2Test.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L315}{SmoothStep}{}}}\label{sec:advancedUtilities:SmoothStep}
({\it x}, {\it x0}, {\it x1}, {\it value0}, {\it value1})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: step function with smooth transition from value0 to value1; transition is computed with cos function
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it x}: argument at which function is evaluated
\item[]{\it x0}: start of step (f(x) = value0)
\item[]{\it x1}: end of step (f(x) = value1)
\item[]{\it value0}: value before smooth step
\item[]{\it value1}: value at end of smooth step
\end{itemize}
\item[--]
{\bf output}: returns f(x)
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on SmoothStep see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDriveALE.py}{\texttt{beltDriveALE.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDriveReevingSystem.py}{\texttt{beltDriveReevingSystem.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/craneReevingSystem.py}{\texttt{craneReevingSystem.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/leggedRobot.py}{\texttt{leggedRobot.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/openVRengine.py}{\texttt{openVRengine.py}} (Ex), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L334}{SmoothStepDerivative}{}}}\label{sec:advancedUtilities:SmoothStepDerivative}
({\it x}, {\it x0}, {\it x1}, {\it value0}, {\it value1})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: derivative of SmoothStep using same arguments
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it x}: argument at which function is evaluated
\item[]{\it x0}: start of step (f(x) = value0)
\item[]{\it x1}: end of step (f(x) = value1)
\item[]{\it value0}: value before smooth step
\item[]{\it value1}: value at end of smooth step
\end{itemize}
\item[--]
{\bf output}: returns d/dx(f(x))
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on SmoothStepDerivative see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/leggedRobot.py}{\texttt{leggedRobot.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L350}{IndexFromValue}{}}}\label{sec:advancedUtilities:IndexFromValue}
({\it data}, {\it value}, {\it tolerance}= 1e-7, {\it assumeConstantSampleRate}= False, {\it rangeWarning}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: get index from value in given data vector (numpy array); usually used to get specific index of time vector; this function is slow (linear search), if sampling rate is non-constant; otherwise set assumeConstantSampleRate=True!
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it data}: containing (almost) equidistant values of time
\item[]{\it value}: e.g., time to be found in data
\item[]{\it tolerance}: tolerance, which is accepted (default: tolerance=1e-7)
\item[]{\it rangeWarning}: warn, if index returns out of range; if warning is deactivated, function uses the closest value
\end{itemize}
\item[--]
{\bf output}: index
\item[--]
{\bf notes}: to obtain the interpolated value of a time-signal array, use GetInterpolatedSignalValue() in exudyn.signalProcessing
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L382}{RoundMatrix}{}}}\label{sec:advancedUtilities:RoundMatrix}
({\it matrix}, {\it treshold}= 1e-14)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: set all entries in matrix to zero which are smaller than given treshold; operates directly on matrix
\item[--]
{\bf input}: matrix as np.array, treshold as positive value
\item[--]
{\bf output}: changes matrix
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L400}{ConvertFunctionToSymbolic}{}}}\label{sec:advancedUtilities:ConvertFunctionToSymbolic}
({\it mbs}, {\it function}, {\it itemIndex}, {\it userFunctionName}, {\it verbose}= 0)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]Internal function to convert a Python user function into a dictionary containing the symbolic representation;
\item[]this function is under development and should be used with care
\end{itemize}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: MainSystem, needed currently for interface
\item[]{\it function}: Python function with interface according to desired user function
\item[]{\it itemIndex}: item index, such as ObjectIndex or LoadIndex
\item[]{\it userFunctionName}: name of user function item, see documentation; this is required, because some items have several user functions, which need to be distinguished
\item[]{\it verbose}: if > 0, according output is printed
\end{itemize}
\item[--]
{\bf output}: return dictionary with 'functionName', 'argList', and 'returnList'
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ConvertFunctionToSymbolic see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/symbolicUserFunctionMasses.py}{\texttt{symbolicUserFunctionMasses.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/advancedUtilities.py\#L531}{CreateSymbolicUserFunction}{}}}\label{sec:advancedUtilities:CreateSymbolicUserFunction}
({\it mbs}, {\it function}, {\it itemIndex}, {\it userFunctionName}, {\it verbose}= 0)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]Helper function to convert a Python user function into a symbolic user function;
\item[]this function is under development and should be used with care
\end{itemize}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: MainSystem, needed currently for interface
\item[]{\it function}: Python function with interface according to desired user function
\item[]{\it itemIndex}: item index, such as ObjectIndex or LoadIndex
\item[]{\it userFunctionName}: name of user function item, see documentation; this is required, because some items have several user functions, which need to be distinguished
\item[]{\it verbose}: if > 0, according output may be printed
\end{itemize}
\item[--]
{\bf output}: returns symbolic user function; this can be transfered into an item using TransferUserFunction2Item
\item[--]
{\bf notes}: keep the return value alive in a variable (or list), as it contains the expression tree which must exist for the lifetime of the user function
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  oGround = mbs.AddObject(ObjectGround())
  node = mbs.AddNode(NodePoint(referenceCoordinates = [1.05,0,0]))
  oMassPoint = mbs.AddObject(MassPoint(nodeNumber = node, physicsMass=1))
  m0 = mbs.AddMarker(MarkerBodyPosition(bodyNumber=oGround, localPosition=[0,0,0]))
  m1 = mbs.AddMarker(MarkerBodyPosition(bodyNumber=oMassPoint, localPosition=[0,0,0]))
  co = mbs.AddObject(ObjectConnectorSpringDamper(markerNumbers=[m0,m1],
                  referenceLength = 1, stiffness = 100, damping = 1))
  symbolicFunc = CreateSymbolicUserFunction(mbs, springForceUserFunction, co, 'springForceUserFunction')
  symbolicFunc.TransferUserFunction2Item(mbs, co, 'springForceUserFunction')
  print(symbolicFunc.Evaluate(mbs, 0., 0, 1.1, 0.,  100., 0., 13.) )
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
%
\noindent For examples on CreateSymbolicUserFunction see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/cartesianSpringDamperUserFunction.py}{\texttt{cartesianSpringDamperUserFunction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/SpringDamperMassUserFunction.py}{\texttt{SpringDamperMassUserFunction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/symbolicUserFunctionMasses.py}{\texttt{symbolicUserFunctionMasses.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/symbolicUserFunctionTest.py}{\texttt{symbolicUserFunctionTest.py}} (TM)
\ei

%
\mysubsubsection{CLASS ExpectedType(Enum) (in module advancedUtilities)}
\noindent\textcolor{steelblue}{{\bf class description}}:  internal type which is used for type checking in exudyn Python user functions; used to create unique error messages
\vspace{3pt} \\ 
\mysubsection{Module: artificialIntelligence}
\label{sec:module:artificialIntelligence}
  This library collects interfaces and functionality for artificial intelligence
			This library is under construction (2022-05);
           To make use of this libraries, you need to install openAI gym with 'pip install gym';
           For standard machine learning algorithms, install e.g. stable\_baselines3 using 'pip install stable\_baselines3'
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Johannes Gerstmayr
\item[]Date:      2022-05-21 (created)
\ei
\mysubsubsection{CLASS OpenAIGymInterfaceEnv(Env) (in module artificialIntelligence)}
\noindent\textcolor{steelblue}{{\bf class description}}:  interface class to set up Exudyn model which can be used as model in open AI gym;
         see specific class functions which contain 'OVERRIDE' to integrate your model;
         in general, set up a model with CreateMBS(), map state to initial values, initial values to state and action to mbs;
\vspace{3pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/artificialIntelligence.py\#L36}{\_\_init\_\_}{}}}\label{sec:artificialIntelligence:OpenAIGymInterfaceEnv(Env):__init__}
({\it self}, {\it **kwargs})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: internal function to initialize model; store self.mbs and self.simulationSettings; special arguments **kwargs are passed to CreateMBS
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/artificialIntelligence.py\#L70}{CreateMBS}{}}}\label{sec:artificialIntelligence:OpenAIGymInterfaceEnv(Env):CreateMBS}
({\it self}, {\it SC}, {\it mbs}, {\it simulationSettings}, {\it **kwargs})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]OVERRIDE this function to create multibody system mbs and setup simulationSettings; call Assemble() at the end!
\item[]you may also change SC.visualizationSettings() individually; kwargs may be used for special setup
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/artificialIntelligence.py\#L74}{SetupSpaces}{}}}\label{sec:artificialIntelligence:OpenAIGymInterfaceEnv(Env):SetupSpaces}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: OVERRIDE this function to set up self.action\_space and self.observation\_space
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/artificialIntelligence.py\#L79}{MapAction2MBS}{}}}\label{sec:artificialIntelligence:OpenAIGymInterfaceEnv(Env):MapAction2MBS}
({\it self}, {\it action})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: OVERRIDE this function to map the action given by learning algorithm to the multibody system, e.g. as a load parameter
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/artificialIntelligence.py\#L84}{Output2StateAndDone}{}}}\label{sec:artificialIntelligence:OpenAIGymInterfaceEnv(Env):Output2StateAndDone}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: OVERRIDE this function to collect output of simulation and map to self.state tuple
\item[--]\textcolor{steelblue}{\bf output}: return bool done which contains information if system state is outside valid range
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/artificialIntelligence.py\#L90}{State2InitialValues}{}}}\label{sec:artificialIntelligence:OpenAIGymInterfaceEnv(Env):State2InitialValues}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: OVERRIDE this function to maps the current state to mbs initial values
\item[--]\textcolor{steelblue}{\bf output}: return [initialValues, initialValues\_t] where initialValues[\_t] are ODE2 vectors of coordinates[\_t] for the mbs
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/artificialIntelligence.py\#L108}{TestModel}{}}}\label{sec:artificialIntelligence:OpenAIGymInterfaceEnv(Env):TestModel}
({\it self}, {\it numberOfSteps}= 500, {\it seed}= 0, {\it model}= None, {\it solutionFileName}= None, {\it useRenderer}= True, {\it sleepTime}= 0.01, {\it stopIfDone}= False, {\it showTimeSpent}= True, {\it **kwargs})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: test model by running in simulation environment having several options
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it numberOfSteps}: number of steps to test MBS and model (with or without learned model); with renderer, press 'Q' in render window to stop simulation
\item[]{\it seed}: seed value for reset function; this value initializes the randomizer; use e.g. time to obtain non-reproducible results
\item[]{\it model}: either None to just test the MBS model without learned model, or containing a learned model, e.g., with A2C; use A2C.save(...) and A2C.load(...) for storing and retrieving models
\item[]{\it solutionFileName}: if given, the MBS internal states are written to the file with given name, which can be loaded with solution viewer and visualized; solution is written every period given in simulationSettings.solutionSettings.solutionWritePeriod
\item[]{\it useRenderer}: if set True, the internal renderer is used and model updates are shown in visualization of Exudyn
\item[]{\it return\_info}: internal value in reset function
\item[]{\it sleepTime}: sleep time between time steps to obtain certain frame rate for visualization
\item[]{\it stopIfDone}: if set to True, the simulation will reset as soon as the defined observation limits are reached and done is set True
\item[]{\it showTimeSpent}: if True, the total time spent is measured; this helps to check the performance of the model (e.g. how many steps can be computed per second)
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/artificialIntelligence.py\#L147}{SetSolver}{}}}\label{sec:artificialIntelligence:OpenAIGymInterfaceEnv(Env):SetSolver}
({\it self}, {\it solverType})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: use solverType = exudyn.DynamicSolverType.[...] to define solver (choose between implicit and explicit solvers!)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/artificialIntelligence.py\#L173}{PreInitializeSolver}{}}}\label{sec:artificialIntelligence:OpenAIGymInterfaceEnv(Env):PreInitializeSolver}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: internal function which initializes dynamic solver; adapt in special cases; this function has some overhead and should not be called during reset() or step()
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/artificialIntelligence.py\#L180}{IntegrateStep}{}}}\label{sec:artificialIntelligence:OpenAIGymInterfaceEnv(Env):IntegrateStep}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: internal function which is called to solve for one step
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/artificialIntelligence.py\#L200}{step}{}}}\label{sec:artificialIntelligence:OpenAIGymInterfaceEnv(Env):step}
({\it self}, {\it action})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: openAI gym interface function which is called to compute one step
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/artificialIntelligence.py\#L241}{reset}{}}}\label{sec:artificialIntelligence:OpenAIGymInterfaceEnv(Env):reset}
({\it self}, {\it *}, {\it seed: Optional[int]}= None, {\it return\_info: bool}= False, {\it options: Optional[dict]}= None)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: openAI gym function which resets the system
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/artificialIntelligence.py\#L278}{render}{}}}\label{sec:artificialIntelligence:OpenAIGymInterfaceEnv(Env):render}
({\it self}, {\it mode}= "human")
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: openAI gym interface function to render the system
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/artificialIntelligence.py\#L284}{close}{}}}\label{sec:artificialIntelligence:OpenAIGymInterfaceEnv(Env):close}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: openAI gym interface function to close system after learning or simulation
\vspace{12pt}\end{itemize}
%
\mysubsection{Module: basicUtilities}
\label{sec:module:basicUtilities}
 	Basic utility functions and constants, not depending on numpy or other python modules.
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Johannes Gerstmayr
\item[]Date:      2020-03-10 (created)
\item[]Notes:
\vspace{-22pt}\begin{itemize}[leftmargin=0.5cm]
\setlength{\itemindent}{-0.5cm}
\item[] 	Additional constants are defined: 
\item[] 			pi = 3.1415926535897932 
\item[] 			sqrt2 = 2**0.5
\item[] 			g=9.81
\item[] 			eye2D (2x2 diagonal matrix)
\item[] 			eye3D (3x3 diagonal matrix)
\item[]  			Two variables 'gaussIntegrationPoints' and 'gaussIntegrationWeights' define integration points and weights for function GaussIntegrate(...) 
\ei
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/basicUtilities.py\#L44}{ClearWorkspace}{}}}\label{sec:basicUtilities:ClearWorkspace}
()
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]clear all workspace variables except for system variables with '\_' at beginning,
\item[]'func' or 'module' in name; it also deletes all items in exudyn.sys and exudyn.variables,
\item[]EXCEPT from exudyn.sys['renderState'] for pertaining the previous view of the renderer
\end{itemize}
\item[--]
{\bf notes}: Use this function with CARE! In Spyder, it is certainly safer to add the preference Run$\ra$'remove all variables before execution'. It is recommended to call ClearWorkspace() at the very beginning of your models, to avoid that variables still exist from previous computations which may destroy repeatability of results
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  import exudyn as exu
  import exudyn.utilities
  #clear workspace at the very beginning, before loading other modules and potentially destroying unwanted things ...
  ClearWorkspace()       #cleanup
  #now continue with other code
  from exudyn.itemInterface import *
  SC = exu.SystemContainer()
  mbs = SC.AddSystem()
  ...
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ClearWorkspace see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/springDamperUserFunctionNumbaJIT.py}{\texttt{springDamperUserFunctionNumbaJIT.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ACFtest.py}{\texttt{ACFtest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/basicUtilities.py\#L86}{SmartRound2String}{}}}\label{sec:basicUtilities:SmartRound2String}
({\it x}, {\it prec}= 3)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: round to max number of digits; may give more digits if this is shorter; using in general the format() with '.g' option, but keeping decimal point and using exponent where necessary
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/basicUtilities.py\#L101}{DiagonalMatrix}{}}}\label{sec:basicUtilities:DiagonalMatrix}
({\it rowsColumns}, {\it value}= 1)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: create a diagonal or identity matrix; used for interface.py, avoiding the need for numpy
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it rowsColumns}: provides the number of rows and columns
\item[]{\it value}: initialization value for diagonal terms
\end{itemize}
\item[--]
{\bf output}: list of lists representing a matrix
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/basicUtilities.py\#L115}{NormL2}{}}}\label{sec:basicUtilities:NormL2}
({\it vector})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute L2 norm for vectors without switching to numpy or math module
\item[--]
{\bf input}: vector as list or in numpy format
\item[--]
{\bf output}: L2-norm of vector
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on NormL2 see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/bicycleIftommBenchmark.py}{\texttt{bicycleIftommBenchmark.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/HydraulicActuatorStaticInitialization.py}{\texttt{HydraulicActuatorStaticInitialization.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolvePistonEngine.py}{\texttt{NGsolvePistonEngine.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/springsDeactivateConnectors.py}{\texttt{springsDeactivateConnectors.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/distanceSensor.py}{\texttt{distanceSensor.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/explicitLieGroupIntegratorTest.py}{\texttt{explicitLieGroupIntegratorTest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/fourBarMechanismIftomm.py}{\texttt{fourBarMechanismIftomm.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/genericODE2test.py}{\texttt{genericODE2test.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/basicUtilities.py\#L124}{VSum}{}}}\label{sec:basicUtilities:VSum}
({\it vector})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute sum of all values of vector
\item[--]
{\bf input}: vector as list or in numpy format
\item[--]
{\bf output}: sum of all components of vector
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on VSum see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotFlexible.py}{\texttt{serialRobotFlexible.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInteractiveLimits.py}{\texttt{serialRobotInteractiveLimits.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInverseKinematics.py}{\texttt{serialRobotInverseKinematics.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotKinematicTree.py}{\texttt{serialRobotKinematicTree.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotTSD.py}{\texttt{serialRobotTSD.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/movingGroundRobotTest.py}{\texttt{movingGroundRobotTest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/serialRobotTest.py}{\texttt{serialRobotTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/basicUtilities.py\#L133}{VAdd}{}}}\label{sec:basicUtilities:VAdd}
({\it v0}, {\it v1})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: add two vectors instead using numpy
\item[--]
{\bf input}: vectors v0 and v1 as list or in numpy format
\item[--]
{\bf output}: component-wise sum of v0 and v1
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on VAdd see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolvePistonEngine.py}{\texttt{NGsolvePistonEngine.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/carRollingDiscTest.py}{\texttt{carRollingDiscTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/laserScannerTest.py}{\texttt{laserScannerTest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/mecanumWheelRollingDiscTest.py}{\texttt{mecanumWheelRollingDiscTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/NGsolveCrankShaftTest.py}{\texttt{NGsolveCrankShaftTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/rigidBodyCOMtest.py}{\texttt{rigidBodyCOMtest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/sliderCrank3Dbenchmark.py}{\texttt{sliderCrank3Dbenchmark.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/sliderCrank3Dtest.py}{\texttt{sliderCrank3Dtest.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/basicUtilities.py\#L144}{VSub}{}}}\label{sec:basicUtilities:VSub}
({\it v0}, {\it v1})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: subtract two vectors instead using numpy: result = v0-v1
\item[--]
{\bf input}: vectors v0 and v1 as list or in numpy format
\item[--]
{\bf output}: component-wise difference of v0 and v1
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on VSub see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolveCMStutorial.py}{\texttt{NGsolveCMStutorial.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolvePistonEngine.py}{\texttt{NGsolvePistonEngine.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ObjectFFRFconvergenceTestHinge.py}{\texttt{ObjectFFRFconvergenceTestHinge.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/NGsolveCrankShaftTest.py}{\texttt{NGsolveCrankShaftTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/rigidBodyCOMtest.py}{\texttt{rigidBodyCOMtest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/basicUtilities.py\#L155}{VMult}{}}}\label{sec:basicUtilities:VMult}
({\it v0}, {\it v1})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: scalar multiplication of two vectors instead using numpy: result = v0' * v1
\item[--]
{\bf input}: vectors v0 and v1 as list or in numpy format
\item[--]
{\bf output}: sum of all component wise products: c0[0]*v1[0] + v0[1]*v1[0] + ...
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/basicUtilities.py\#L165}{ScalarMult}{}}}\label{sec:basicUtilities:ScalarMult}
({\it scalar}, {\it v})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: multiplication vectors with scalar: result = scalar * v
\item[--]
{\bf input}: value {\it scalar} and vector {\it v} as list or in numpy format
\item[--]
{\bf output}: scalar multiplication of all components of v: [scalar*v[0], scalar*v[1], ...]
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ScalarMult see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/pendulumFriction.py}{\texttt{pendulumFriction.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/sliderCrank3Dbenchmark.py}{\texttt{sliderCrank3Dbenchmark.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/sliderCrank3Dtest.py}{\texttt{sliderCrank3Dtest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/basicUtilities.py\#L174}{Normalize}{}}}\label{sec:basicUtilities:Normalize}
({\it v})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: take a 3D vector and return a normalized 3D vector (L2Norm=1)
\item[--]
{\bf input}: vector v as list or in numpy format
\item[--]
{\bf output}: vector v multiplied with scalar such that L2-norm of vector is 1
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on Normalize see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolveCMStutorial.py}{\texttt{NGsolveCMStutorial.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolvePistonEngine.py}{\texttt{NGsolvePistonEngine.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ObjectFFRFconvergenceTestHinge.py}{\texttt{ObjectFFRFconvergenceTestHinge.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/NGsolveCrankShaftTest.py}{\texttt{NGsolveCrankShaftTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/basicUtilities.py\#L190}{Vec2Tilde}{}}}\label{sec:basicUtilities:Vec2Tilde}
({\it v})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: apply tilde operator (skew) to 3D-vector and return skew matrix
\item[--]
{\bf input}: 3D vector v as list or in numpy format
\item[--]
{\bf output}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]matrix as list of lists with the skew-symmetric matrix from v:
\item[]$\left[\!\! \begin{array}{ccc} 0 & -v[2] & v[1] \\ v[2] & 0 & -v[0] \\ -v[1] & v[0] & 0  \end{array} \!\!\right]$
\end{itemize}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on Vec2Tilde see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/explicitLieGroupMBSTest.py}{\texttt{explicitLieGroupMBSTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/basicUtilities.py\#L197}{Tilde2Vec}{}}}\label{sec:basicUtilities:Tilde2Vec}
({\it m})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: take skew symmetric matrix and return vector (inverse of Skew(...))
\item[--]
{\bf input}: list of lists containing a skew-symmetric matrix (3x3)
\item[--]
{\bf output}: list containing the vector v (inverse function of Vec2Tilde(...))
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/basicUtilities.py\#L224}{GaussIntegrate}{}}}\label{sec:basicUtilities:GaussIntegrate}
({\it functionOfX}, {\it integrationOrder}, {\it a}, {\it b})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute numerical integration of functionOfX in interval [a,b] using Gaussian integration
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it functionOfX}: scalar, vector or matrix-valued function with scalar argument (X or other variable)
\item[]{\it integrationOrder}: odd number in \{1,3,5,7,9\}; currently maximum order is 9
\item[]{\it a}: integration range start
\item[]{\it b}: integration range end
\end{itemize}
\item[--]
{\bf output}: (scalar or vectorized) integral value
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/basicUtilities.py\#L260}{LobattoIntegrate}{}}}\label{sec:basicUtilities:LobattoIntegrate}
({\it functionOfX}, {\it integrationOrder}, {\it a}, {\it b})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute numerical integration of functionOfX in interval [a,b] using Lobatto integration
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it functionOfX}: scalar, vector or matrix-valued function with scalar argument (X or other variable)
\item[]{\it integrationOrder}: odd number in \{1,3,5\}; currently maximum order is 5
\item[]{\it a}: integration range start
\item[]{\it b}: integration range end
\end{itemize}
\item[--]
{\bf output}: (scalar or vectorized) integral value
\vspace{12pt}\end{itemize}
%
\mysubsection{Module: beams}
\label{sec:module:beams}
 	Beam utility functions, e.g. for creation of sequences of straight or curved beams.
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Johannes Gerstmayr
\item[]Date:      2022-01-30 (created)
\item[]Notes: 	For a list of plot colors useful for matplotlib, see also utilities.PlotLineCode(...)
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/beams.py\#L37}{GenerateStraightLineANCFCable2D}{}}}\label{sec:beams:GenerateStraightLineANCFCable2D}
({\it mbs}, {\it positionOfNode0}, {\it positionOfNode1}, {\it numberOfElements}, {\it cableTemplate}, {\it massProportionalLoad}= [0,0,0], {\it fixedConstraintsNode0}= [0,0,0,0], {\it fixedConstraintsNode1}= [0,0,0,0], {\it nodeNumber0}= -1, {\it nodeNumber1}= -1)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate cable elements along straight line with certain discretization
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: the system where ANCF cables are added
\item[]{\it positionOfNode0}: 3D position (list or np.array) for starting point of line
\item[]{\it positionOfNode1}: 3D position (list or np.array) for end point of line
\item[]{\it numberOfElements}: for discretization of line
\item[]{\it cableTemplate}: a ObjectANCFCable2D object, containing the desired cable properties; cable length and node numbers are set automatically
\item[]{\it massProportionalLoad}: a 3D list or np.array, containing the gravity vector or zero
\item[]{\it fixedConstraintsNode0}: a list of 4 binary values, indicating the coordinate contraints on the first node (x,y-position and x,y-slope)
\item[]{\it fixedConstraintsNode1}: a list of 4 binary values, indicating the coordinate contraints on the last node (x,y-position and x,y-slope)
\item[]{\it nodeNumber0}: if set other than -1, this node number defines the node that shall be used at positionOfNode0
\item[]{\it nodeNumber1}: if set other than -1, this node number defines the node that shall be used at positionOfNode1
\end{itemize}
\item[--]
{\bf output}: returns a list [cableNodeList, cableObjectList, loadList, cableNodePositionList, cableCoordinateConstraintList]
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  see Examples/ANCF_cantilever_test.py
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GenerateStraightLineANCFCable2D see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ANCFALEtest.py}{\texttt{ANCFALEtest.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ANCFcantileverTest.py}{\texttt{ANCFcantileverTest.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ANCFrotatingCable2D.py}{\texttt{ANCFrotatingCable2D.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDriveALE.py}{\texttt{beltDriveALE.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDriveReevingSystem.py}{\texttt{beltDriveReevingSystem.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFbeltDrive.py}{\texttt{ANCFbeltDrive.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFgeneralContactCircle.py}{\texttt{ANCFgeneralContactCircle.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFmovingRigidBodyTest.py}{\texttt{ANCFmovingRigidBodyTest.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/beams.py\#L63}{GenerateStraightLineANCFCable}{}}}\label{sec:beams:GenerateStraightLineANCFCable}
({\it mbs}, {\it positionOfNode0}, {\it positionOfNode1}, {\it numberOfElements}, {\it cableTemplate}, {\it massProportionalLoad}= [0,0,0], {\it fixedConstraintsNode0}= [0,0,0, 0,0,0], {\it fixedConstraintsNode1}= [0,0,0, 0,0,0], {\it nodeNumber0}= -1, {\it nodeNumber1}= -1)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate cable elements along straight line with certain discretization
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: the system where ANCF cables are added
\item[]{\it positionOfNode0}: 3D position (list or np.array) for starting point of line
\item[]{\it positionOfNode1}: 3D position (list or np.array) for end point of line
\item[]{\it numberOfElements}: for discretization of line
\item[]{\it cableTemplate}: a ObjectANCFCable object, containing the desired cable properties; cable length and node numbers are set automatically
\item[]{\it massProportionalLoad}: a 3D list or np.array, containing the gravity vector or zero
\item[]{\it fixedConstraintsNode0}: a list of binary values, indicating the coordinate contraints on the first node (position and slope); 4 coordinates for 2D and 6 coordinates for 3D node
\item[]{\it fixedConstraintsNode1}: a list of binary values, indicating the coordinate contraints on the last node (position and slope); 4 coordinates for 2D and 6 coordinates for 3D node
\item[]{\it nodeNumber0}: if set other than -1, this node number defines the node that shall be used at positionOfNode0
\item[]{\it nodeNumber1}: if set other than -1, this node number defines the node that shall be used at positionOfNode1
\end{itemize}
\item[--]
{\bf output}: returns a list [cableNodeList, cableObjectList, loadList, cableNodePositionList, cableCoordinateConstraintList]
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  see Examples/ANCF_cantilever_test.py
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GenerateStraightLineANCFCable see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ANCFcableCantilevered.py}{\texttt{ANCFcableCantilevered.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFcable2DuserFunction.py}{\texttt{ANCFcable2DuserFunction.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/beams.py\#L191}{GenerateCircularArcANCFCable2D}{}}}\label{sec:beams:GenerateCircularArcANCFCable2D}
({\it mbs}, {\it positionOfNode0}, {\it radius}, {\it startAngle}, {\it arcAngle}, {\it numberOfElements}, {\it cableTemplate}, {\it massProportionalLoad}= [0,0,0], {\it fixedConstraintsNode0}= [0,0,0,0], {\it fixedConstraintsNode1}= [0,0,0,0], {\it nodeNumber0}= -1, {\it nodeNumber1}= -1, {\it setCurvedReferenceConfiguration}= True, {\it verboseMode}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate cable elements along circular arc with given start point, radius, start angle (measured relative to $x$-axis, in positive rotation sense) and angle of arc
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: the system where ANCF cables are added
\item[]{\it positionOfNode0}: 3D position (list or np.array) for starting point of line
\item[]{\it radius}: radius of arc
\item[]{\it startAngle}: start angle of arc in radians  ($0 \ldots 2 \pi$), defines the direction of the slope vector, measured relative to $x$-axis, in positive rotation sense
\item[]{\it arcAngle}: total angle of arc in radians ($0 \ldots 2 \pi$), measured in positive rotation sense (negative angle reverts curvature and center point of circle)
\item[]{\it numberOfElements}: for discretization of arc
\item[]{\it cableTemplate}: a ObjectANCFCable2D object, containing the desired cable properties; cable length and node numbers are set automatically
\item[]{\it massProportionalLoad}: a 3D list or np.array, containing the gravity vector or zero
\item[]{\it fixedConstraintsNode0}: a list of 4 binary values, indicating the coordinate contraints on the first node (x,y-position and x,y-slope)
\item[]{\it fixedConstraintsNode1}: a list of 4 binary values, indicating the coordinate contraints on the last node (x,y-position and x,y-slope)
\item[]{\it nodeNumber0}: if set other than -1, this node number defines the node that shall be used at positionOfNode0
\item[]{\it nodeNumber1}: if set other than -1, this node number defines the node that shall be used at positionOfNode1
\item[]{\it setCurvedReferenceConfiguration}: if True, the curvature +/-(1/radius) is set as a reference configuration (sign depends on arcAngle); if False, the reference configuration is straight
\item[]{\it verboseMode}: if True, prints out information on created nodes
\end{itemize}
\item[--]
{\bf output}: returns a list [cableNodeList, cableObjectList, loadList, cableNodePositionList, cableCoordinateConstraintList]
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GenerateCircularArcANCFCable2D see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFbeltDrive.py}{\texttt{ANCFbeltDrive.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFgeneralContactCircle.py}{\texttt{ANCFgeneralContactCircle.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/beams.py\#L345}{CreateReevingCurve}{}}}\label{sec:beams:CreateReevingCurve}
({\it circleList}, {\it drawingLinesPerCircle}= 64, {\it numberOfANCFnodes}= -1, {\it removeLastLine}= False, {\it removeFirstLine}= False, {\it radialOffset}= 0., {\it closedCurve}= False, {\it graphicsElementsPerCircle}= 64, {\it graphicsNodeSize}= 0, {\it colorCircles}= [0.,0.5,1.,1.], {\it colorLines}= [1.,0.5,0.,1.])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: CreateReevingCurve for creating the geometry of a reeving system based on circles with radius and left/right side of passing the circles; left/right is seen in the direction passing from one to the next circle
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it circleList}: list containing center position, radius and 'L' (left) or 'R' (right) passing of circle
\item[]{\it radialOffset}: additional offset added to circles to account for half height of rope or beam
\item[]{\it closedCurve}: if True, the system adds circleList[0] and  circleList[1] at end of list and sets removeLastLine=True and removeFirstLine=False, in order to generate a closed curve according to given circles; furthermore, the number of nodes becomes equal to the number of elements in this case
\item[]{\it drawingLinesPerCircle}: number of lines in lineData per one revolution
\item[]{\it numberOfANCFnodes}: if not -1, function also generates nodes with equidistant distribution along curve!
\item[]{\it graphicsElementsPerCircle}: number of drawing lines generated in graphicsDataLines per circle revolution (larger generates better approximation of circles)
\item[]{\it graphicsNodeSize}: if not 0, addes graphics representation of nodes generated; for check if mesh is correct
\item[]{\it removeFirstLine}: removes first line generated, which may be unwanted
\item[]{\it removeLastLine}: removes last line generated, which may be unwanted
\item[]{\it colorCircles}: RGBA color for circles
\item[]{\it colorLines}: RGBA color for lines
\end{itemize}
\item[--]
{\bf output}: return a dictionary with {'ancfPointsSlopes':ancfPointsSlopes, 'elementLengths':elementLengths, 'elementCurvatures':elementCurvatures, 'totalLength':totalLength, 'circleData':circle2D, 'graphicsDataLines':graphicsDataLines, 'graphicsDataCircles':graphicsDataCircles }; 'ancfPointsSlopes' denotes 4-dimensional vector with (x/y) position and (x/y) slope coordinates in a row; 'elementLengths' is the list of curved lengths for elements between nodes (size is 1 smaller than number of nodes), 'elementCurvatures' is the list of scalar curvatures between nodes (according to list of elementLengths), 'totalLength' is the total length of the reeving line, 'circleData' represents the lines and arcs calculated for the reeving system, 'graphicsDataLines' is the graphicsData for the lines and 'graphicsDataCircles' represents the graphicsData for the circles
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  #list with circle center, radius and side at which rope runs
  circleList = [[[0,0],0.2,'L'],
                [[0,1],0.2,'L'],
                [[0.8,0.8],0.4,'L'],
                [[1,0],0.2,'L'],
                [[0,0],0.2,'L'],
                [[0,1],0.2,'L'],
                ]
  [] = CreateReevingCurve(circleList,
                          removeLastLine=True, #allows closed curve
                          numberOfANCFnodes=50)
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
%
\noindent For examples on CreateReevingCurve see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDriveALE.py}{\texttt{beltDriveALE.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDriveReevingSystem.py}{\texttt{beltDriveReevingSystem.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDrivesComparison.py}{\texttt{beltDrivesComparison.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/reevingSystem.py}{\texttt{reevingSystem.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/reevingSystemOpen.py}{\texttt{reevingSystemOpen.py}} (Ex), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/beams.py\#L574}{PointsAndSlopes2ANCFCable2D}{}}}\label{sec:beams:PointsAndSlopes2ANCFCable2D}
({\it mbs}, {\it ancfPointsSlopes}, {\it elementLengths}, {\it cableTemplate}, {\it massProportionalLoad}= [0,0,0], {\it fixedConstraintsNode0}= [0,0,0,0], {\it fixedConstraintsNode1}= [0,0,0,0], {\it firstNodeIsLastNode}= True, {\it elementCurvatures}= [], {\it graphicsSizeConstraints}= -1)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: Create nodes and ANCFCable2D elements in MainSystem mbs from a given set of nodes, elements lengths and a template for the cable, based on output of function CreateReevingCurve(...); function works similar to GenerateStraightLineANCFCable2D, but for arbitrary geometry (curved elements); optionally add loads and constraints
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: the system where ANCF elements and nodes are added
\item[]{\it ancfPointsSlopes}: list of position and slopes for nodes, provided as 4D numpy arrays, as returned by CreateReevingCurve(...)
\item[]{\it elementLengths}: list of element lengths per element, as returned by CreateReevingCurve(...)
\item[]{\it cableTemplate}: a ObjectANCFCable2D object, containing the desired cable properties; cable length and node numbers are set automatically
\item[]{\it massProportionalLoad}: a 3D list or np.array, containing the gravity vector to be applied to all elements or zero
\item[]{\it fixedConstraintsNode0}: a list of 4 binary values, indicating the coordinate contraints on the first node (x,y-position and x,y-slope)
\item[]{\it fixedConstraintsNode1}: a list of 4 binary values, indicating the coordinate contraints on the last node (x,y-position and x,y-slope)
\item[]{\it firstNodeIsLastNode}: if True, then the last node is using the node number of the first node and the curve is closed; otherwise, the first and last nodes are different, and the curve is open
\item[]{\it elementCurvatures}: optional list of pre-curvatures of elements, used to override the cableTemplate entry 'physicsReferenceCurvature'; use 0. for straight lines!
\item[]{\it graphicsSizeConstraints}: if set other than -1, it will be used as the size for drawing applied coordinate constraints
\end{itemize}
\item[--]
{\bf output}: returns a list [cableNodeList, cableObjectList, loadList, cableNodePositionList, cableCoordinateConstraintList]
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on PointsAndSlopes2ANCFCable2D see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDriveALE.py}{\texttt{beltDriveALE.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDriveReevingSystem.py}{\texttt{beltDriveReevingSystem.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDrivesComparison.py}{\texttt{beltDrivesComparison.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/reevingSystem.py}{\texttt{reevingSystem.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/reevingSystemOpen.py}{\texttt{reevingSystemOpen.py}} (Ex), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/beams.py\#L658}{GenerateSlidingJoint}{}}}\label{sec:beams:GenerateSlidingJoint}
({\it mbs}, {\it cableObjectList}, {\it markerBodyPositionOfSlidingBody}, {\it localMarkerIndexOfStartCable}= 0, {\it slidingCoordinateStartPosition}= 0)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate a sliding joint from a list of cables, marker to a sliding body, etc.
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GenerateSlidingJoint see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFslidingAndALEjointTest.py}{\texttt{ANCFslidingAndALEjointTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/beams.py\#L684}{GenerateAleSlidingJoint}{}}}\label{sec:beams:GenerateAleSlidingJoint}
({\it mbs}, {\it cableObjectList}, {\it markerBodyPositionOfSlidingBody}, {\it AleNode}, {\it localMarkerIndexOfStartCable}= 0, {\it AleSlidingOffset}= 0, {\it activeConnector}= True, {\it penaltyStiffness}= 0)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate an ALE sliding joint from a list of cables, marker to a sliding body, etc.
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GenerateAleSlidingJoint see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFslidingAndALEjointTest.py}{\texttt{ANCFslidingAndALEjointTest.py}} (TM)
\ei

%
\mysubsection{Module: FEM}
\label{sec:module:FEM}
  Support functions and helper classes for import of meshes, finite element models (ABAQUS, ANSYS, NETGEN) and for generation of FFRF (floating frame of reference) objects.
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:
\vspace{-22pt}\begin{itemize}[leftmargin=0.5cm]
\setlength{\itemindent}{-0.5cm}
\item[]   Johannes Gerstmayr; Stefan Holzinger (Abaqus and Ansys import utilities); Joachim Sch\"oberl (support for Netgen and NGsolve \cite{Schoeberl1997,NGsolve2014,NGsolve2022} import and eigen computations) 
\ei
\item[]Date:      2020-03-10 (created)
\item[]Notes:  	internal CSR matrix storage format contains 3 float numbers per row: [row, column, value], can be converted to scipy csr sparse matrices with function CSRtoScipySparseCSR(...)
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L43}{CompressedRowSparseToDenseMatrix}{}}}\label{sec:FEM:CompressedRowSparseToDenseMatrix}
({\it sparseData})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert zero-based sparse matrix data to dense numpy matrix
\item[--]
{\bf input}: sparseData: format (per row): [row, column, value] ==> converted into dense format
\item[--]
{\bf output}: a dense matrix as np.array
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L52}{MapSparseMatrixIndices}{}}}\label{sec:FEM:MapSparseMatrixIndices}
({\it matrix}, {\it sorting})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: resort a sparse matrix (internal CSR format) with given sorting for rows and columns; changes matrix directly! used for ANSYS matrix import
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L60}{VectorDiadicUnitMatrix3D}{}}}\label{sec:FEM:VectorDiadicUnitMatrix3D}
({\it v})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute diadic product of vector v and a 3D unit matrix = diadic(v,I$_{3x3}$); used for ObjectFFRF and CMS implementation
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L67}{CyclicCompareReversed}{}}}\label{sec:FEM:CyclicCompareReversed}
({\it list1}, {\it list2})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compare cyclic two lists, reverse second list; return True, if any cyclic shifted lists are same, False otherwise
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L76}{AddEntryToCompressedRowSparseArray}{}}}\label{sec:FEM:AddEntryToCompressedRowSparseArray}
({\it sparseData}, {\it row}, {\it column}, {\it value})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]add entry to compressedRowSparse matrix, avoiding duplicates
\item[]value is either added to existing entry (avoid duplicates) or a new entry is appended
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L94}{CSRtoRowsAndColumns}{}}}\label{sec:FEM:CSRtoRowsAndColumns}
({\it sparseMatrixCSR})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute rows and columns of a compressed sparse matrix and return as tuple: (rows,columns)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L100}{CSRtoScipySparseCSR}{}}}\label{sec:FEM:CSRtoScipySparseCSR}
({\it sparseMatrixCSR})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert internal compressed CSR to scipy.sparse csr matrix
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on CSRtoScipySparseCSR see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/shapeOptimization.py}{\texttt{shapeOptimization.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ACFtest.py}{\texttt{ACFtest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L108}{ScipySparseCSRtoCSR}{}}}\label{sec:FEM:ScipySparseCSRtoCSR}
({\it scipyCSR})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert scipy.sparse csr matrix to internal compressed CSR
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L116}{ResortIndicesOfCSRmatrix}{}}}\label{sec:FEM:ResortIndicesOfCSRmatrix}
({\it mXXYYZZ}, {\it numberOfRows})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]resort indices of given NGsolve CSR matrix in XXXYYYZZZ format to XYZXYZXYZ format; numberOfRows must be equal to columns
\item[]needed for import from NGsolve
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L134}{ResortIndicesOfNGvector}{}}}\label{sec:FEM:ResortIndicesOfNGvector}
({\it vXXYYZZ})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: resort indices of given NGsolve vector in XXXYYYZZZ format to XYZXYZXYZ format
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L154}{ResortIndicesExudyn2NGvector}{}}}\label{sec:FEM:ResortIndicesExudyn2NGvector}
({\it vXYZXYZ})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: resort indices of given Exudyun vector XYZXYZXYZ to NGsolve vector in XXXYYYZZZ format
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L291}{ConvertHexToTrigs}{}}}\label{sec:FEM:ConvertHexToTrigs}
({\it nodeNumbers})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert list of Hex8/C3D8  element with 8 nodes in nodeNumbers into triangle-List
\item[--]
{\bf notes}: works for Hex20 elements, but does only take the corner nodes for drawing!
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ConvertHexToTrigs see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectFFRFTest.py}{\texttt{objectFFRFTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L302}{ConvertTetToTrigs}{}}}\label{sec:FEM:ConvertTetToTrigs}
({\it nodeNumbers})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert list of Tet4/Tet10 element with 4 or 10 nodes in nodeNumbers into triangle-List
\item[--]
{\bf notes}: works for Tet10 elements, but does only take the corner nodes for drawing!
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L314}{ConvertDenseToCompressedRowMatrix}{}}}\label{sec:FEM:ConvertDenseToCompressedRowMatrix}
({\it denseMatrix})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert numpy.array dense matrix to (internal) compressed row format
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L362}{ReadMatrixFromAnsysMMF}{}}}\label{sec:FEM:ReadMatrixFromAnsysMMF}
({\it fileName}, {\it verbose}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]This function reads either the mass or stiffness matrix from an Ansys
\item[]Matrix Market Format (MMF). The corresponding matrix can either be exported
\item[]as dense matrix or sparse matrix.
\end{itemize}
\item[--]
{\bf input}: fileName of MMF file
\item[--]
{\bf output}: internal compressed row sparse matrix (as (nrows x 3) numpy array)
\item[--]
{\bf author}: Stefan Holzinger
\item[--]
{\bf notes}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]A MMF file can be created in Ansys by placing the following APDL code inside
\item[]the solution tree in Ansys Workbench:
\item[]!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
\item[]! APDL code that exports sparse stiffnes and mass matrix in MMF format. If
\item[]! the dense matrix is needed, replace *SMAT with *DMAT in the following
\item[]! APDL code.
\item[]! Export the stiffness matrix in MMF format
\item[]*SMAT,MatKD,D,IMPORT,FULL,file.full,STIFF
\item[]*EXPORT,MatKD,MMF,fileNameStiffnessMatrix,,,
\item[]! Export the mass matrix in MMF format
\item[]*SMAT,MatMD,D,IMPORT,FULL,file.full,MASS
\item[]*EXPORT,MatMD,MMF,fileNameMassMatrix,,,
\item[]!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
\item[]In case a lumped mass matrix is needed, place the following APDL Code inside
\item[]the Modal Analysis Tree:
\item[]!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
\item[]! APDL code to force Ansys to use a lumped mass formulation (if available for
\item[]! used elements)
\item[]LUMPM, ON, , 0
\item[]!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L403}{ReadMatrixDOFmappingVectorFromAnsysTxt}{}}}\label{sec:FEM:ReadMatrixDOFmappingVectorFromAnsysTxt}
({\it fileName})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]read sorting vector for ANSYS mass and stiffness matrices and return sorting vector as np.array
\item[]the file contains sorting for nodes and applies this sorting to the DOF (assuming 3 DOF per node!)
\item[]the resulting sorted vector is already converted to 0-based indices
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L459}{ReadNodalCoordinatesFromAnsysTxt}{}}}\label{sec:FEM:ReadNodalCoordinatesFromAnsysTxt}
({\it fileName}, {\it verbose}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: This function reads the nodal coordinates exported from Ansys.
\item[--]
{\bf input}: fileName (file name ending must be .txt!)
\item[--]
{\bf output}: nodal coordinates as numpy array
\item[--]
{\bf author}: Stefan Holzinger
\item[--]
{\bf notes}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]The nodal coordinates can be exported from Ansys by creating a named selection
\item[]of the body whos mesh should to exported by choosing its geometry. Next,
\item[]create a second named selcetion by using a worksheet. Add the named selection
\item[]that was created first into the worksheet of the second named selection.
\item[]Inside the working sheet, choose 'convert' and convert the first created
\item[]named selection to 'mesh node' (Netzknoten in german) and click on generate
\item[]to create the second named selection. Next, right click on the second
\item[]named selection tha was created and choose 'export' and save the nodal
\item[]coordinates as .txt file.
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L538}{ReadElementsFromAnsysTxt}{}}}\label{sec:FEM:ReadElementsFromAnsysTxt}
({\it fileName}, {\it verbose}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: This function reads the nodal coordinates exported from Ansys.
\item[--]
{\bf input}: fileName (file name ending must be .txt!)
\item[--]
{\bf output}: element connectivity as numpy array
\item[--]
{\bf author}: Stefan Holzinger
\item[--]
{\bf notes}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]The elements can be exported from Ansys by creating a named selection
\item[]of the body whos mesh should to exported by choosing its geometry. Next,
\item[]create a second named selcetion by using a worksheet. Add the named selection
\item[]that was created first into the worksheet of the second named selection.
\item[]Inside the worksheet, choose 'convert' and convert the first created
\item[]named selection to 'mesh element' (Netzelement in german) and click on generate
\item[]to create the second named selection. Next, right click on the second
\item[]named selection tha was created and choose 'export' and save the elements
\item[]as .txt file.
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L961}{CMSObjectComputeNorm}{}}}\label{sec:FEM:CMSObjectComputeNorm}
({\it mbs}, {\it objectNumber}, {\it outputVariableType}, {\it norm}= 'max', {\it nodeNumberList}= [])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute current (max, min, ...) value for chosen ObjectFFRFreducedOrder object (CMSobject) with exu.OutputVariableType. The function operates on nodal values. This is a helper function, which can be used to conveniently compute output quantities of the CMSobject efficiently and to use it in sensors
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: MainSystem of objectNumber
\item[]{\it objectNumber}: number of ObjectFFRFreducedOrder in mbs
\item[]{\it outputVariableType}: a exu.OutputVariableType out of [StressLocal, DisplacementLocal, VelocityLocal]
\item[]{\it norm}: string containing chosen norm to be computed, out of 'Mises', 'maxNorm', 'min', 'max'; 'max' will return maximum of all components (component wise), 'min' does same but for minimum; 'maxNorm' computes np.linalg.norm for every node and then takes maximum of all norms; Mises computes von-Mises stress for every node and then takes maximum of all nodes
\item[]{\it nodeNumberList}: list of mesh node numbers (from FEMinterface); if empty [], all nodes are used; otherwise, only given nodes are evaluated
\end{itemize}
\item[--]
{\bf output}: return value or list of values according to chosen norm as np.array
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on CMSObjectComputeNorm see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/netgenSTLtest.py}{\texttt{netgenSTLtest.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolveCMStutorial.py}{\texttt{NGsolveCMStutorial.py}} (Ex)
\ei

%
\mysubsubsection{CLASS MaterialBaseClass (in module FEM)}
\noindent\textcolor{steelblue}{{\bf class description}}:  material base class, e.g., for FiniteElement
\vspace{3pt} \\ 
\mysubsubsection{CLASS KirchhoffMaterial(MaterialBaseClass) (in module FEM)}
\noindent\textcolor{steelblue}{{\bf class description}}:  class for representation of Kirchhoff (linear elastic, 3D and 2D) material
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf notes}: use planeStress=False for plane strain
\vspace{24pt}\end{itemize}
%
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L645}{Strain2Stress}{}}}\label{sec:FEM:KirchhoffMaterial(MaterialBaseClass):Strain2Stress}
({\it self}, {\it strain})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: convert strain tensor into stress tensor using elasticity tensor
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L656}{StrainVector2StressVector}{}}}\label{sec:FEM:KirchhoffMaterial(MaterialBaseClass):StrainVector2StressVector}
({\it self}, {\it strainVector})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: convert strain vector into stress vector
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L660}{StrainVector2StressVector2D}{}}}\label{sec:FEM:KirchhoffMaterial(MaterialBaseClass):StrainVector2StressVector2D}
({\it self}, {\it strainVector2D})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: compute 2D stress vector from strain vector
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L669}{LameParameters}{}}}\label{sec:FEM:KirchhoffMaterial(MaterialBaseClass):LameParameters}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: compute Lame parameters from internal Young's modulus and Poisson ratio
\item[--]\textcolor{steelblue}{\bf output}: return vector [mu, lam] of Lame parameters
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on KirchhoffMaterial see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/CMSexampleCourse.py}{\texttt{CMSexampleCourse.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/netgenSTLtest.py}{\texttt{netgenSTLtest.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolveCMStutorial.py}{\texttt{NGsolveCMStutorial.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolveCraigBampton.py}{\texttt{NGsolveCraigBampton.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolvePistonEngine.py}{\texttt{NGsolvePistonEngine.py}} (Ex), 
 ...

\ei

%
\mysubsubsection{CLASS FiniteElement (in module FEM)}
\noindent\textcolor{steelblue}{{\bf class description}}:  finite element base class for lateron implementations of other finite elements
\vspace{3pt} \\ 
\mysubsubsection{CLASS Tet4(FiniteElement) (in module FEM)}
\noindent\textcolor{steelblue}{{\bf class description}}:  simplistic 4-noded tetrahedral interface to compute strain/stress at nodal points
\vspace{3pt} \\ 
\mysubsubsection{CLASS ObjectFFRFinterface (in module FEM)}
\noindent\textcolor{steelblue}{{\bf class description}}:  compute terms necessary for ObjectFFRF
class used internally in FEMinterface to compute ObjectFFRF object
this class holds all data for ObjectFFRF user functions
\vspace{3pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L752}{\_\_init\_\_}{}}}\label{sec:FEM:ObjectFFRFinterface:__init__}
({\it self}, {\it femInterface})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]initialize ObjectFFRFinterface with FEMinterface class
\item[]initializes the ObjectFFRFinterface with nodes, modes, surface description and systemmatrices from FEMinterface
\item[]data is then transfered to mbs object with classFunction AddObjectFFRF(...)
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L797}{AddObjectFFRF}{}}}\label{sec:FEM:ObjectFFRFinterface:AddObjectFFRF}
({\it self}, {\it exu}, {\it mbs}, {\it positionRef}= [0,0,0], {\it eulerParametersRef}= [1,0,0,0], {\it initialVelocity}= [0,0,0], {\it initialAngularVelocity}= [0,0,0], {\it gravity}= [0,0,0], {\it constrainRigidBodyMotion}= True, {\it massProportionalDamping}= 0, {\it stiffnessProportionalDamping}= 0, {\it color}= [0.1,0.9,0.1,1.])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: add according nodes, objects and constraints for FFRF object to MainSystem mbs; only implemented for Euler parameters
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it exu}: the exudyn module
\item[]{\it mbs}: a MainSystem object
\item[]{\it positionRef}: reference position of created ObjectFFRF (set in rigid body node underlying to ObjectFFRF)
\item[]{\it eulerParametersRef}: reference euler parameters of created ObjectFFRF (set in rigid body node underlying to ObjectFFRF)
\item[]{\it initialVelocity}: initial velocity of created ObjectFFRF (set in rigid body node underlying to ObjectFFRF)
\item[]{\it initialAngularVelocity}: initial angular velocity of created ObjectFFRF (set in rigid body node underlying to ObjectFFRF)
\item[]{\it gravity}: set [0,0,0] if no gravity shall be applied, or to the gravity vector otherwise
\item[]{\it constrainRigidBodyMotion}: set True in order to add constraint (Tisserand frame) in order to suppress rigid motion of mesh nodes
\item[]{\it color}: provided as list of 4 RGBA values
\item[]add object to mbs as well as according nodes
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L876}{UFforce}{}}}\label{sec:FEM:ObjectFFRFinterface:UFforce}
({\it self}, {\it exu}, {\it mbs}, {\it t}, {\it q}, {\it q\_t})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: optional forceUserFunction for ObjectFFRF (per default, this user function is ignored)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L922}{UFmassGenericODE2}{}}}\label{sec:FEM:ObjectFFRFinterface:UFmassGenericODE2}
({\it self}, {\it exu}, {\it mbs}, {\it t}, {\it q}, {\it q\_t})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: optional massMatrixUserFunction for ObjectFFRF (per default, this user function is ignored)
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ObjectFFRFinterface see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectFFRFTest2.py}{\texttt{objectFFRFTest2.py}} (TM)
\ei

%
\mysubsubsection{CLASS ObjectFFRFreducedOrderInterface (in module FEM)}
\noindent\textcolor{steelblue}{{\bf class description}}:  compute terms necessary for ObjectFFRFreducedOrder
  class used internally in FEMinterface to compute ObjectFFRFreducedOrder dictionary
  this class holds all data for ObjectFFRFreducedOrder user functions
\vspace{3pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L1033}{\_\_init\_\_}{}}}\label{sec:FEM:ObjectFFRFreducedOrderInterface:__init__}
({\it self}, {\it femInterface}= None, {\it rigidBodyNodeType}= 'NodeType.RotationEulerParameters', {\it roundMassMatrix}= 1e-13, {\it roundStiffnessMatrix}= 1e-13)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]initialize ObjectFFRFreducedOrderInterface with FEMinterface class
\item[]initializes the ObjectFFRFreducedOrderInterface with nodes, modes, surface description and reduced system matrices from FEMinterface
\item[]data is then transfered to mbs object with classFunction AddObjectFFRFreducedOrderWithUserFunctions(...)
\end{itemize}
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it femInterface}: must provide nodes, surfaceTriangles, modeBasis, massMatrix, stiffness; if femInterface=None, an empty ObjectFFRFreducedOrderInterface instance is created which may be used to load data with LoadFromFile()
\item[]{\it roundMassMatrix}: use this value to set entries of reduced mass matrix to zero which are below the treshold
\item[]{\it roundStiffnessMatrix}: use this value to set entries of reduced stiffness matrix to zero which are below the treshold
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L1108}{SaveToFile}{}}}\label{sec:FEM:ObjectFFRFreducedOrderInterface:SaveToFile}
({\it self}, {\it fileName}, {\it fileVersion}= 1)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: save all data to a data filename; can be used to avoid loading femInterface and FE data
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it fileName}: string for path and file name without ending ==> ".npy" will be added
\item[]{\it fileVersion}: FOR EXPERTS: this allows to store in older format, will be recovered when loading; must be integer; version must by > 0; the default value will change in future!
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: stores file
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L1156}{LoadFromFile}{}}}\label{sec:FEM:ObjectFFRFreducedOrderInterface:LoadFromFile}
({\it self}, {\it fileName})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]load all data (nodes, elements, ...) from a data filename previously stored with SaveToFile(...).
\item[]this function is much faster than the text-based import functions
\end{itemize}
\item[--]\textcolor{steelblue}{\bf input}: fileName: string for path and file name without ending ==> ".npy" will be added
\item[--]\textcolor{steelblue}{\bf output}: loads data into fem (note that existing values are not overwritten!)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L1226}{AddObjectFFRFreducedOrderWithUserFunctions}{}}}\label{sec:FEM:ObjectFFRFreducedOrderInterface:AddObjectFFRFreducedOrderWithUserFunctions}
({\it self}, {\it exu}, {\it mbs}, {\it positionRef}= [0,0,0], {\it initialVelocity}= [0,0,0], {\it rotationMatrixRef}= [], {\it initialAngularVelocity}= [0,0,0], {\it gravity}= [0,0,0], {\it UFforce}= 0, {\it UFmassMatrix}= 0, {\it massProportionalDamping}= 0, {\it stiffnessProportionalDamping}= 0, {\it color}= [0.1,0.9,0.1,1.], {\it eulerParametersRef}= [])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: add according nodes, objects and constraints for ObjectFFRFreducedOrder object to MainSystem mbs; use this function with userfunctions=0 in order to use internal C++ functionality, which is approx. 10x faster; implementation of userfunctions also available for rotation vector (Lie group formulation), which needs further testing
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it exu}: the exudyn module
\item[]{\it mbs}: a MainSystem object
\item[]{\it positionRef}: reference position of created ObjectFFRFreducedOrder (set in rigid body node underlying to ObjectFFRFreducedOrder)
\item[]{\it initialVelocity}: initial velocity of created ObjectFFRFreducedOrder (set in rigid body node underlying to ObjectFFRFreducedOrder)
\item[]{\it rotationMatrixRef}: reference rotation of created ObjectFFRFreducedOrder (set in rigid body node underlying to ObjectFFRFreducedOrder); if [], it becomes the unit matrix
\item[]{\it initialAngularVelocity}: initial angular velocity of created ObjectFFRFreducedOrder (set in rigid body node underlying to ObjectFFRFreducedOrder)
\item[]{\it eulerParametersRef}: DEPRECATED, use rotationParametersRef or rotationMatrixRef in future: reference euler parameters of created ObjectFFRFreducedOrder (set in rigid body node underlying to ObjectFFRFreducedOrder)
\item[]{\it gravity}: set [0,0,0] if no gravity shall be applied, or to the gravity vector otherwise
\item[]{\it UFforce}: (OPTIONAL, computation is slower) provide a user function, which computes the quadratic velocity vector and applied forces; see example
\item[]{\it UFmassMatrix}: (OPTIONAL, computation is slower) provide a user function, which computes the quadratic velocity vector and applied forces; see example
\item[]{\it massProportionalDamping}: Rayleigh damping factor for mass proportional damping (multiplied with reduced mass matrix), added to floating frame/modal coordinates only
\item[]{\it stiffnessProportionalDamping}: Rayleigh damping factor for stiffness proportional damping, added to floating frame/modal coordinates only (multiplied with reduced stiffness matrix)
\item[]{\it color}: provided as list of 4 RGBA values
\end{itemize}
\item[--]\textcolor{steelblue}{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  #example of a user function for forces:
  def UFforceFFRFreducedOrder(mbs, t, itemIndex, qReduced, qReduced_t):
      return cms.UFforceFFRFreducedOrder(exu, mbs, t, qReduced, qReduced_t)
  #example of a user function for mass matrix:
  def UFmassFFRFreducedOrder(mbs, t, itemIndex, qReduced, qReduced\_t):
      return cms.UFmassFFRFreducedOrder(exu, mbs, t, qReduced, qReduced\_t)
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L1379}{UFmassFFRFreducedOrder}{}}}\label{sec:FEM:ObjectFFRFreducedOrderInterface:UFmassFFRFreducedOrder}
({\it self}, {\it exu}, {\it mbs}, {\it t}, {\it qReduced}, {\it qReduced\_t})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: CMS mass matrix user function; qReduced and qReduced\_t contain the coordiantes of the rigid body node and the modal coordinates in one vector!
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L1430}{UFforceFFRFreducedOrder}{}}}\label{sec:FEM:ObjectFFRFreducedOrderInterface:UFforceFFRFreducedOrder}
({\it self}, {\it exu}, {\it mbs}, {\it t}, {\it qReduced}, {\it qReduced\_t})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: CMS force matrix user function; qReduced and qReduced\_t contain the coordiantes of the rigid body node and the modal coordinates in one vector!
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L1513}{AddObjectFFRFreducedOrder}{}}}\label{sec:FEM:ObjectFFRFreducedOrderInterface:AddObjectFFRFreducedOrder}
({\it self}, {\it mbs}, {\it positionRef}= [0,0,0], {\it initialVelocity}= [0,0,0], {\it rotationMatrixRef}= [], {\it initialAngularVelocity}= [0,0,0], {\it massProportionalDamping}= 0, {\it stiffnessProportionalDamping}= 0, {\it gravity}= [0,0,0], {\it color}= [0.1,0.9,0.1,1.])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: add according nodes, objects and constraints for ObjectFFRFreducedOrder object to MainSystem mbs; use this function in order to use internal C++ functionality, which is approx. 10x faster than AddObjectFFRFreducedOrderWithUserFunctions(...)
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it exu}: the exudyn module
\item[]{\it mbs}: a MainSystem object
\item[]{\it positionRef}: reference position of created ObjectFFRFreducedOrder (set in rigid body node underlying to ObjectFFRFreducedOrder)
\item[]{\it initialVelocity}: initial velocity of created ObjectFFRFreducedOrder (set in rigid body node underlying to ObjectFFRFreducedOrder)
\item[]{\it rotationMatrixRef}: reference rotation of created ObjectFFRFreducedOrder (set in rigid body node underlying to ObjectFFRFreducedOrder); if [], it becomes the unit matrix
\item[]{\it initialAngularVelocity}: initial angular velocity of created ObjectFFRFreducedOrder (set in rigid body node underlying to ObjectFFRFreducedOrder)
\item[]{\it massProportionalDamping}: Rayleigh damping factor for mass proportional damping, added to floating frame/modal coordinates only
\item[]{\it stiffnessProportionalDamping}: Rayleigh damping factor for stiffness proportional damping, added to floating frame/modal coordinates only
\item[]{\it gravity}: set [0,0,0] if no gravity shall be applied, or to the gravity vector otherwise
\item[]{\it color}: provided as list of 4 RGBA values
\end{itemize}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ObjectFFRFreducedOrderInterface see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/CMSexampleCourse.py}{\texttt{CMSexampleCourse.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/netgenSTLtest.py}{\texttt{netgenSTLtest.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolveCMStutorial.py}{\texttt{NGsolveCMStutorial.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolveCraigBampton.py}{\texttt{NGsolveCraigBampton.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolvePistonEngine.py}{\texttt{NGsolvePistonEngine.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/abaqusImportTest.py}{\texttt{abaqusImportTest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/NGsolveCrankShaftTest.py}{\texttt{NGsolveCrankShaftTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectFFRFreducedOrderAccelerations.py}{\texttt{objectFFRFreducedOrderAccelerations.py}} (TM), 
 ...

\ei

%
\mysubsubsection{CLASS HCBstaticModeSelection(Enum) (in module FEM)}
\noindent\textcolor{steelblue}{{\bf class description}}:  helper calss for function ComputeHurtyCraigBamptonModes, declaring some computation options. It offers the following options:\\
 - allBoundaryNodes:     compute a single static mode for every boundary coordinate\\
 - RBE2:                 static modes only for rigid body motion at boundary nodes; using rigid boundary surfaces (additional stiffening)\\
 - RBE3:                 static modes only for rigid body motion at boundary nodes; averaged rigid body motion at boundary surfaces (leads to deformation at boundaries)\\
 - noStaticModes:        do not compute static modes, only eigen modes (not recommended; usually only for tests)
\vspace{3pt} \\ 
\mysubsubsection{CLASS FEMinterface (in module FEM)}
\noindent\textcolor{steelblue}{{\bf class description}}:  general interface to different FEM / mesh imports and export to EXUDYN functions
         use this class to import meshes from different meshing or FEM programs (NETGEN/NGsolve \cite{NGsolve2022}, ABAQUS, ANSYS, ..) and store it in a unique format
         do mesh operations, compute eigenmodes and reduced basis, etc.
         load/store the data efficiently with LoadFromFile(...), SaveToFile(...)  if import functions are slow
         export to EXUDYN objects
\vspace{3pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L1564}{\_\_init\_\_}{}}}\label{sec:FEM:FEMinterface:__init__}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initalize all data of the FEMinterface by, e.g., \texttt{fem = FEMinterface()}
\item[--]\textcolor{steelblue}{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  #**** this is not an example, just a description for internal variables ****
  #default values for member variables stored internally in FEMinterface fem and typical structure:
  fem.nodes = {}                 # {'Position':[[x0,y0,z0],...], 'RigidBodyRxyz':[[x0,y0,z0],...],  },...]                     #dictionary of different node lists
  fem.elements = []              # [{'Name':'identifier', 'Tet4':[[n0,n1,n2,n3],...], 'Hex8':[[n0,...,n7],...],  },...]        #there may be several element sets
  fem.massMatrix = np.zeros((0,0))    # np.array([[r0,c0,value0],[r1,c1,value1], ... ])                                #currently only in SparseCSR format allowed!
  fem.stiffnessMatrix=np.zeros((0,0)) # np.array([[r0,c0,value0],[r1,c1,value1], ... ])                                #currently only in SparseCSR format allowed!
  fem.surface = []               # [{'Name':'identifier', 'Trigs':[[n0,n1,n2],...], 'Quads':[[n0,...,n3],...],  },...]           #surface with faces
  fem.nodeSets = []              # [{'Name':'identifier', 'NodeNumbers':[n_0,...,n_ns], 'NodeWeights':[w_0,...,w_ns]},...]     #for boundary conditions, etc.
  fem.elementSets = []           # [{'Name':'identifier', 'ElementNumbers':[n_0,...,n_ns]},...]                                #for different volumes, etc.
  fem.modeBasis = {}             # {'matrix':[[Psi_00,Psi_01, ..., Psi_0m],...,[Psi_n0,Psi_n1, ..., Psi_nm]],'type':'NormalModes'} #'NormalModes' are eigenmodes, 'HCBmodes' are Craig-Bampton modes including static modes
  fem.eigenValues = []           # [ev0, ev1, ...]                                                                             #eigenvalues according to eigenvectors in mode basis
  fem.postProcessingModes = {}   # {'matrix':<matrix containing stress components (xx,yy,zz,yz,xz,xy) in each column, rows are for every mesh node>,'outputVariableType':exudyn.OutputVariableType.StressLocal}
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L1589}{SaveToFile}{}}}\label{sec:FEM:FEMinterface:SaveToFile}
({\it self}, {\it fileName}, {\it fileVersion}= 13)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: save all data (nodes, elements, ...) to a data filename; this function is much faster than the text-based import functions
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it fileName}: string for path and file name without ending ==> ".npy" will be added
\item[]{\it fileVersion}: FOR EXPERTS: this allows to store in older format, will be recovered when loading; must be integer; version must by > 0
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: stores file
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L1625}{LoadFromFile}{}}}\label{sec:FEM:FEMinterface:LoadFromFile}
({\it self}, {\it fileName}, {\it forceVersion}= None)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]load all data (nodes, elements, ...) from a data filename previously stored with SaveToFile(...).
\item[]this function is much faster than the text-based import functions
\end{itemize}
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it fileName}: string for path and file name without ending ==> ".npy" will be added
\item[]{\it forceVersion}: FOR EXPERTS: this allows to store in older format, will be recovered when loading; must be integer; for old files, use forceVersion=0
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: loads data into fem (note that existing values are not overwritten!); returns file version or None if version is not available
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L1677}{ImportFromAbaqusInputFile}{}}}\label{sec:FEM:FEMinterface:ImportFromAbaqusInputFile}
({\it self}, {\it fileName}, {\it typeName}= 'Part', {\it name}= 'Part-1', {\it verbose}= False, {\it createSurfaceTrigs}= True, {\it surfaceTrigsAll}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]import nodes and elements from Abaqus input file and create surface elements;
\item[]node numbers in elements are converted from 1-based indices to python's 0-based indices;
\item[]This function can only import one part or instance; this means that you have to merge all
\item[]instances or parts in order to use this function for import of flexible bodies for order reduction methods
\end{itemize}
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it fileName}: file name incl. path
\item[]{\it typeName}: this is what is searched for regarding nodes and elements, see your .inp file
\item[]{\it name}: if there are several parts, this name should address the according part name
\item[]{\it verbose}: use True for some debug information
\item[]{\it createSurfaceTrigs}: if True, triangles are created for visualization (triangles both for Tet and Hex elements)
\item[]{\it surfaceTrigsAll}: if False, visualization triangles are created at the surface; if True, surface triangles are created also for interior elements
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: return node numbers as numpy array
\item[--]\textcolor{steelblue}{\bf notes}: only works for Hex8, Hex20, Tet4 and Tet10 (C3D4, C3D8, C3D8R, C3D10, C3D20, C3D20R) elements; some functionality is untested and works in limited cases; only works for one single part or instance
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L1846}{ReadMassMatrixFromAbaqus}{}}}\label{sec:FEM:FEMinterface:ReadMassMatrixFromAbaqus}
({\it self}, {\it fileName}, {\it type}= 'SparseRowColumnValue')
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]read mass matrix from compressed row text format (exported from Abaqus); in order to export system matrices, write the following lines in your Abaqus input file:
\item[]*STEP
\item[]*MATRIX GENERATE, STIFFNESS, MASS
\item[]*MATRIX OUTPUT, STIFFNESS, MASS, FORMAT=COORDINATE
\item[]*End Step
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L1852}{ReadStiffnessMatrixFromAbaqus}{}}}\label{sec:FEM:FEMinterface:ReadStiffnessMatrixFromAbaqus}
({\it self}, {\it fileName}, {\it type}= 'SparseRowColumnValue')
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: read stiffness matrix from compressed row text format (exported from Abaqus)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L1877}{ImportMeshFromNGsolve}{}}}\label{sec:FEM:FEMinterface:ImportMeshFromNGsolve}
({\it self}, {\it mesh}, {\it density}, {\it youngsModulus}, {\it poissonsRatio}, {\it verbose}= False, {\it computeEigenmodes}= False, {\it meshOrder}= 1, {\it **kwargs})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: import mesh from NETGEN/NGsolve and setup mechanical problem
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mesh}: a previously created \texttt{ngs.mesh} (NGsolve mesh, see examples)
\item[]{\it youngsModulus}: Young's modulus used for mechanical model
\item[]{\it poissonsRatio}: Poisson's ratio used for mechanical model
\item[]{\it density}: density used for mechanical model
\item[]{\it meshOrder}: use 1 for linear elements and 2 for second order elements (recommended to use 2 for much higher accuracy!)
\item[]{\it verbose}: set True to print out some status information
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: creates according nodes, elements, in FEM and returns [bfM, bfK, fes] which are the (mass matrix M, stiffness matrix K) bilinear forms and the finite element space fes
\item[--]\textcolor{steelblue}{\bf author}: Johannes Gerstmayr, Joachim Sch\"oberl
\item[--]\textcolor{steelblue}{\bf notes}: setting ngsolve.SetNumThreads(nt) you can select the number of treads that are used for assemble or other functionality with NGsolve functionality
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2062}{ComputeEigenmodesNGsolve}{}}}\label{sec:FEM:FEMinterface:ComputeEigenmodesNGsolve}
({\it self}, {\it bfM}, {\it bfK}, {\it nModes}, {\it maxEigensolveIterations}= 40, {\it excludeRigidBodyModes}= 0, {\it verbose}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: compute nModes smallest eigenvalues and eigenmodes from mass and stiffnessMatrix; store mode vectors in modeBasis, but exclude a number of 'excludeRigidBodyModes' rigid body modes from modeBasis; uses scipy for solution of generalized eigenvalue problem
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it nModes}: prescribe the number of modes to be computed; total computed modes are  (nModes+excludeRigidBodyModes), but only nModes with smallest absolute eigenvalues are considered and stored
\item[]{\it excludeRigidBodyModes}: if rigid body modes are expected (in case of free-free modes), then this number specifies the number of eigenmodes to be excluded in the stored basis (usually 6 modes in 3D)
\item[]{\it maxEigensolveIterations}: maximum number of iterations for iterative eigensolver; default=40
\item[]{\it verbose}: if True, output some relevant information during solving
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: eigenmodes are stored internally in FEMinterface as 'modeBasis' and eigenvalues as 'eigenValues'
\item[--]\textcolor{steelblue}{\bf author}: Johannes Gerstmayr, Joachim Sch\"oberl
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2104}{ComputeHurtyCraigBamptonModesNGsolve}{}}}\label{sec:FEM:FEMinterface:ComputeHurtyCraigBamptonModesNGsolve}
({\it self}, {\it bfM}, {\it bfK}, {\it boundaryNodesList}, {\it nEigenModes}, {\it maxEigensolveIterations}= 40, {\it verbose}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: compute static  and eigen modes based on Hurty-Craig-Bampton, for details see theory part \refSection{sec:theory:CMS}. This function uses internal computational functionality of NGsolve and is often much faster than the scipy variant
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it bfM}: bilinearform for mass matrix as retured in ImportMeshFromNGsolve(...)
\item[]{\it bfK}: bilinearform for stiffness matrix as retured in ImportMeshFromNGsolve(...)
\item[]{\it boundaryNodesList}: [nodeList0, nodeList1, ...] a list of node lists, each of them representing a set of 'Position' nodes for which a rigid body interface (displacement/rotation and force/torque) is created; NOTE THAT boundary nodes may not overlap between the different node lists (no duplicated node indices!)
\item[]{\it nEigenModes}: number of eigen modes in addition to static modes (may be zero for RBE2 computationMode); eigen modes are computed for the case where all rigid body motions at boundaries are fixed; only smallest nEigenModes absolute eigenvalues are considered
\item[]{\it maxEigensolveIterations}: maximum number of iterations for iterative eigensolver; default=40
\item[]{\it verbose}: if True, output some relevant information during solving
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: stores computed modes in self.modeBasis and abs(eigenvalues) in self.eigenValues
\item[--]\textcolor{steelblue}{\bf author}: Johannes Gerstmayr, Joachim Sch\"oberl
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2245}{ComputePostProcessingModesNGsolve}{}}}\label{sec:FEM:FEMinterface:ComputePostProcessingModesNGsolve}
({\it self}, {\it fes}, {\it material}= 0, {\it outputVariableType}= 'OutputVariableType.StressLocal', {\it verbose}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: compute special stress or strain modes in order to enable visualization of stresses and strains in ObjectFFRFreducedOrder; takes a NGsolve fes as input and uses internal NGsolve methods to efficiently compute stresses or strains
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it fes}: finite element space as retured in ImportMeshFromNGsolve(...)
\item[]{\it material}: specify material properties for computation of stresses, using a material class, e.g. material = KirchhoffMaterial(Emodulus, nu, rho); not needed for strains (material = 0)
\item[]{\it outputVariableType}: specify either exudyn.OutputVariableType.StressLocal or exudyn.OutputVariableType.StrainLocal as the desired output variables
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: post processing modes are stored in FEMinterface in local variable postProcessingModes as a dictionary, where 'matrix' represents the modes and 'outputVariableType' stores the type of mode as a OutputVariableType
\item[--]\textcolor{steelblue}{\bf author}: Johannes Gerstmayr, Joachim Sch\"oberl
\item[--]\textcolor{steelblue}{\bf notes}: This function is implemented in Python and rather slow for larger meshes; for NGsolve / Netgen meshes, see the according ComputePostProcessingModesNGsolve function, which is usually much faster
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2320}{GetMassMatrix}{}}}\label{sec:FEM:FEMinterface:GetMassMatrix}
({\it self}, {\it sparse}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: get sparse mass matrix in according format
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2327}{GetStiffnessMatrix}{}}}\label{sec:FEM:FEMinterface:GetStiffnessMatrix}
({\it self}, {\it sparse}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: get sparse stiffness matrix in according format
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2334}{NumberOfNodes}{}}}\label{sec:FEM:FEMinterface:NumberOfNodes}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: get total number of nodes
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2346}{GetNodePositionsAsArray}{}}}\label{sec:FEM:FEMinterface:GetNodePositionsAsArray}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: get node points as array; only possible, if there exists only one type of Position nodes
\item[--]\textcolor{steelblue}{\bf notes}: in order to obtain a list of certain node positions, see example
\item[--]\textcolor{steelblue}{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  p=GetNodePositionsAsArray(self)[42] #get node 42 position
  nodeList=[1,13,42]
  pArray=GetNodePositionsAsArray(self)[nodeList] #get np.array with positions of node indices
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2354}{GetNodePositionsMean}{}}}\label{sec:FEM:FEMinterface:GetNodePositionsMean}
({\it self}, {\it nodeNumberList})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: get mean (average) position of nodes defined by list of node numbers
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2361}{NumberOfCoordinates}{}}}\label{sec:FEM:FEMinterface:NumberOfCoordinates}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: get number of total nodal coordinates
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2369}{GetNodeAtPoint}{}}}\label{sec:FEM:FEMinterface:GetNodeAtPoint}
({\it self}, {\it point}, {\it tolerance}= 1e-5, {\it raiseException}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]get node number for node at given point, e.g. p=[0.1,0.5,-0.2], using a tolerance (+/-) if coordinates are available only with reduced accuracy
\item[]if not found, it returns an invalid index
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2385}{GetNodesInPlane}{}}}\label{sec:FEM:FEMinterface:GetNodesInPlane}
({\it self}, {\it point}, {\it normal}, {\it tolerance}= 1e-5)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]get node numbers in plane defined by point p and (normalized) normal vector n using a tolerance for the distance to the plane
\item[]if not found, it returns an empty list
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2401}{GetNodesInCube}{}}}\label{sec:FEM:FEMinterface:GetNodesInCube}
({\it self}, {\it pMin}, {\it pMax})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: get node numbers in cube, given by pMin and pMax, containing the minimum and maximum x, y, and z coordinates
\item[--]\textcolor{steelblue}{\bf output}: returns list of nodes; if no nodes found, return an empty list
\item[--]\textcolor{steelblue}{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  nList = GetNodesInCube([-1,-0.2,0],[1,0.5,0.5])
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2416}{GetNodesOnLine}{}}}\label{sec:FEM:FEMinterface:GetNodesOnLine}
({\it self}, {\it p1}, {\it p2}, {\it tolerance}= 1e-5)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: get node numbers lying on line defined by points p1 and p2 and tolerance, which is accepted for points slightly outside the surface
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2422}{GetNodesOnCylinder}{}}}\label{sec:FEM:FEMinterface:GetNodesOnCylinder}
({\it self}, {\it p1}, {\it p2}, {\it radius}, {\it tolerance}= 1e-5)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]get node numbers lying on cylinder surface; cylinder defined by cylinder axes (points p1 and p2),
\item[]cylinder radius and tolerance, which is accepted for points slightly outside the surface
\item[]if not found, it returns an empty list
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2450}{GetNodesOnCircle}{}}}\label{sec:FEM:FEMinterface:GetNodesOnCircle}
({\it self}, {\it point}, {\it normal}, {\it r}, {\it tolerance}= 1e-5)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]get node numbers lying on a circle, by point p, (normalized) normal vector n (which is the axis of the circle) and radius r
\item[]using a tolerance for the distance to the plane
\item[]if not found, it returns an empty list
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2470}{GetNodeWeightsFromSurfaceAreas}{}}}\label{sec:FEM:FEMinterface:GetNodeWeightsFromSurfaceAreas}
({\it self}, {\it nodeList}, {\it normalizeWeights}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]return list of node weights based on surface triangle areas; surface triangles are identified as such for which all nodes of a triangle are on the surface
\item[]{\it **nodes}: requires that surface triangles have been already built during import of finite element mesh, or by calling VolumeToSurfaceElements!
\end{itemize}
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it nodeList}: list of local (Position) node numbers
\item[]{\it normalizeWeights}: if True, weights are normalized to sum(weights)==1; otherwise, returned list contains areas according to nodes per
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: numpy array with weights according to indices in node list
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2522}{GetSurfaceTriangles}{}}}\label{sec:FEM:FEMinterface:GetSurfaceTriangles}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: return surface trigs as node number list (for drawing in EXUDYN and for node weights)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2532}{VolumeToSurfaceElements}{}}}\label{sec:FEM:FEMinterface:VolumeToSurfaceElements}
({\it self}, {\it verbose}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]generate surface elements from volume elements
\item[]stores the surface in self.surface
\item[]only works for one element list and only for element types 'Hex8', 'Hex20', 'Tet4' and 'Tet10'
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2661}{GetGyroscopicMatrix}{}}}\label{sec:FEM:FEMinterface:GetGyroscopicMatrix}
({\it self}, {\it rotationAxis}= 2, {\it sparse}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: get gyroscopic matrix in according format; rotationAxis=[0,1,2] = [x,y,z]
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2690}{ScaleMassMatrix}{}}}\label{sec:FEM:FEMinterface:ScaleMassMatrix}
({\it self}, {\it factor})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: scale (=multiply) mass matrix with factor
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2694}{ScaleStiffnessMatrix}{}}}\label{sec:FEM:FEMinterface:ScaleStiffnessMatrix}
({\it self}, {\it factor})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: scale (=multiply) stiffness matrix with factor
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2700}{AddElasticSupportAtNode}{}}}\label{sec:FEM:FEMinterface:AddElasticSupportAtNode}
({\it self}, {\it nodeNumber}, {\it springStiffness}= [1e8,1e8,1e8])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]modify stiffness matrix to add elastic support (joint, etc.) to a node; nodeNumber zero based (as everywhere in the code...)
\item[]springStiffness must have length according to the node size
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2716}{AddNodeMass}{}}}\label{sec:FEM:FEMinterface:AddNodeMass}
({\it self}, {\it nodeNumber}, {\it addedMass})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: modify mass matrix by adding a mass to a certain node, modifying directly the mass matrix
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2736}{CreateLinearFEMObjectGenericODE2}{}}}\label{sec:FEM:FEMinterface:CreateLinearFEMObjectGenericODE2}
({\it self}, {\it mbs}, {\it color}= [0.9,0.4,0.4,1.])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: create GenericODE2 object out of (linear) FEM model; uses always the sparse matrix mode, independent of the solver settings; this model can be directly used inside the multibody system as a static or dynamic FEM subsystem undergoing small deformations; computation is several magnitudes slower than ObjectFFRFreducedOrder
\item[--]\textcolor{steelblue}{\bf input}: mbs: multibody system to which the GenericODE2 is added
\item[--]\textcolor{steelblue}{\bf output}: return list [oGenericODE2, nodeList] containing object number of GenericODE2 as well as the list of mbs node numbers of all NodePoint nodes
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2779}{CreateNonlinearFEMObjectGenericODE2NGsolve}{}}}\label{sec:FEM:FEMinterface:CreateNonlinearFEMObjectGenericODE2NGsolve}
({\it self}, {\it mbs}, {\it mesh}, {\it density}, {\it youngsModulus}, {\it poissonsRatio}, {\it meshOrder}= 1, {\it color}= [0.9,0.4,0.4,1.])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: create GenericODE2 object fully nonlinear FEM model using NGsolve; uses always the sparse matrix mode, independent of the solver settings; this model can be directly used inside the multibody system as a static or dynamic nonlinear FEM subsystem undergoing large deformations; computation is several magnitudes slower than ObjectFFRFreducedOrder
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: multibody system to which the GenericODE2 is added
\item[]{\it mesh}: a previously created \texttt{ngs.mesh} (NGsolve mesh, see examples)
\item[]{\it youngsModulus}: Young's modulus used for mechanical model
\item[]{\it poissonsRatio}: Poisson's ratio used for mechanical model
\item[]{\it density}: density used for mechanical model
\item[]{\it meshOrder}: use 1 for linear elements and 2 for second order elements (recommended to use 2 for much higher accuracy!)
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: return list [oGenericODE2, nodeList] containing object number of GenericODE2 as well as the list of mbs node numbers of all NodePoint nodes
\item[--]\textcolor{steelblue}{\bf author}: Johannes Gerstmayr, Joachim Sch\"oberl
\item[--]\textcolor{steelblue}{\bf notes}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]The interface to NETGEN/NGsolve has been created together with Joachim Sch\"oberl, main developer
\item[]of NETGEN/NGsolve \cite{Schoeberl1997,NGsolve2014}; Thank's a lot!
\item[]download NGsolve at: https://ngsolve.org/
\item[]NGsolve needs Python 3.7 (64bit) ==> use according EXUDYN version!
\item[]note that node/element indices in the NGsolve mesh are 1-based and need to be converted to 0-base!
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2885}{ComputeEigenmodes}{}}}\label{sec:FEM:FEMinterface:ComputeEigenmodes}
({\it self}, {\it nModes}, {\it excludeRigidBodyModes}= 0, {\it useSparseSolver}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: compute nModes smallest eigenvalues and eigenmodes from mass and stiffnessMatrix; store mode vectors in modeBasis, but exclude a number of 'excludeRigidBodyModes' rigid body modes from modeBasis; uses scipy for solution of generalized eigenvalue problem
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it nModes}: prescribe the number of modes to be computed; total computed modes are  (nModes+excludeRigidBodyModes), but only nModes with smallest absolute eigenvalues are considered and stored
\item[]{\it excludeRigidBodyModes}: if rigid body modes are expected (in case of free-free modes), then this number specifies the number of eigenmodes to be excluded in the stored basis (usually 6 modes in 3D)
\item[]{\it useSparseSolver}: for larger systems, the sparse solver needs to be used, which iteratively solves the problem and uses a random number generator (internally in ARPACK): therefore, results are not fully repeatable!!!
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: eigenmodes are stored internally in FEMinterface as 'modeBasis' and eigenvalues as 'eigenValues'
\item[--]\textcolor{steelblue}{\bf notes}: for NGsolve / Netgen meshes, see the according ComputeEigenmodesNGsolve function, which is usually much faster
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L2929}{ComputeEigenModesWithBoundaryNodes}{}}}\label{sec:FEM:FEMinterface:ComputeEigenModesWithBoundaryNodes}
({\it self}, {\it boundaryNodes}, {\it nEigenModes}, {\it useSparseSolver}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: compute eigenmodes, using a set of boundary nodes that are all fixed; very similar to ComputeEigenmodes, but with additional definition of (fixed) boundary nodes.
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it boundaryNodes}: a list of boundary node indices, refering to 'Position' type nodes in FEMinterface; all coordinates of these nodes are fixed for the computation of the modes
\item[]{\it nEigenModes}: prescribe the number of modes to be computed; only nEigenModes with smallest abs(eigenvalues) are considered and stored
\item[]{\it useSparseSolver}: [yet NOT IMPLEMENTED] for larger systems, the sparse solver needs to be used, which iteratively solves the problem and uses a random number generator (internally in ARPACK): therefore, results are not fully repeatable!!!
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: eigenmodes are stored internally in FEMinterface as 'modeBasis' and eigenvalues as 'eigenValues'
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L3014}{ComputeHurtyCraigBamptonModes}{}}}\label{sec:FEM:FEMinterface:ComputeHurtyCraigBamptonModes}
({\it self}, {\it boundaryNodesList}, {\it nEigenModes}, {\it useSparseSolver}= True, {\it computationMode}= HCBstaticModeSelection.RBE2, {\it boundaryNodesWeights}= [], {\it excludeRigidBodyMotion}= True, {\it RBE3secondMomentOfAreaWeighting}= True, {\it verboseMode}= False, {\it timerTreshold}= 20000)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: compute static  and eigen modes based on Hurty-Craig-Bampton, for details see theory part \refSection{sec:theory:CMS}. Note that this function may need significant time, depending on your hardware, but 50.000 nodes will require approx. 1-2 minutes and more nodes typically raise time more than linearly.
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it boundaryNodesList}: [nodeList0, nodeList1, ...] a list of node lists, each of them representing a set of 'Position' nodes for which a rigid body interface (displacement/rotation and force/torque) is created; NOTE THAT boundary nodes may not overlap between the different node lists (no duplicated node indices!)
\item[]{\it nEigenModes}: number of eigen modes in addition to static modes (may be zero for RBE2/RBE3 computationMode); eigen modes are computed for the case where all rigid body motions at boundaries are fixed; only smallest nEigenModes absolute eigenvalues are considered
\item[]{\it useSparseSolver}: for more than approx.~500 nodes, it is recommended to use the sparse solver; dense mode not available for RBE3
\item[]{\it computationMode}: see class HCBstaticModeSelection for available modes; select RBE2 / RBE3 as standard, which is both efficient and accurate and which uses rigid-body-interfaces (6 independent modes) per boundary; RBE3 mode uses singular value decomposition, which requires full matrices for boundary nodes; this becomes slow in particular if the number of a single boundary node set gets larger than 500 nodes
\item[]{\it boundaryNodesWeights}: according list of weights with same order as boundaryNodesList, as returned e.g. by FEMinterface.GetNodeWeightsFromSurfaceAreas(...)
\item[]{\it excludeRigidBodyMotion}: if True (recommended), the first set of boundary modes is eliminated, which defines the reference conditions for the FFRF object
\item[]{\it RBE3secondMomentOfAreaWeighting}: if True, the weighting of RBE3 boundaries is done according to second moment of area; if False, the more conventional (but less appropriate) quadratic distance to reference point weighting is used
\item[]{\it verboseMode}: if True, some additional output is printed
\item[]{\it timerTreshold}: for more DOF than this number, CPU times are printed even with verboseMode=False
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: stores computed modes in self.modeBasis and abs(eigenvalues) in self.eigenValues
\item[--]\textcolor{steelblue}{\bf notes}: for NGsolve / Netgen meshes, see the according ComputeHurtyCraigBamptonModesNGsolve function, which is usually much faster - currently only implemented for RBE2 case
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L3422}{GetEigenFrequenciesHz}{}}}\label{sec:FEM:FEMinterface:GetEigenFrequenciesHz}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: return list of eigenvalues in Hz of previously computed eigenmodes
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L3482}{ComputePostProcessingModes}{}}}\label{sec:FEM:FEMinterface:ComputePostProcessingModes}
({\it self}, {\it material}= 0, {\it outputVariableType}= 'OutputVariableType.StressLocal', {\it numberOfThreads}= 1)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: compute special stress or strain modes in order to enable visualization of stresses and strains in ObjectFFRFreducedOrder;
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it material}: specify material properties for computation of stresses, using a material class, e.g. material = KirchhoffMaterial(Emodulus, nu, rho); not needed for strains
\item[]{\it outputVariableType}: specify either exudyn.OutputVariableType.StressLocal or exudyn.OutputVariableType.StrainLocal as the desired output variables
\item[]{\it numberOfThreads}: if numberOfThreads=1, it uses single threaded computation; if numberOfThreads>1, it uses the multiprocessing pools functionality, which requires that all code in your main file must be encapsulated within an if clause "if \_\_name\_\_ == '\_\_main\_\_':", see examples; if numberOfThreads==-1, it uses all threads/CPUs available
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: post processing modes are stored in FEMinterface in local variable postProcessingModes as a dictionary, where 'matrix' represents the modes and 'outputVariableType' stores the type of mode as a OutputVariableType
\item[--]\textcolor{steelblue}{\bf notes}: This function is implemented in Python and rather slow for larger meshes; for NGsolve / Netgen meshes, see the according ComputePostProcessingModesNGsolve function, which is usually much faster
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L3600}{ComputeCampbellDiagram}{}}}\label{sec:FEM:FEMinterface:ComputeCampbellDiagram}
({\it self}, {\it terminalFrequency}, {\it nEigenfrequencies}= 10, {\it frequencySteps}= 25, {\it rotationAxis}= 2, {\it plotDiagram}= False, {\it verbose}= False, {\it useCorotationalFrame}= False, {\it useSparseSolver}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]compute Campbell diagram for given mechanical system
\item[]create a first order system Axd + Bx = 0 with x= [q,qd]' and compute eigenvalues
\item[]takes mass M, stiffness K and gyroscopic matrix G from FEMinterface
\item[]currently only uses dense matrices, so it is limited to approx. 5000 unknowns!
\end{itemize}
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it terminalFrequency}: frequency in Hz, up to which the campbell diagram is computed
\item[]{\it nEigenfrequencies}: gives the number of computed eigenfrequencies(modes), in addition to the rigid body mode 0
\item[]{\it frequencySteps}: gives the number of increments (gives frequencySteps+1 total points in campbell diagram)
\item[]{\it rotationAxis}:[0,1,2] = [x,y,z] provides rotation axis
\item[]{\it plotDiagram}: if True, plots diagram for nEigenfrequencies befor terminating
\item[]{\it verbose}: if True, shows progress of computation; if verbose=2, prints also eigenfrequencies
\item[]{\it useCorotationalFrame}: if False, the classic rotor dynamics formulation for rotationally-symmetric rotors is used, where the rotor can be understood in a Lagrangian-Eulerian manner: the rotation is represented by an additional (Eulerian) velocity in rotation direction; if True, the corotational frame is used, which gives a factor 2 in the gyroscopic matrix and can be used for non-symmetric rotors as well
\item[]{\it useSparseSolver}: for larger systems, the sparse solver needs to be used for creation of system matrices and for the eigenvalue solver (uses a random number generator internally in ARPACK, therefore, results are not fully repeatable!!!)
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[][listFrequencies, campbellFrequencies]
\item[]{\it listFrequencies}: list of computed frequencies
\item[]{\it campbellFrequencies}: array of campbell frequencies per eigenfrequency of system
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L3785}{CheckConsistency}{}}}\label{sec:FEM:FEMinterface:CheckConsistency}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: perform some consistency checks
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L3809}{ReadMassMatrixFromAnsys}{}}}\label{sec:FEM:FEMinterface:ReadMassMatrixFromAnsys}
({\it self}, {\it fileName}, {\it dofMappingVectorFile}, {\it sparse}= True, {\it verbose}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: read mass matrix from CSV format (exported from Ansys)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L3823}{ReadStiffnessMatrixFromAnsys}{}}}\label{sec:FEM:FEMinterface:ReadStiffnessMatrixFromAnsys}
({\it self}, {\it fileName}, {\it dofMappingVectorFile}, {\it sparse}= True, {\it verbose}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: read stiffness matrix from CSV format (exported from Ansys)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L3837}{ReadNodalCoordinatesFromAnsys}{}}}\label{sec:FEM:FEMinterface:ReadNodalCoordinatesFromAnsys}
({\it self}, {\it fileName}, {\it verbose}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: read nodal coordinates (exported from Ansys as .txt-File)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/FEM.py\#L3842}{ReadElementsFromAnsys}{}}}\label{sec:FEM:FEMinterface:ReadElementsFromAnsys}
({\it self}, {\it fileName}, {\it verbose}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: read elements (exported from Ansys as .txt-File)
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on FEMinterface see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/CMSexampleCourse.py}{\texttt{CMSexampleCourse.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/netgenSTLtest.py}{\texttt{netgenSTLtest.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolveCMStutorial.py}{\texttt{NGsolveCMStutorial.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolveCraigBampton.py}{\texttt{NGsolveCraigBampton.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolveLinearFEM.py}{\texttt{NGsolveLinearFEM.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/abaqusImportTest.py}{\texttt{abaqusImportTest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ACFtest.py}{\texttt{ACFtest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/compareAbaqusAnsysRotorEigenfrequencies.py}{\texttt{compareAbaqusAnsysRotorEigenfrequencies.py}} (TM), 
 ...

\ei

%
\mysubsection{Module: graphicsDataUtilities}
\label{sec:module:graphicsDataUtilities}
 	Utility functions for visualization, which provides functions for basic shapes
			like cube, cylinder, sphere, solid of revolution. Functions generate dictionaries
			which contain line, text or triangle primitives for drawing in Exudyn using OpenGL.
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Johannes Gerstmayr
\item[]Date:      2020-07-26 (created)
\item[]Notes:
\vspace{-22pt}\begin{itemize}[leftmargin=0.5cm]
\setlength{\itemindent}{-0.5cm}
\item[] 	Some useful colors are defined, using RGBA (Red, Green, Blue and Alpha = opacity) channels 			in the range [0,1], e.g., red = [1,0,0,1].
\item[] 			Available colors are: color4red, color4green, color4blue, color4cyan, color4magenta, color4yellow, color4orange, color4pink, color4lawngreen, color4violet, color4springgreen, color4dodgerblue, color4grey, color4darkgrey, color4lightgrey, color4lightred, color4lightgreen, color4steelblue, color4brown, color4black, color4darkgrey2, color4lightgrey2, color4white
\item[] 			Additionally, a list of 16 colors 'color4list' is available, which is intended to be used, e.g., for creating n bodies with different colors 
\ei
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L79}{SwitchTripletOrder}{}}}\label{sec:graphicsDataUtilities:SwitchTripletOrder}
({\it vector})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: helper function to switch order of three items in a list; mostly used for reverting normals in triangles
\item[--]
{\bf input}: 3D vector as list or as np.array
\item[--]
{\bf output}: interchanged 2nd and 3rd component of list
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L89}{ComputeTriangleNormal}{}}}\label{sec:graphicsDataUtilities:ComputeTriangleNormal}
({\it p0}, {\it p1}, {\it p2})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute normalized normal for 3 triangle points
\item[--]
{\bf input}: 3D vector as list or as np.array
\item[--]
{\bf output}: normal as np.array
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L102}{ComputeTriangleArea}{}}}\label{sec:graphicsDataUtilities:ComputeTriangleArea}
({\it p0}, {\it p1}, {\it p2})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute area of triangle given by 3 points
\item[--]
{\bf input}: 3D vector as list or as np.array
\item[--]
{\bf output}: area as float
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L109}{GraphicsData2PointsAndTrigs}{}}}\label{sec:graphicsDataUtilities:GraphicsData2PointsAndTrigs}
({\it g})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert graphics data into list of points and list of triangle indices (triplets)
\item[--]
{\bf input}: g contains a GraphicsData with type TriangleList
\item[--]
{\bf output}: returns [points, triangles], with points as list of np.array with 3 floats per point and triangles as a list of np.array with 3 int per triangle (0-based indices to points)
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsData2PointsAndTrigs see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/particleClusters.py}{\texttt{particleClusters.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/particlesSilo.py}{\texttt{particlesSilo.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotKinematicTreeDigging.py}{\texttt{serialRobotKinematicTreeDigging.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/tippeTop.py}{\texttt{tippeTop.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/distanceSensor.py}{\texttt{distanceSensor.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/generalContactFrictionTests.py}{\texttt{generalContactFrictionTests.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/laserScannerTest.py}{\texttt{laserScannerTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L132}{GraphicsDataFromPointsAndTrigs}{}}}\label{sec:graphicsDataUtilities:GraphicsDataFromPointsAndTrigs}
({\it points}, {\it triangles}, {\it color}= [0.,0.,0.,1.])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert triangles and points as returned from GraphicsData2TrigsAndPoints(...)
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it points}: list of np.array with 3 floats per point
\item[]{\it triangles}: list of np.array with 3 int per triangle (0-based indices to triangles)
\item[]{\it color}: provided as list of 4 RGBA values or single list of (number of points)*[4 RGBA values]
\end{itemize}
\item[--]
{\bf output}: returns GraphicsData with type TriangleList
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataFromPointsAndTrigs see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/particlesSilo.py}{\texttt{particlesSilo.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/distanceSensor.py}{\texttt{distanceSensor.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/generalContactFrictionTests.py}{\texttt{generalContactFrictionTests.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L158}{RefineMesh}{}}}\label{sec:graphicsDataUtilities:RefineMesh}
({\it points}, {\it triangles})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: refine triangle mesh; every triangle is subdivided into 4 triangles
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it points}: list of np.array with 3 floats per point
\item[]{\it triangles}: list of np.array with 3 int per triangle (0-based indices to triangles)
\end{itemize}
\item[--]
{\bf output}: returns [points2, triangles2] containing the refined mesh; if the original mesh is consistent, no points are duplicated; if the mesh is not consistent, some mesh points are duplicated!
\item[--]
{\bf notes}: becomes slow for meshes with more than 5000 points
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on RefineMesh see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/particleClusters.py}{\texttt{particleClusters.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/particlesSilo.py}{\texttt{particlesSilo.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/tippeTop.py}{\texttt{tippeTop.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/distanceSensor.py}{\texttt{distanceSensor.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/generalContactFrictionTests.py}{\texttt{generalContactFrictionTests.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L217}{ShrinkMeshNormalToSurface}{}}}\label{sec:graphicsDataUtilities:ShrinkMeshNormalToSurface}
({\it points}, {\it triangles}, {\it distance})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: shrink mesh using triangle normals; every point is at least moved a distance 'distance' normal from boundary
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it points}: list of np.array with 3 floats per point
\item[]{\it triangles}: list of np.array with 3 int per triangle (0-based indices to triangles)
\item[]{\it distance}: float value of minimum distance
\end{itemize}
\item[--]
{\bf output}: returns [points2, triangles2] containing the refined mesh; currently the points of the subdivided triangles are duplicated!
\item[--]
{\bf notes}: ONLY works for consistent meshes (no duplicated points!)
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ShrinkMeshNormalToSurface see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/generalContactFrictionTests.py}{\texttt{generalContactFrictionTests.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L252}{MoveGraphicsData}{}}}\label{sec:graphicsDataUtilities:MoveGraphicsData}
({\it g}, {\it pOff}, {\it Aoff})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: add rigid body transformation to GraphicsData, using position offset (global) pOff (list or np.array) and rotation Aoff (transforms local to global coordinates; list of lists or np.array); see Aoff how to scale coordinates!
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it g}: graphicsData to be transformed
\item[]{\it pOff}: 3D offset as list or numpy.array added to rotated points
\item[]{\it Aoff}: 3D rotation matrix as list of lists or numpy.array with shape (3,3); if A is scaled by factor, e.g. using 0.001*np.eye(3), you can also scale the coordinates!!!
\end{itemize}
\item[--]
{\bf output}: returns new graphcsData object to be used for drawing in objects
\item[--]
{\bf notes}: transformation corresponds to HomogeneousTransformation(Aoff, pOff), transforming original coordinates v into vNew = pOff + Aoff @ v
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on MoveGraphicsData see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/graphicsDataExample.py}{\texttt{graphicsDataExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/openVRengine.py}{\texttt{openVRengine.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/rigidBodyAsUserFunctionTest.py}{\texttt{rigidBodyAsUserFunctionTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L311}{MergeGraphicsDataTriangleList}{}}}\label{sec:graphicsDataUtilities:MergeGraphicsDataTriangleList}
({\it g1}, {\it g2})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: merge 2 different graphics data with triangle lists
\item[--]
{\bf input}: graphicsData dictionaries g1 and g2 obtained from GraphicsData functions
\item[--]
{\bf output}: one graphicsData dictionary with single triangle lists and compatible points and normals, to be used in visualization of EXUDYN objects; edges are merged; edgeColor is taken from graphicsData g1
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on MergeGraphicsDataTriangleList see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/graphicsDataExample.py}{\texttt{graphicsDataExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/particleClusters.py}{\texttt{particleClusters.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/particlesSilo.py}{\texttt{particlesSilo.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotKinematicTreeDigging.py}{\texttt{serialRobotKinematicTreeDigging.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/distanceSensor.py}{\texttt{distanceSensor.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/generalContactFrictionTests.py}{\texttt{generalContactFrictionTests.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/laserScannerTest.py}{\texttt{laserScannerTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L366}{GraphicsDataLine}{}}}\label{sec:graphicsDataUtilities:GraphicsDataLine}
({\it pList}, {\it color}= [0.,0.,0.,1.])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate graphics data for lines, given by list of points and color; transforms to GraphicsData dictionary
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it pList}: list of 3D numpy arrays or lists (to achieve closed curve, set last point equal to first point)
\item[]{\it color}: provided as list of 4 RGBA values
\end{itemize}
\item[--]
{\bf output}: graphicsData dictionary, to be used in visualization of EXUDYN objects
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  #create simple 3-point lines
  gLine=GraphicsDataLine([[0,0,0],[1,0,0],[2,0.5,0]], color=color4red)
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataLine see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ANCFcontactCircle2.py}{\texttt{ANCFcontactCircle2.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/doublePendulum2D.py}{\texttt{doublePendulum2D.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/simple4linkPendulumBing.py}{\texttt{simple4linkPendulumBing.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/doublePendulum2DControl.py}{\texttt{doublePendulum2DControl.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L382}{GraphicsDataCircle}{}}}\label{sec:graphicsDataUtilities:GraphicsDataCircle}
({\it point}= [0,0,0], {\it radius}= 1, {\it color}= [0.,0.,0.,1.])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate graphics data for a single circle; currently the plane normal = [0,0,1], just allowing to draw planar circles -- this may be extended in future!
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it point}: center point of circle
\item[]{\it radius}: radius of circle
\item[]{\it color}: provided as list of 4 RGBA values
\end{itemize}
\item[--]
{\bf output}: graphicsData dictionary, to be used in visualization of EXUDYN objects
\item[--]
{\bf notes}: the tiling (number of segments to draw circle) can be adjusted by visualizationSettings.general.circleTiling
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataCircle see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ANCFcontactCircle2.py}{\texttt{ANCFcontactCircle2.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L393}{GraphicsDataText}{}}}\label{sec:graphicsDataUtilities:GraphicsDataText}
({\it point}= [0,0,0], {\it text}= '', {\it color}= [0.,0.,0.,1.])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate graphics data for a text drawn at a 3D position
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it point}: position of text
\item[]{\it text}: string representing text
\item[]{\it color}: provided as list of 4 RGBA values
\item[]{\it **nodes}: text size can be adjusted with visualizationSettings.general.textSize, which affects the text size (=font size) globally
\end{itemize}
\item[--]
{\bf output}: graphicsData dictionary, to be used in visualization of EXUDYN objects
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataText see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ANCFcontactCircle2.py}{\texttt{ANCFcontactCircle2.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L400}{GraphicsDataRectangle}{}}}\label{sec:graphicsDataUtilities:GraphicsDataRectangle}
({\it xMin}, {\it yMin}, {\it xMax}, {\it yMax}, {\it color}= [0.,0.,0.,1.])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate graphics data for 2D rectangle
\item[--]
{\bf input}: minimal and maximal cartesian coordinates in (x/y) plane; color provided as list of 4 RGBA values
\item[--]
{\bf output}: graphicsData dictionary, to be used in visualization of EXUDYN objects
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataRectangle see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ANCFcontactCircle2.py}{\texttt{ANCFcontactCircle2.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ANCFswitchingSlidingJoint2D.py}{\texttt{ANCFswitchingSlidingJoint2D.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/lavalRotor2Dtest.py}{\texttt{lavalRotor2Dtest.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/particleClusters.py}{\texttt{particleClusters.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/particlesTest.py}{\texttt{particlesTest.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFcontactFrictionTest.py}{\texttt{ANCFcontactFrictionTest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFmovingRigidBodyTest.py}{\texttt{ANCFmovingRigidBodyTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFslidingAndALEjointTest.py}{\texttt{ANCFslidingAndALEjointTest.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L411}{GraphicsDataOrthoCubeLines}{}}}\label{sec:graphicsDataUtilities:GraphicsDataOrthoCubeLines}
({\it xMin}, {\it yMin}, {\it zMin}, {\it xMax}, {\it yMax}, {\it zMax}, {\it color}= [0.,0.,0.,1.])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate graphics data for orthogonal cube drawn with lines
\item[--]
{\bf input}: minimal and maximal cartesian coordinates for orthogonal cube; color provided as list of 4 RGBA values
\item[--]
{\bf output}: graphicsData dictionary, to be used in visualization of EXUDYN objects
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataOrthoCubeLines see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolveCraigBampton.py}{\texttt{NGsolveCraigBampton.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/rigid3Dexample.py}{\texttt{rigid3Dexample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/genericJointUserFunctionTest.py}{\texttt{genericJointUserFunctionTest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/rigidBodyCOMtest.py}{\texttt{rigidBodyCOMtest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/sphericalJointTest.py}{\texttt{sphericalJointTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L428}{GraphicsDataOrthoCube}{}}}\label{sec:graphicsDataUtilities:GraphicsDataOrthoCube}
({\it xMin}, {\it yMin}, {\it zMin}, {\it xMax}, {\it yMax}, {\it zMax}, {\it color}= [0.,0.,0.,1.], {\it addNormals}= False, {\it addEdges}= False, {\it edgeColor}= color4black, {\it addFaces}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate graphics data for orthogonal 3D cube with min and max dimensions
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it x/y/z/Min/Max}: minimal and maximal cartesian coordinates for orthogonal cube
\item[]{\it color}: list of 4 RGBA values
\item[]{\it addNormals}: add face normals to triangle information
\item[]{\it addEdges}: if True, edges are added in TriangleList of GraphicsData
\item[]{\it edgeColor}: optional color for edges
\item[]{\it addFaces}: if False, no faces are added (only edges)
\end{itemize}
\item[--]
{\bf output}: graphicsData dictionary, to be used in visualization of EXUDYN objects
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataOrthoCube see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/geneticOptimizationSliderCrank.py}{\texttt{geneticOptimizationSliderCrank.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/massSpringFrictionInteractive.py}{\texttt{massSpringFrictionInteractive.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/mouseInteractionExample.py}{\texttt{mouseInteractionExample.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/performanceMultiThreadingNG.py}{\texttt{performanceMultiThreadingNG.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/rigidBodyIMUtest.py}{\texttt{rigidBodyIMUtest.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/driveTrainTest.py}{\texttt{driveTrainTest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/explicitLieGroupIntegratorPythonTest.py}{\texttt{explicitLieGroupIntegratorPythonTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/explicitLieGroupIntegratorTest.py}{\texttt{explicitLieGroupIntegratorTest.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L444}{GraphicsDataOrthoCubePoint}{}}}\label{sec:graphicsDataUtilities:GraphicsDataOrthoCubePoint}
({\it centerPoint}= [0,0,0], {\it size}= [0.1,0.1,0.1], {\it color}= [0.,0.,0.,1.], {\it addNormals}= False, {\it addEdges}= False, {\it edgeColor}= color4black, {\it addFaces}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate graphics data forfor orthogonal 3D cube with center point and size
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it centerPoint}: center of cube as 3D list or np.array
\item[]{\it size}: size as 3D list or np.array
\item[]{\it color}: list of 4 RGBA values
\item[]{\it addNormals}: add face normals to triangle information
\item[]{\it addEdges}: if True, edges are added in TriangleList of GraphicsData
\item[]{\it edgeColor}: optional color for edges
\item[]{\it addFaces}: if False, no faces are added (only edges)
\end{itemize}
\item[--]
{\bf output}: graphicsData dictionary, to be used in visualization of EXUDYN objects; if addEdges=True, it returns a list of two dictionaries
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataOrthoCubePoint see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/addPrismaticJoint.py}{\texttt{addPrismaticJoint.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/addRevoluteJoint.py}{\texttt{addRevoluteJoint.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ANCFrotatingCable2D.py}{\texttt{ANCFrotatingCable2D.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDrivesComparison.py}{\texttt{beltDrivesComparison.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/bicycleIftommBenchmark.py}{\texttt{bicycleIftommBenchmark.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/bricardMechanism.py}{\texttt{bricardMechanism.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/carRollingDiscTest.py}{\texttt{carRollingDiscTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/computeODE2AEeigenvaluesTest.py}{\texttt{computeODE2AEeigenvaluesTest.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L471}{GraphicsDataCube}{}}}\label{sec:graphicsDataUtilities:GraphicsDataCube}
({\it pList}, {\it color}= [0.,0.,0.,1.], {\it faces}= [1,1,1,1,1,1], {\it addNormals}= False, {\it addEdges}= False, {\it edgeColor}= color4black, {\it addFaces}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate graphics data for general cube with endpoints, according to given vertex definition
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it pList}: is a list of points [[x0,y0,z0],[x1,y1,z1],...]
\item[]{\it color}: provided as list of 4 RGBA values
\item[]{\it faces}: includes the list of six binary values (0/1), denoting active faces (value=1); set index to zero to hide face
\item[]{\it addNormals}: if True, normals are added and there are separate points for every triangle
\item[]{\it addEdges}: if True, edges are added in TriangleList of GraphicsData
\item[]{\it edgeColor}: optional color for edges
\item[]{\it addFaces}: if False, no faces are added (only edges)
\end{itemize}
\item[--]
{\bf output}: graphicsData dictionary, to be used in visualization of EXUDYN objects
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L557}{GraphicsDataSphere}{}}}\label{sec:graphicsDataUtilities:GraphicsDataSphere}
({\it point}= [0,0,0], {\it radius}= 0.1, {\it color}= [0.,0.,0.,1.], {\it nTiles}= 8, {\it addEdges}= False, {\it edgeColor}= color4black, {\it addFaces}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate graphics data for a sphere with point p and radius
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it point}: center of sphere (3D list or np.array)
\item[]{\it radius}: positive value
\item[]{\it color}: provided as list of 4 RGBA values
\item[]{\it nTiles}: used to determine resolution of sphere >=3; use larger values for finer resolution
\item[]{\it addEdges}: True or number of edges along sphere shell (under development); for optimal drawing, nTiles shall be multiple of 4 or 8
\item[]{\it edgeColor}: optional color for edges
\item[]{\it addFaces}: if False, no faces are added (only edges)
\end{itemize}
\item[--]
{\bf output}: graphicsData dictionary, to be used in visualization of EXUDYN objects
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataSphere see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/bicycleIftommBenchmark.py}{\texttt{bicycleIftommBenchmark.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/chatGPTupdate.py}{\texttt{chatGPTupdate.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/graphicsDataExample.py}{\texttt{graphicsDataExample.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/lugreFrictionTest.py}{\texttt{lugreFrictionTest.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/connectorGravityTest.py}{\texttt{connectorGravityTest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/contactCoordinateTest.py}{\texttt{contactCoordinateTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/coordinateVectorConstraint.py}{\texttt{coordinateVectorConstraint.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L684}{GraphicsDataCylinder}{}}}\label{sec:graphicsDataUtilities:GraphicsDataCylinder}
({\it pAxis}= [0,0,0], {\it vAxis}= [0,0,1], {\it radius}= 0.1, {\it color}= [0.,0.,0.,1.], {\it nTiles}= 16, {\it angleRange}= [0,2*pi], {\it lastFace}= True, {\it cutPlain}= True, {\it addEdges}= False, {\it edgeColor}= color4black, {\it addFaces}= True, {\it **kwargs})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate graphics data for a cylinder with given axis, radius and color; nTiles gives the number of tiles (minimum=3)
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it pAxis}: axis point of one face of cylinder (3D list or np.array)
\item[]{\it vAxis}: vector representing the cylinder's axis (3D list or np.array)
\item[]{\it radius}: positive value representing radius of cylinder
\item[]{\it color}: provided as list of 4 RGBA values
\item[]{\it nTiles}: used to determine resolution of cylinder >=3; use larger values for finer resolution
\item[]{\it angleRange}: given in rad, to draw only part of cylinder (halfcylinder, etc.); for full range use [0..2 * pi]
\item[]{\it lastFace}: if angleRange != [0,2*pi], then the faces of the open cylinder are shown with lastFace = True
\item[]{\it cutPlain}: only used for angleRange != [0,2*pi]; if True, a plane is cut through the part of the cylinder; if False, the cylinder becomes a cake shape ...
\item[]{\it addEdges}: if True, edges are added in TriangleList of GraphicsData; if addEdges is integer, additional int(addEdges) lines are added on the cylinder mantle
\item[]{\it edgeColor}: optional color for edges
\item[]{\it addFaces}: if False, no faces are added (only edges)
\item[]{\it alternatingColor}: if given, optionally another color in order to see rotation of solid; only works, if angleRange=[0,2*pi]
\end{itemize}
\item[--]
{\bf output}: graphicsData dictionary, to be used in visualization of EXUDYN objects
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataCylinder see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDriveALE.py}{\texttt{beltDriveALE.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDriveReevingSystem.py}{\texttt{beltDriveReevingSystem.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDrivesComparison.py}{\texttt{beltDrivesComparison.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/bicycleIftommBenchmark.py}{\texttt{bicycleIftommBenchmark.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/craneReevingSystem.py}{\texttt{craneReevingSystem.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFbeltDrive.py}{\texttt{ANCFbeltDrive.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFgeneralContactCircle.py}{\texttt{ANCFgeneralContactCircle.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/coordinateSpringDamperExt.py}{\texttt{coordinateSpringDamperExt.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L883}{GraphicsDataRigidLink}{}}}\label{sec:graphicsDataUtilities:GraphicsDataRigidLink}
({\it p0}, {\it p1}, {\it axis0}= [0,0,0], {\it axis1}= [0,0,0], {\it radius}= [0.1,0.1], {\it thickness}= 0.05, {\it width}= [0.05,0.05], {\it color}= [0.,0.,0.,1.], {\it nTiles}= 16)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate graphics data for a planar Link between the two joint positions, having two axes
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it p0}: joint0 center position
\item[]{\it p1}: joint1 center position
\item[]{\it axis0}: direction of rotation axis at p0, if drawn as a cylinder; [0,0,0] otherwise
\item[]{\it axis1}: direction of rotation axis of p1, if drawn as a cylinder; [0,0,0] otherwise
\item[]{\it radius}: list of two radii [radius0, radius1], being the two radii of the joints drawn by a cylinder or sphere
\item[]{\it width}: list of two widths [width0, width1], being the two widths of the joints drawn by a cylinder; ignored for sphere
\item[]{\it thickness}: the thickness of the link (shaft) between the two joint positions; thickness in z-direction or diameter (cylinder)
\item[]{\it color}: provided as list of 4 RGBA values
\item[]{\it nTiles}: used to determine resolution of cylinder >=3; use larger values for finer resolution
\end{itemize}
\item[--]
{\bf output}: graphicsData dictionary, to be used in visualization of EXUDYN objects
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataRigidLink see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/fourBarMechanism3D.py}{\texttt{fourBarMechanism3D.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/geneticOptimizationSliderCrank.py}{\texttt{geneticOptimizationSliderCrank.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/multiMbsTest.py}{\texttt{multiMbsTest.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/rigidBodyTutorial.py}{\texttt{rigidBodyTutorial.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/rigidBodyTutorial2.py}{\texttt{rigidBodyTutorial2.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/fourBarMechanismIftomm.py}{\texttt{fourBarMechanismIftomm.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/sliderCrank3Dbenchmark.py}{\texttt{sliderCrank3Dbenchmark.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/sliderCrank3Dtest.py}{\texttt{sliderCrank3Dtest.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L940}{GraphicsDataFromSTLfileTxt}{}}}\label{sec:graphicsDataUtilities:GraphicsDataFromSTLfileTxt}
({\it fileName}, {\it color}= [0.,0.,0.,1.], {\it verbose}= False, {\it invertNormals}= True, {\it invertTriangles}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate graphics data from STL file (text format!) and use color for visualization; this function is slow, use stl binary files with GraphicsDataFromSTLfile(...)
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it fileName}: string containing directory and filename of STL-file (in text / SCII format) to load
\item[]{\it color}: provided as list of 4 RGBA values
\item[]{\it verbose}: if True, useful information is provided during reading
\item[]{\it invertNormals}: if True, orientation of normals (usually pointing inwards in STL mesh) are inverted for compatibility in Exudyn
\item[]{\it invertTriangles}: if True, triangle orientation (based on local indices) is inverted for compatibility in Exudyn
\end{itemize}
\item[--]
{\bf output}: creates graphicsData, inverting the STL graphics regarding normals and triangle orientations (interchanged 2nd and 3rd component of triangle index)
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataFromSTLfileTxt see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/stlFileImport.py}{\texttt{stlFileImport.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L1037}{GraphicsDataFromSTLfile}{}}}\label{sec:graphicsDataUtilities:GraphicsDataFromSTLfile}
({\it fileName}, {\it color}= [0.,0.,0.,1.], {\it verbose}= False, {\it density}= 0., {\it scale}= 1., {\it Aoff}= [], {\it pOff}= [], {\it invertNormals}= True, {\it invertTriangles}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate graphics data from STL file, allowing text or binary format; requires numpy-stl to be installed; additionally can scale, rotate and translate
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it fileName}: string containing directory and filename of STL-file (in text / SCII format) to load
\item[]{\it color}: provided as list of 4 RGBA values
\item[]{\it verbose}: if True, useful information is provided during reading
\item[]{\it density}: if given and if verbose, mass, volume, inertia, etc. are computed
\item[]{\it scale}: point coordinates are transformed by scaling factor
\item[]{\it invertNormals}: if True, orientation of normals (usually pointing inwards in STL mesh) are inverted for compatibility in Exudyn
\item[]{\it invertTriangles}: if True, triangle orientation (based on local indices) is inverted for compatibility in Exudyn
\end{itemize}
\item[--]
{\bf output}: creates graphicsData, inverting the STL graphics regarding normals and triangle orientations (interchanged 2nd and 3rd component of triangle index)
\item[--]
{\bf notes}: the model is first scaled, then rotated, then the offset pOff is added; finally min, max, mass, volume, inertia, com are computed!
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataFromSTLfile see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSTurtle.py}{\texttt{ROSTurtle.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/stlFileImport.py}{\texttt{stlFileImport.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L1110}{AddEdgesAndSmoothenNormals}{}}}\label{sec:graphicsDataUtilities:AddEdgesAndSmoothenNormals}
({\it graphicsData}, {\it edgeColor}= color4black, {\it edgeAngle}= 0.25*pi, {\it pointTolerance}= 5, {\it addEdges}= True, {\it smoothNormals}= True, {\it roundDigits}= 5, {\it triangleColor}= [])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]compute and return GraphicsData with edges and smoothend normals for mesh consisting of points and triangles (e.g., as returned from GraphicsData2PointsAndTrigs)
\item[]{\it graphicsData}: single GraphicsData object of type TriangleList; existing edges are ignored
\item[]{\it edgeColor}: optional color for edges
\item[]{\it edgeAngle}: angle above which edges are added to geometry
\item[]{\it roundDigits}: number of digits, relative to max dimensions of object, at which points are assumed to be equal
\item[]{\it smoothNormals}: if True, algorithm tries to smoothen normals at vertices; otherwise, uses triangle normals
\item[]{\it addEdges}: if True, edges are added in TriangleList of GraphicsData
\item[]{\it triangleColor}: if triangleColor is set to a RGBA color, this color is used for the new triangle mesh throughout
\end{itemize}
\item[--]
{\bf output}: returns GraphicsData with added edges and smoothed normals
\item[--]
{\bf notes}: this function is suitable for STL import; it assumes that all colors in graphicsData are the same and only takes the first color!
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on AddEdgesAndSmoothenNormals see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/stlFileImport.py}{\texttt{stlFileImport.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L1274}{ExportGraphicsData2STL}{}}}\label{sec:graphicsDataUtilities:ExportGraphicsData2STL}
({\it graphicsData}, {\it fileName}, {\it solidName}= 'ExudynSolid', {\it invertNormals}= True, {\it invertTriangles}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: export given graphics data (only type TriangleList allowed!) to STL ascii file using fileName
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it graphicsData}: a single GraphicsData dictionary with type='TriangleList', no list of GraphicsData
\item[]{\it fileName}: file name including (local) path to export STL file
\item[]{\it solidName}: optional name used in STL file
\item[]{\it invertNormals}: if True, orientation of normals (usually pointing inwards in STL mesh) are inverted for compatibility in Exudyn
\item[]{\it invertTriangles}: if True, triangle orientation (based on local indices) is inverted for compatibility in Exudyn
\end{itemize}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ExportGraphicsData2STL see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/stlFileImport.py}{\texttt{stlFileImport.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L1343}{GraphicsDataSolidOfRevolution}{}}}\label{sec:graphicsDataUtilities:GraphicsDataSolidOfRevolution}
({\it pAxis}, {\it vAxis}, {\it contour}, {\it color}= [0.,0.,0.,1.], {\it nTiles}= 16, {\it smoothContour}= False, {\it addEdges}= False, {\it edgeColor}= color4black, {\it addFaces}= True, {\it **kwargs})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate graphics data for a solid of revolution with given 3D point and axis, 2D point list for contour, (optional)2D normals and color;
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it pAxis}: axis point of one face of solid of revolution (3D list or np.array)
\item[]{\it vAxis}: vector representing the solid of revolution's axis (3D list or np.array)
\item[]{\it contour}: a list of 2D-points, specifying the contour (x=axis, y=radius), e.g.: [[0,0],[0,0.1],[1,0.1]]
\item[]{\it color}: provided as list of 4 RGBA values
\item[]{\it nTiles}: used to determine resolution of solid; use larger values for finer resolution
\item[]{\it smoothContour}: if True, the contour is made smooth by auto-computing normals to the contour
\item[]{\it addEdges}: True or number of edges along revolution mantle; for optimal drawing, nTiles shall be multiple addEdges
\item[]{\it edgeColor}: optional color for edges
\item[]{\it addFaces}: if False, no faces are added (only edges)
\item[]{\it alternatingColor}: add a second color, which enables to see the rotation of the solid
\end{itemize}
\item[--]
{\bf output}: graphicsData dictionary, to be used in visualization of EXUDYN objects
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  #simple contour, using list of 2D points:
  contour=[[0,0.2],[0.3,0.2],[0.5,0.3],[0.7,0.4],[1,0.4],[1,0.]]
  rev1 = GraphicsDataSolidOfRevolution(pAxis=[0,0.5,0], vAxis=[1,0,0],
                                       contour=contour, color=color4red,
                                       alternatingColor=color4grey)
  #draw torus:
  contour=[]
  r = 0.2 #small radius of torus
  R = 0.5 #big radius of torus
  nc = 16 #discretization of torus
  for i in range(nc+3): #+3 in order to remove boundary effects
      contour+=[[r*cos(i/nc*pi*2),R+r*sin(i/nc*pi*2)]]
  #use smoothContour to make torus looking smooth
  rev2 = GraphicsDataSolidOfRevolution(pAxis=[0,0.5,0], vAxis=[1,0,0],
                                       contour=contour, color=color4red,
                                       nTiles = 64, smoothContour=True)
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataSolidOfRevolution see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/graphicsDataExample.py}{\texttt{graphicsDataExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/particlesSilo.py}{\texttt{particlesSilo.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotKinematicTreeDigging.py}{\texttt{serialRobotKinematicTreeDigging.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ConvexContactTest.py}{\texttt{ConvexContactTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L1482}{GraphicsDataArrow}{}}}\label{sec:graphicsDataUtilities:GraphicsDataArrow}
({\it pAxis}, {\it vAxis}, {\it radius}, {\it color}= [0.,0.,0.,1.], {\it headFactor}= 2, {\it headStretch}= 4, {\it nTiles}= 12)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate graphics data for an arrow with given origin, axis, shaft radius, optional size factors for head and color; nTiles gives the number of tiles (minimum=3)
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it pAxis}: axis point of the origin (base) of the arrow (3D list or np.array)
\item[]{\it vAxis}: vector representing the vector pointing from the origin to the tip (head) of the error (3D list or np.array)
\item[]{\it radius}: positive value representing radius of shaft cylinder
\item[]{\it headFactor}: positive value representing the ratio between head's radius and the shaft radius
\item[]{\it headStretch}: positive value representing the ratio between the head's radius and the head's length
\item[]{\it color}: provided as list of 4 RGBA values
\item[]{\it nTiles}: used to determine resolution of arrow (of revolution object) >=3; use larger values for finer resolution
\end{itemize}
\item[--]
{\bf output}: graphicsData dictionary, to be used in visualization of EXUDYN objects
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataArrow see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDriveALE.py}{\texttt{beltDriveALE.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDriveReevingSystem.py}{\texttt{beltDriveReevingSystem.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDrivesComparison.py}{\texttt{beltDrivesComparison.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/graphicsDataExample.py}{\texttt{graphicsDataExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/reevingSystem.py}{\texttt{reevingSystem.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ACFtest.py}{\texttt{ACFtest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFbeltDrive.py}{\texttt{ANCFbeltDrive.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFgeneralContactCircle.py}{\texttt{ANCFgeneralContactCircle.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L1500}{GraphicsDataBasis}{}}}\label{sec:graphicsDataUtilities:GraphicsDataBasis}
({\it origin}= [0,0,0], {\it rotationMatrix}= np.eye(3), {\it length}= 1, {\it colors}= [color4red, color4green, color4blue], {\it headFactor}= 2, {\it headStretch}= 4, {\it nTiles}= 12, {\it **kwargs})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate graphics data for three arrows representing an orthogonal basis with point of origin, shaft radius, optional size factors for head and colors; nTiles gives the number of tiles (minimum=3)
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it origin}: point of the origin of the base (3D list or np.array)
\item[]{\it rotationMatrix}: optional transformation, which rotates the basis vectors
\item[]{\it length}: positive value representing lengths of arrows for basis
\item[]{\it colors}: provided as list of 3 colors (list of 4 RGBA values)
\item[]{\it headFactor}: positive value representing the ratio between head's radius and the shaft radius
\item[]{\it headStretch}: positive value representing the ratio between the head's radius and the head's length
\item[]{\it nTiles}: used to determine resolution of arrows of basis (of revolution object) >=3; use larger values for finer resolution
\item[]{\it radius}: positive value representing radius of arrows; default: radius = 0.01*length
\end{itemize}
\item[--]
{\bf output}: graphicsData dictionary, to be used in visualization of EXUDYN objects
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataBasis see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/fourBarMechanism3D.py}{\texttt{fourBarMechanism3D.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/graphicsDataExample.py}{\texttt{graphicsDataExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/gyroStability.py}{\texttt{gyroStability.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/InverseKinematicsNumericalExample.py}{\texttt{InverseKinematicsNumericalExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/rigidBodyTutorial3.py}{\texttt{rigidBodyTutorial3.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/bricardMechanism.py}{\texttt{bricardMechanism.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/distanceSensor.py}{\texttt{distanceSensor.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/explicitLieGroupIntegratorTest.py}{\texttt{explicitLieGroupIntegratorTest.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L1523}{GraphicsDataFrame}{}}}\label{sec:graphicsDataUtilities:GraphicsDataFrame}
({\it HT}= np.eye(4), {\it length}= 1, {\it colors}= [color4red, color4green, color4blue], {\it headFactor}= 2, {\it headStretch}= 4, {\it nTiles}= 12, {\it **kwargs})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate graphics data for frame (similar to GraphicsDataBasis), showing three arrows representing an orthogonal basis for the homogeneous transformation HT; optional shaft radius, optional size factors for head and colors; nTiles gives the number of tiles (minimum=3)
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it HT}: homogeneous transformation representing frame
\item[]{\it length}: positive value representing lengths of arrows for basis
\item[]{\it colors}: provided as list of 3 colors (list of 4 RGBA values)
\item[]{\it headFactor}: positive value representing the ratio between head's radius and the shaft radius
\item[]{\it headStretch}: positive value representing the ratio between the head's radius and the head's length
\item[]{\it nTiles}: used to determine resolution of arrows of basis (of revolution object) >=3; use larger values for finer resolution
\item[]{\it radius}: positive value representing radius of arrows; default: radius = 0.01*length
\end{itemize}
\item[--]
{\bf output}: graphicsData dictionary, to be used in visualization of EXUDYN objects
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataFrame see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInverseKinematics.py}{\texttt{serialRobotInverseKinematics.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L1555}{GraphicsDataQuad}{}}}\label{sec:graphicsDataUtilities:GraphicsDataQuad}
({\it pList}, {\it color}= [0.,0.,0.,1.], {\it **kwargs})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]generate graphics data for simple quad with option for checkerboard pattern;
\item[]points are arranged counter-clock-wise, e.g.: p0=[0,0,0], p1=[1,0,0], p2=[1,1,0], p3=[0,1,0]
\end{itemize}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it pList}: list of 4 quad points [[x0,y0,z0],[x1,y1,z1],...]
\item[]{\it color}: provided as list of 4 RGBA values
\item[]{\it alternatingColor}: second color; if defined, a checkerboard pattern (default: 10x10) is drawn with color and alternatingColor
\item[]{\it nTiles}: number of tiles for checkerboard pattern (default: 10)
\item[]{\it nTilesY}: if defined, use number of tiles in y-direction different from x-direction (=nTiles)
\end{itemize}
\item[--]
{\bf output}: graphicsData dictionary, to be used in visualization of EXUDYN objects
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  plane = GraphicsDataQuad([[-8, 0, -8],[ 8, 0, -8,],[ 8, 0, 8],[-8, 0, 8]],
                           color4darkgrey, nTiles=8,
                           alternatingColor=color4lightgrey)
  oGround=mbs.AddObject(ObjectGround(referencePosition=[0,0,0],
                        visualization=VObjectGround(graphicsData=[plane])))
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataQuad see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/massSpringFrictionInteractive.py}{\texttt{massSpringFrictionInteractive.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/nMassOscillator.py}{\texttt{nMassOscillator.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/nMassOscillatorEigenmodes.py}{\texttt{nMassOscillatorEigenmodes.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/nMassOscillatorInteractive.py}{\texttt{nMassOscillatorInteractive.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/simulateInteractively.py}{\texttt{simulateInteractively.py}} (Ex), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L1626}{GraphicsDataCheckerBoard}{}}}\label{sec:graphicsDataUtilities:GraphicsDataCheckerBoard}
({\it point}= [0,0,0], {\it normal}= [0,0,1], {\it size}= 1, {\it color}= color4lightgrey, {\it alternatingColor}= color4lightgrey2, {\it nTiles}= 10, {\it **kwargs})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]function to generate checkerboard background;
\item[]points are arranged counter-clock-wise, e.g.:
\end{itemize}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it point}: midpoint of pattern provided as list or np.array
\item[]{\it normal}: normal to plane provided as list or np.array
\item[]{\it size}: dimension of first side length of quad
\item[]{\it size2}: dimension of second side length of quad
\item[]{\it color}: provided as list of 4 RGBA values
\item[]{\it alternatingColor}: second color; if defined, a checkerboard pattern (default: 10x10) is drawn with color and alternatingColor
\item[]{\it nTiles}: number of tiles for checkerboard pattern in first direction
\item[]{\it nTiles2}: number of tiles for checkerboard pattern in second direction; default: nTiles
\end{itemize}
\item[--]
{\bf output}: graphicsData dictionary, to be used in visualization of EXUDYN objects
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  plane = GraphicsDataCheckerBoard(normal=[0,0,1], size=5)
  oGround=mbs.AddObject(ObjectGround(referencePosition=[0,0,0],
                        visualization=VObjectGround(graphicsData=[plane])))
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataCheckerBoard see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ANCFrotatingCable2D.py}{\texttt{ANCFrotatingCable2D.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/bicycleIftommBenchmark.py}{\texttt{bicycleIftommBenchmark.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/chatGPTupdate.py}{\texttt{chatGPTupdate.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/chatGPTupdate2.py}{\texttt{chatGPTupdate2.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/craneReevingSystem.py}{\texttt{craneReevingSystem.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFoutputTest.py}{\texttt{ANCFoutputTest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/bricardMechanism.py}{\texttt{bricardMechanism.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/connectorGravityTest.py}{\texttt{connectorGravityTest.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L1670}{ComputeTriangularMesh}{}}}\label{sec:graphicsDataUtilities:ComputeTriangularMesh}
({\it vertices}, {\it segments})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]helper function to compute triangular mesh from list of vertices (=points) and segments;
\item[]computes triangular meshes for non-convex case. In order to make it efficient, it first computes
\item[]neighbors and then defines triangles at segments to be inside/outside. Finally neighboring
\item[]relations are used to define all triangles inside/outside
\item[]finally only returns triangles that are inside the segments
\end{itemize}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it vertices}: list of pairs of coordinates of vertices in mesh [x,y]
\item[]{\it segments}: list of segments, which are pairs of node numbers [i,j], defining the boundary of the mesh;
\item[]the ordering of the nodes is such that left triangle = inside, right triangle = outside, compare example with segment [V1,V2]:\\
\item[]inside
\item[]V1         V2
\item[]O----------O
\item[]outside
\end{itemize}
\item[--]
{\bf output}: triangulation structure of Delaunay(...), see scipy.spatial.Delaunaystructure, containing all simplices (=triangles)
\item[--]
{\bf notes}: Delauney will not work if points are duplicated; you must first create point lists without duplicated points!
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  points = np.array([[0, 0], [0, 2], [2, 2], [2, 1], [1, 1], [0, 1], [1, 0]])
  segments = [len(points)-1,0]
  for i in range(len(points)-1):
      segments += [i,i+1]
  tri = ComputeTriangularMesh(points, segments)
  print(tri.simplices)
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L1762}{SegmentsFromPoints}{}}}\label{sec:graphicsDataUtilities:SegmentsFromPoints}
({\it points}, {\it pointIndexOffset}= 0, {\it invert}= False, {\it closeCurve}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert point list into segments (indices to points); point indices start with pointIndexOffset
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it invert}: True: circle defines outter boundary; False: circle cuts out geometry inside a geometry
\item[]{\it pointIndexOffset}: point indices start with pointIndexOffset
\end{itemize}
\item[--]
{\bf output}: return segments, containing list of lists of point indices for segments
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L1789}{CirclePointsAndSegments}{}}}\label{sec:graphicsDataUtilities:CirclePointsAndSegments}
({\it center}= [0,0], {\it radius}= 0.1, {\it invert}= False, {\it pointIndexOffset}= 0, {\it nTiles}= 16)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: create points and segments, used in GraphicsDataSolidExtrusion(...) for circle with given parameters
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it center}: 2D center point (list/numpy array) for circle center
\item[]{\it radius}: radius of circle
\item[]{\it invert}: True: circle defines outter boundary; False: circle cuts out geometry inside a geometry
\item[]{\it pointIndexOffset}: point indices start with pointIndexOffset
\item[]{\it nTiles}: number of tiles/segments for circle creation (higher is finer)
\end{itemize}
\item[--]
{\bf output}: return [points, segments], both containing lists of lists
\item[--]
{\bf notes}: geometries may not intersect!
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/graphicsDataUtilities.py\#L1824}{GraphicsDataSolidExtrusion}{}}}\label{sec:graphicsDataUtilities:GraphicsDataSolidExtrusion}
({\it vertices}, {\it segments}, {\it height}, {\it rot}= np.diag([1,1,1]), {\it pOff}= [0,0,0], {\it color}= [0,0,0,1], {\it smoothNormals}= False, {\it addEdges}= False, {\it edgeColor}= color4black, {\it addFaces}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]create graphicsData for solid extrusion based on 2D points and segments; by default, the extrusion is performed in z-direction;
\item[]additional transformations are possible to translate and rotate the extruded body;
\end{itemize}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it vertices}: list of pairs of coordinates of vertices in mesh [x,y], see ComputeTriangularMesh(...)
\item[]{\it segments}: list of segments, which are pairs of node numbers [i,j], defining the boundary of the mesh;
\item[]the ordering of the nodes is such that left triangle = inside, right triangle = outside; see ComputeTriangularMesh(...)
\item[]{\it height}:   height of extruded object
\item[]{\it rot}:      rotation matrix, which the extruded object point coordinates are multiplied with before adding offset
\item[]{\it pOff}:     3D offset vector added to extruded coordinates; the z-coordinate of the extrusion object obtains 0 for the base plane, z=height for the top plane
\item[]{\it smoothNormals}: if True, algorithm tries to smoothen normals at vertices and normals are added; creates more points; if False, triangle normals are used internally
\item[]{\it addEdges}: if True or 1, edges at bottom/top are included in the GraphicsData dictionary; if 2, also mantle edges are included
\item[]{\it edgeColor}: optional color for edges
\item[]{\it addFaces}: if False, no faces are added (only edges)
\end{itemize}
\item[--]
{\bf output}: graphicsData dictionary, to be used in visualization of EXUDYN objects
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GraphicsDataSolidExtrusion see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/graphicsDataExample.py}{\texttt{graphicsDataExample.py}} (Ex)
\ei

%
\mysubsection{Module: GUI}
\label{sec:module:GUI}
  Helper functions and classes for graphical interaction with Exudyn
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Johannes Gerstmayr
\item[]Date:      2020-01-25
\item[]Notes: 	This is an internal library, which is only used inside Exudyn for modifying settings.
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/GUI.py\#L53}{GetTkRootAndNewWindow}{}}}\label{sec:GUI:GetTkRootAndNewWindow}
()
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: get new or current root and new window app; return list of [tkRoot, tkWindow, tkRuns]
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/GUI.py\#L65}{TkRootExists}{}}}\label{sec:GUI:TkRootExists}
()
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: this function returns True, if tkinter has already a root window (which is assumed to have already a mainloop running)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/GUI.py\#L642}{EditDictionaryWithTypeInfo}{}}}\label{sec:GUI:EditDictionaryWithTypeInfo}
({\it settingsStructure}, {\it exu}= None, {\it dictionaryName}= 'edit')
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: edit dictionaryData and return modified (new) dictionary
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it settingsStructure}: hierarchical settings structure, e.g., SC.visualizationSettings
\item[]{\it exu}: exudyn module
\item[]{\it dictionaryName}: name displayed in dialog
\end{itemize}
\item[--]
{\bf output}: returns modified dictionary, which can be used, e.g., for SC.visualizationSettings.SetDictionary(...)
\vspace{12pt}\end{itemize}
%
\mysubsection{Module: interactive}
\label{sec:module:interactive}
  Utilities for interactive simulation and results monitoring; NOTE: does not work on MacOS!
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Johannes Gerstmayr
\item[]Date:      2021-01-17 (created)
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/interactive.py\#L591}{AnimateModes}{}}}\label{sec:interactive:AnimateModes}
({\it systemContainer}, {\it mainSystem}, {\it nodeNumber}, {\it period}= 0.04, {\it stepsPerPeriod}= 30, {\it showTime}= True, {\it renderWindowText}= '', {\it runOnStart}= False, {\it runMode}= 0, {\it scaleAmplitude}= 1, {\it title}= '', {\it fontSize}= 12, {\it checkRenderEngineStopFlag}= True, {\it systemEigenVectors}= None)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: animate modes of ObjectFFRFreducedOrder, of nodal coordinates (changes periodically one nodal coordinate) or of a list of system modes provided as list of lists; for creating snapshots, press 'Static' and 'Record animation' and press 'Run' to save one figure in the image subfolder; for creating animations for one mode, use the same procedure but use 'One Cycle'. Modes may be inverted by pressing according '+' and '-' buttons next to Amplitude.
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it systemContainer}: system container (usually SC) of your model, containing visualization settings
\item[]{\it mainSystem}: system (usually mbs) containing your model
\item[]{\it nodeNumber}: node number of which the coordinates shall be animated. In case of ObjectFFRFreducedOrder, this is the generic node, e.g., 'nGenericODE2' in the dictionary returned by the function AddObjectFFRFreducedOrderWithUserFunctions(...); if nodeNumber=None, then the systemEigenVectors list is used
\item[]{\it period}: delay for animation of every frame; the default of 0.04 results in approximately 25 frames per second
\item[]{\it stepsPerPeriod}: number of steps into which the animation of one cycle of the mode is split into
\item[]{\it showTime}: show a virtual time running from 0 to 2*pi during one mode cycle
\item[]{\it renderWindowText}: additional text written into renderwindow before 'Mode X' (use $\backslash$n to add line breaks)
\item[]{\it runOnStart}: immediately go into 'Run' mode
\item[]{\it runMode}: 0=continuous run, 1=static continuous, 2=one cycle, 3=static (use slider/mouse to vary time steps)
\item[]{\it scaleAmplitude}: additional scaling for amplitude if necessary
\item[]{\it fontSize}: define font size for labels in InteractiveDialog
\item[]{\it title}: if empty, it uses default; otherwise define specific title
\item[]{\it checkRenderEngineStopFlag}: if True, stopping renderer (pressing Q or Escape) also causes stopping the interactive dialog
\item[]{\it systemEigenVectors}: may be a list of lists of system eigenvectors for ODE2 (and possibly ODE1) coordinates or a eigenvector matrix containing mode vectors in columns; if nodeNumber=None, these eigenvectors are then used to be animated
\end{itemize}
\item[--]
{\bf output}: opens interactive dialog with further settings
\item[--]
{\bf notes}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]Uses class InteractiveDialog in the background, which can be used to adjust animation creation. If meshes are large, animation artifacts may appear, which are resolved by using a larger update period.
\item[]Press 'Run' to start animation; Chose 'Mode shape', according component for contour plot; to record one cycle for animation, choose 'One cycle', run once to get the according range in the contour plot, press 'Record animation' and press 'Run', now images can be found in subfolder 'images' (for further info on animation creation see \refSection{sec:overview:basics:animations}); now deactivate 'Record animation' by pressing 'Off' and chose another mode
\end{itemize}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on AnimateModes see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/CMSexampleCourse.py}{\texttt{CMSexampleCourse.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/netgenSTLtest.py}{\texttt{netgenSTLtest.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolveCMStutorial.py}{\texttt{NGsolveCMStutorial.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolveCraigBampton.py}{\texttt{NGsolveCraigBampton.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolvePistonEngine.py}{\texttt{NGsolvePistonEngine.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectFFRFreducedOrderShowModes.py}{\texttt{objectFFRFreducedOrderShowModes.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/interactive.py\#L786}{SolutionViewer}{}}}({\it mainSystem}, {\it solution}= None, {\it rowIncrement}= 1, {\it timeout}= 0.04, {\it runOnStart}= True, {\it runMode}= 2, {\it fontSize}= 12, {\it title}= '', {\it checkRenderEngineStopFlag}= True)
\end{flushleft}
\bi
  \item \mybold{NOTE}: this function is directly available in MainSystem (mbs); it should be directly called as mbs.SolutionViewer(...). For description of the interface, see the MainSystem Python extensions, \refSection{sec:mainsystemextensions:SolutionViewer}.

\ei
\mysubsubsection{CLASS InteractiveDialog (in module interactive)}
\noindent\textcolor{steelblue}{{\bf class description}}:  create an interactive dialog, which allows to interact with simulations
the dialog has a 'Run' button, which initiates the simulation and a 'Stop' button which stops/pauses simulation; 'Quit' closes the simulation model
for examples, see \texttt{simulateInteractively.py} and \texttt{massSpringFrictionInteractive.py}
use \_\_init\_\_ method to setup this class with certain buttons, edit boxes and sliders
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  #the following example is only demonstrating the structure of dialogItems and plots
  #dialogItems structure:
  #general items:
  #    'type' can be out of:
  #               'label' (simple text),
  #               'button' (button with callback function),
  #               'radio' (a radio button with several alternative options),
  #               'slider' (with an adjustable range to choose a value)
  #    'grid': (row, col, colspan) specifies the row, column and (optionally) the span of columns the item is placed at;
  #            exception in 'radio', where grid is a list of (row, col) for every choice
  #    'options': text options, where 'L' means flush left, 'R' means flush right
  #suboptions of 'label':
  #               'text': a text to be drawn
  #suboptions of 'button':
  #               'text': a text to be drawn on button
  #               'callFunction': function which is called on button-press
  #suboptions of 'radio':
  #               'textValueList': [('text1',0),('text2',1)] a list of texts with according values
  #               'value': default value (choice) of radio buttons
  #               'variable': according variable in mbs.variables (or mbs.sys), which is set to current radio button value
  #suboptions of 'slider':
  #               'range': (min, max) a tuple containing minimum and maximum value of slider
  #               'value': default value of slider
  #               'steps': number of steps in slider
  #               'variable': according variable in mbs.variables (or mbs.sys), which is set to current slider value
  #example:
  dialogItems = [{'type':'label', 'text':'Nonlinear oscillation simulator', 'grid':(0,0,2), 'options':['L']},
                 {'type':'button', 'text':'test button','callFunction':ButtonCall, 'grid':(1,0,2)},
                 {'type':'radio', 'textValueList':[('linear',0),('nonlinear',1)], 'value':0, 'variable':'mode', 'grid': [(2,0),(2,1)]},
                 {'type':'label', 'text':'excitation frequency (Hz):', 'grid':(5,0)},
                 {'type':'slider', 'range':(3*f1/800, 3*f1), 'value':omegaInit/(2*pi), 'steps':800, 'variable':'frequency', 'grid':(5,1)},
                 {'type':'label', 'text':'damping:', 'grid':(6,0)},
                 {'type':'slider', 'range': (0, 40), 'value':damper, 'steps':800, 'variable':'damping', 'grid':(6,1)},
                 {'type':'label', 'text':'stiffness:', 'grid':(7,0)},
                 {'type':'slider', 'range':(0, 10000), 'value':spring, 'steps':800, 'variable':'stiffness', 'grid':(7,1)}]
  #plots structure:
  plots={'nPoints':500,              #number of stored points in subplots (higher means slower drawing)
         'subplots':(2,1),           #(rows, columns) arrangement of subplots (for every sensor)
         #sensors defines per subplot (sensor, coordinate), xlabel and ylabel; if coordinate=0, time is used:
         'sensors':[[(sensPos,0),(sensPos,1),'time','mass position'],
                    [(sensFreq,0),(sensFreq,1),'time','excitation frequency']],
         'limitsX':[(0,2),(-5,5)],   #x-range per subplot; if not provided, autoscale is applied
         'limitsY':[(-5,5),(0,10),], #y-range per subplot; if not provided, autoscale is applied
         'fontSize':16,              #custom font size for figure
         'subplots':False,           #if not specified, subplots are created; if False, all plots go into one window
         'lineStyles':['r-','b-'],    #if not specified, uses default '-b', otherwise define list of line styles [string for matplotlib.pyplot.plot] per sensor
         'sizeInches':(12,12)}       #specific x and y size of figure in inches (using 100 dpi)
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{24pt}\end{itemize}
%
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/interactive.py\#L97}{\_\_init\_\_}{}}}\label{sec:interactive:InteractiveDialog:__init__}
({\it self}, {\it mbs}, {\it simulationSettings}, {\it simulationFunction}, {\it dialogItems}, {\it plots}= None, {\it period}= 0.04, {\it realtimeFactor}= 1, {\it userStartSimulation}= None, {\it title}= '', {\it showTime}= False, {\it fontSize}= 12, {\it doTimeIntegration}= True, {\it runOnStart}= False, {\it addLabelStringVariables}= False, {\it addSliderVariables}= False, {\it checkRenderEngineStopFlag}= True, {\it userOnChange}= None, {\it useSysVariables}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize an InteractiveDialog
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: a multibody system to be simulated
\item[]{\it simulationSettings}: exudyn.SimulationSettings() according to user settings
\item[]{\it simulationFunction}: a user function(mbs, self) which is called before a simulation for the short period is started (e.g, assign special values, etc.); the arguments are the MainSystem mbs and the InteractiveDialog (self)
\item[]{\it dialogItems}: a list of dictionaries, which describe the contents of the interactive items, where every dict has the structure {'type':[label, entry, button, slider, check] ... according to tkinter widgets, 'callFunction': a function to be called, if item is changed/button pressed, 'grid': (row,col) of item to be placed, 'rowSpan': number of rows to be used, 'columnSpan': number of columns to be used; for special item options see notes}
\item[]{\it plots}: list of dictionaries to specify a sensor to be plotted live, see example; otherwise use default None
\item[]{\it period}: a simulation time span in seconds which is simulated with the simulationFunction in every iteration
\item[]{\it realtimeFactor}: if 1, the simulation is nearly performed in realtime (except for computation time); if > 1, it runs faster than realtime, if < 1, than it is slower
\item[]{\it userStartSimulation}: a function F(flag) which is called every time after Run/Stop is pressed. The argument flag = False if button "Run" has been pressed, flag = True, if "Stop" has been pressed
\item[]{\it title}: title text for interactive dialog
\item[]{\it showTime}: shows current time in dialog
\item[]{\it fontSize}: adjust font size for all dialog items
\item[]{\it doTimeIntegration}: performs internal time integration with given parameters
\item[]{\it runOnStart}: immediately activate 'Run' button on start
\item[]{\it addLabelStringVariables}: True: adds a list labelStringVariables containing the (modifiable) list of string variables for label (text) widgets
\item[]{\it addSliderVariables}: True: adds a list sliderVariables containing the (modifiable) list of variables for slider (=tkinter scale) widgets; this is not necessarily needed for changing slider values, as they can also be modified with dialog.widgets[..].set(...) method
\item[]{\it checkRenderEngineStopFlag}: if True, stopping renderer (pressing Q or Escape) also causes stopping the interactive dialog
\item[]{\it userOnChange}: a user function(mbs, self) which is called after period, if widget values are different from values stored in mbs.variables; this usually occurs if buttons are pressed or sliders are moved; the arguments are the MainSystem mbs and the InteractiveDialog (self)
\item[]{\it useSysVariables}: for internal visualization functions: in this case, variables are written to mbs.sys instead of mbs.variables
\end{itemize}
\item[--]\textcolor{steelblue}{\bf notes}: detailed description of dialogItems and plots list/dictionary is given in commented the example below
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/interactive.py\#L350}{OnQuit}{}}}\label{sec:interactive:InteractiveDialog:OnQuit}
({\it self}, {\it event}= None)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: function called when pressing escape or closing dialog
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/interactive.py\#L359}{StartSimulation}{}}}\label{sec:interactive:InteractiveDialog:StartSimulation}
({\it self}, {\it event}= None)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: function called on button 'Run'
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/interactive.py\#L372}{ProcessWidgetStates}{}}}\label{sec:interactive:InteractiveDialog:ProcessWidgetStates}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: assign current values of radio buttons and sliders to mbs.variables or mbs.sys
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/interactive.py\#L387}{ContinuousRunFunction}{}}}\label{sec:interactive:InteractiveDialog:ContinuousRunFunction}
({\it self}, {\it event}= None)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: function which is repeatedly called when button 'Run' is pressed
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/interactive.py\#L405}{InitializePlots}{}}}\label{sec:interactive:InteractiveDialog:InitializePlots}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize figure and subplots for plots structure
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/interactive.py\#L452}{UpdatePlots}{}}}\label{sec:interactive:InteractiveDialog:UpdatePlots}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: update all subplots with current sensor values
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/interactive.py\#L508}{InitializeSolver}{}}}\label{sec:interactive:InteractiveDialog:InitializeSolver}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: function to initialize solver for repeated calls
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/interactive.py\#L514}{FinalizeSolver}{}}}\label{sec:interactive:InteractiveDialog:FinalizeSolver}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: stop solver (finalize correctly)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/interactive.py\#L520}{RunSimulationPeriod}{}}}\label{sec:interactive:InteractiveDialog:RunSimulationPeriod}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: function which performs short simulation for given period
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on InteractiveDialog see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/massSpringFrictionInteractive.py}{\texttt{massSpringFrictionInteractive.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/nMassOscillatorInteractive.py}{\texttt{nMassOscillatorInteractive.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInteractiveLimits.py}{\texttt{serialRobotInteractiveLimits.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/simulateInteractively.py}{\texttt{simulateInteractively.py}} (Ex)
\ei

%
\mysubsection{Module: kinematicTree}
\label{sec:module:kinematicTree}
  A library for preparation of minimal coordinates (kinematic tree) formulation.
			This library follows mostly the algorithms of Roy Featherstone, see http://royfeatherstone.org/
           His code is availble in MATLAB as well as described in the Springer Handbook of Robotics \cite{Siciliano2016}.
			The main formalisms are based on 6x6 matrices, so-called Pl\"ucker transformations, denoted as \ac{T66}, as defined by Featherstone.
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Johannes Gerstmayr
\item[]Date:      2021-06-22
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/kinematicTree.py\#L65}{MassCOMinertia2T66}{}}}\label{sec:kinematicTree:MassCOMinertia2T66}
({\it mass}, {\it centerOfMass}, {\it inertia})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert mass, COM and inertia into 6x6 inertia matrix
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mass}: scalar mass
\item[]{\it centerOfMass}: 3D vector (list/array)
\item[]{\it inertia}: 3x3 matrix (list of lists / 2D array) w.r.t. center of mass
\end{itemize}
\item[--]
{\bf output}: 6x6 numpy array for further use in minimal coordinates formulation
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/kinematicTree.py\#L74}{Inertia2T66}{}}}\label{sec:kinematicTree:Inertia2T66}
({\it inertia})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert inertia as produced with RigidBodyInertia class into 6x6 inertia matrix (as used in KinematicTree66, Featherstone / Handbook of robotics \cite{Siciliano2016})
\item[--]
{\bf output}: 6x6 numpy array for further use in minimal coordinates formulation
\item[--]
{\bf notes}: within the 6x6 matrix, the inertia tensor is defined w.r.t.\ the center of mass, while RigidBodyInertia defines the inertia tensor w.r.t.\ the reference point; however, this function correctly transforms all quantities of inertia.
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on Inertia2T66 see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/kinematicTree.py\#L90}{Inertia66toMassCOMinertia}{}}}\label{sec:kinematicTree:Inertia66toMassCOMinertia}
({\it inertia66})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert 6x6 inertia matrix into mass, COM and inertia
\item[--]
{\bf input}: 6x6 numpy array containing rigid body inertia according to Featherstone / Handbook of robotics \cite{Siciliano2016}
\item[--]
{\bf output}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[][mass, centerOfMass, inertia]
\item[]{\it mass}: scalar mass
\item[]{\it centerOfMass}: 3D vector (list/array)
\item[]{\it inertia}: 3x3 matrix (list of lists / 2D array) w.r.t. center of mass
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/kinematicTree.py\#L111}{JointTransformMotionSubspace66}{}}}\label{sec:kinematicTree:JointTransformMotionSubspace66}
({\it jointType}, {\it q})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: return 6x6 Pl\"ucker joint transformation matrix evaluated for scalar joint coordinate q and motion subspace ('free modes' in Table 2.6 in Handbook of robotics \cite{Siciliano2016})
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on JointTransformMotionSubspace66 see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/kinematicTree.py\#L132}{JointTransformMotionSubspace}{}}}\label{sec:kinematicTree:JointTransformMotionSubspace}
({\it jointType}, {\it q})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: return list containing rotation matrix, translation vector, rotation axis and translation axis for joint transformation
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on JointTransformMotionSubspace see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/kinematicTree.py\#L412}{CRM}{}}}\label{sec:kinematicTree:CRM}
({\it v})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: computes cross product operator for motion from 6D vector v; CRM(v) @ m computes the cross product of v and motion m
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/kinematicTree.py\#L421}{CRF}{}}}\label{sec:kinematicTree:CRF}
({\it v})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: computes cross product operator for force from 6D vector v; CRF(v) @ f computes the cross product of v and force f
\vspace{12pt}\end{itemize}
%
\mysubsubsection{CLASS KinematicTree33 (in module kinematicTree)}
\noindent\textcolor{steelblue}{{\bf class description}}:  class to define a kinematic tree in Python, which can be used for building serial or tree-structured multibody systems
         (or robots) with a minimal coordinates formulation, using rotation matrices and 3D offsets; for efficient computation, use the C++ ObjectKinematicTree
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf notes}: The formulation and structures widely follows the more efficient formulas (but still implemented in Python!) with 3D vectors and rotation matrices as proposed in Handbook of robotics \cite{Siciliano2016}, Chapter 3, but with the rotation matrices (\texttt{listOfRotations}) being transposed in the Python implementation as compared to the description in the book, being thus compliant with other Exudyn functions; the 3D vector/matrix Python implementation does not offer advantages as compared to the formulation with Pl\"ucker coordinates, BUT it reflects the formulas of the C++ implementation and is used for testing
\vspace{24pt}\end{itemize}
%
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/kinematicTree.py\#L158}{\_\_init\_\_}{}}}\label{sec:kinematicTree:KinematicTree33:__init__}
({\it self}, {\it listOfJointTypes}, {\it listOfRotations}, {\it listOfOffsets}, {\it listOfInertia3D}, {\it listOfCOM}, {\it listOfMass}, {\it listOfParents}= [], {\it gravity}= [0,0,-9.81])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize kinematic tree
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it listOfJointTypes}: mandatory list of joint types 'Rx', 'Ry', 'Rz' denoting revolute joints; 'Px', 'Py', 'Pz', denoting prismatic joints
\item[]{\it listOfRotations}: per link rotation matrix, transforming coordinates of the joint coordinate system w.r.t. the previous coordinate system (this is the inverse of Pl\"ucker coordinate transforms (6x6))
\item[]{\it listOfOffsets}: per link offset vector from pervious coordinate system to the joint coordinate system
\item[]{\it listOfInertia3D}: per link 3D inertia matrix, w.r.t.\ reference point (not COM!)
\item[]{\it listOfCOM}: per link vector from reference point to center of mass (COM), in link coordinates
\item[]{\it listOfMass}: mass per link
\item[]{\it listOfParents}: list of parent object indices (int), according to the index in jointTypes and transformations; use empty list for kinematic chain and use -1 if no parent exists (parent=base or world frame)
\item[]{\it gravity}: a 3D list/array containing the gravity applied to the kinematic tree (in world frame)
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/kinematicTree.py\#L199}{Size}{}}}\label{sec:kinematicTree:KinematicTree33:Size}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: return number of joints, defined by size of jointTypes
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/kinematicTree.py\#L205}{XL}{}}}\label{sec:kinematicTree:KinematicTree33:XL}
({\it self}, {\it i})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: return [A, p] containing rotation matrix and offset for joint j
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/kinematicTree.py\#L216}{ForwardDynamicsCRB}{}}}\label{sec:kinematicTree:KinematicTree33:ForwardDynamicsCRB}
({\it self}, {\it q}= [], {\it q\_t}= [], {\it torques}= [], {\it forces}= [])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: compute forward dynamics using composite rigid body algorithm
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it q}: joint space coordinates for the model at which the forward dynamics is evaluated
\item[]{\it q\_t}: joint space velocity coordinates for the model at which the forward dynamics is evaluated
\item[]{\it torques}: a vector of torques applied at joint coordinates or list/array with zero length
\item[]{\it forces}: forces acting on the bodies using special format
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: returns acceleration vector q\_tt of joint coordinates
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/kinematicTree.py\#L237}{ComputeMassMatrixAndForceTerms}{}}}\label{sec:kinematicTree:KinematicTree33:ComputeMassMatrixAndForceTerms}
({\it self}, {\it q}, {\it q\_t}, {\it externalForces}= [])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]compute generalized mass matrix M and generalized force terms for
\item[]kinematic tree, using current state (joint) variables q and
\item[]joint velocities q\_t. The generalized force terms f = fGeneralized
\item[]contain Coriolis and gravity if given in the kinematicTree.
\end{itemize}
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it q}: current joint coordinates
\item[]{\it q\_t}: current joint velocities
\item[]{\it externalForces}: list of torque/forces in global (world) frame per joint; may be empty list, containing 6D vectors or matrices with 6D vectors in columns that are summed up for each link
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: mass matrix $\Mm$ and RHS vector $\fv_{RHS}$ for equations of motion $M(q) \cdot q_{tt} + f(q,q_t,externalForces) = \tau$; RHS is $\fv_{RHS}=\tau - f(q,q_t,externalForces)$; $\tau$ can be added outside of \texttt{ComputeMassMatrixAndForceTerms}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on KinematicTree33 see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex)
\ei

%
\mysubsubsection{CLASS KinematicTree66 (in module kinematicTree)}
\noindent\textcolor{steelblue}{{\bf class description}}:  class to define a kinematic tree, which can be used for building serial or tree-structured multibody systems
         (or robots) with a minimal coordinates formulation, using Pl\"ucker coordinate transforms (6x6); for efficient computation, use the C++ ObjectKinematicTree
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf notes}: The formulation and structures widely follow Roy Featherstone (http://royfeatherstone.org/) / Handbook of robotics \cite{Siciliano2016}
\vspace{24pt}\end{itemize}
%
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/kinematicTree.py\#L440}{\_\_init\_\_}{}}}\label{sec:kinematicTree:KinematicTree66:__init__}
({\it self}, {\it listOfJointTypes}, {\it listOfTransformations}, {\it listOfInertias}, {\it listOfParents}= [], {\it gravity}= [0,0,-9.81])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize kinematic tree
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it listOfJointTypes}: mandatory list of joint types 'Rx', 'Ry', 'Rz' denoting revolute joints; 'Px', 'Py', 'Pz', denoting prismatic joints
\item[]{\it listOfTransformations}: provide a list of Pl\"ucker coordinate transforms (6x6 numpy matrices), describing the (constant) link transformation from the link coordinate system (previous/parent joint) to this joint coordinate system
\item[]{\it listOfInertias}: provide a list of inertias as (6x6 numpy matrices), as produced by the function MassCOMinertia2T66
\item[]{\it listOfParents}: list of parent object indices (int), according to the index in jointTypes and transformations; use empty list for kinematic chain and use -1 if no parent exists (parent=base or world frame)
\item[]{\it gravity}: a 3D list/array containing the gravity applied to the kinematic tree (in world frame)
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/kinematicTree.py\#L469}{Size}{}}}\label{sec:kinematicTree:KinematicTree66:Size}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: return number of joints, defined by size of jointTypes
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/kinematicTree.py\#L473}{XL}{}}}\label{sec:kinematicTree:KinematicTree66:XL}
({\it self}, {\it i})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: return 6D transformation of joint i, given by transformation
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/kinematicTree.py\#L484}{ForwardDynamicsCRB}{}}}\label{sec:kinematicTree:KinematicTree66:ForwardDynamicsCRB}
({\it self}, {\it q}= [], {\it q\_t}= [], {\it torques}= [], {\it forces}= [])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: compute forward dynamics using composite rigid body algorithm
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it q}: joint space coordinates for the model at which the forward dynamics is evaluated
\item[]{\it q\_t}: joint space velocity coordinates for the model at which the forward dynamics is evaluated
\item[]{\it torques}: a vector of torques applied at joint coordinates or list/array with zero length
\item[]{\it forces}: forces acting on the bodies using special format
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: returns acceleration vector q\_tt of joint coordinates
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/kinematicTree.py\#L505}{ComputeMassMatrixAndForceTerms}{}}}\label{sec:kinematicTree:KinematicTree66:ComputeMassMatrixAndForceTerms}
({\it self}, {\it q}, {\it q\_t}, {\it externalForces}= [])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]compute generalized mass matrix M and generalized force terms for
\item[]kinematic tree, using current state (joint) variables q and
\item[]joint velocities q\_t. The generalized force terms f = fGeneralized
\item[]contain Coriolis and gravity if given in the kinematicTree.
\end{itemize}
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it q}: current joint coordinates
\item[]{\it q\_t}: current joint velocities
\item[]{\it externalForces}: list of torque/forces in global (world) frame per joint; may be empty list, containing 6D vectors or matrices with 6D vectors in columns that are summed up for each link
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: mass matrix $\Mm$ and RHS vector $\fv_{RHS}$ for equations of motion $M(q) \cdot q_{tt} + f(q,q_t,externalForces) = \tau$; RHS is $\fv_{RHS}=\tau - f(q,q_t,externalForces)$; $\tau$ can be added outside of \texttt{ComputeMassMatrixAndForceTerms}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/kinematicTree.py\#L579}{AddExternalForces}{}}}\label{sec:kinematicTree:KinematicTree66:AddExternalForces}
({\it self}, {\it Xup}, {\it fvp}, {\it externalForces}= [])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: add action of external forces to forces fvp and return new composed vector of forces fvp
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it Xup}: 6x6 transformation matrices per joint; as computed in ComputeMassMatrixAndForceTerms
\item[]{\it fvp}: force (torque) per joint, as computed in ComputeMassMatrixAndForceTerms
\item[]{\it externalForces}: list of torque/forces in global (world) frame per joint; may be empty list, containing 6D vectors or matrices with 6D vectors in columns that are summed up for each link
\end{itemize}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on KinematicTree66 see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex)
\ei

%
\mysubsection{Module: lieGroupBasics}
\label{sec:module:lieGroupBasics}
  Lie group methods and formulas for Lie group integration.
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Stefan Holzinger, Johannes Gerstmayr
\item[]Date:      2020-09-11
\item[]References:
\vspace{-22pt}\begin{itemize}[leftmargin=0.5cm]
\setlength{\itemindent}{-0.5cm}
\item[]   
\item[]                For details on Lie group methods used here, see the references \cite{Henderson1977, Simo1988, Bruels2011, Sonneville2014, Sonneville2017, Terze2016, Mueller2017}.                Lie group methods for rotation vector are described in Holzinger and Gerstmayr \cite{HolzingerGerstmayr2020, Holzinger2021}.                 
\ei
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L35}{Sinc}{}}}\label{sec:lieGroupBasics:Sinc}
({\it x})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute the cardinal sine function in radians
\item[--]
{\bf input}: scalar float or int value
\item[--]
{\bf output}: float value in radians
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L48}{Cot}{}}}\label{sec:lieGroupBasics:Cot}
({\it x})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute the cotangent function cot(x)=1/tan(x) in radians
\item[--]
{\bf input}: scalar float or int value
\item[--]
{\bf output}: float value in radians
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L57}{R3xSO3Matrix2RotationMatrix}{}}}\label{sec:lieGroupBasics:R3xSO3Matrix2RotationMatrix}
({\it G})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: computes 3x3 rotation matrix from 7x7 R3xSO(3) matrix, see \cite{Bruels2011}
\item[--]
{\bf input}: G: 7x7 matrix as np.array
\item[--]
{\bf output}: 3x3 rotation matrix as np.array
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L66}{R3xSO3Matrix2Translation}{}}}\label{sec:lieGroupBasics:R3xSO3Matrix2Translation}
({\it G})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: computes translation part of R3xSO(3) matrix, see \cite{Bruels2011}
\item[--]
{\bf input}: G: 7x7 matrix as np.array
\item[--]
{\bf output}: 3D vector as np.array containg translational part of R3xSO(3)
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L76}{R3xSO3Matrix}{}}}\label{sec:lieGroupBasics:R3xSO3Matrix}
({\it x}, {\it R})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: builds 7x7 matrix as element of the Lie group R3xSO(3), see \cite{Bruels2011}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it x}: 3D vector as np.array representing the translation part corresponding to R3
\item[]{\it R}: 3x3 rotation matrix as np.array
\end{itemize}
\item[--]
{\bf output}: 7x7 matrix as np.array
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L99}{ExpSO3}{}}}\label{sec:lieGroupBasics:ExpSO3}
({\it Omega})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute the matrix exponential map on the Lie group SO(3), see \cite{Mueller2017}
\item[--]
{\bf input}: 3D rotation vector as np.array
\item[--]
{\bf output}: 3x3 matrix as np.array
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L112}{ExpS3}{}}}\label{sec:lieGroupBasics:ExpS3}
({\it Omega})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute the quaternion exponential map on the Lie group S(3), see \cite{Terze2016, Mueller2017}
\item[--]
{\bf input}: 3D rotation vector as np.array
\item[--]
{\bf output}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]4D vector as np.array containing four Euler parameters
\item[]entry zero of output represent the scalar part of Euler parameters
\end{itemize}
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L124}{LogSO3}{}}}\label{sec:lieGroupBasics:LogSO3}
({\it R})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute the matrix logarithmic map on the Lie group SO(3)
\item[--]
{\bf input}: 3x3 rotation matrix as np.array
\item[--]
{\bf output}: 3x3 skew symmetric matrix as np.array
\item[--]
{\bf author}: Johannes Gerstmayr
\item[--]
{\bf notes}: improved accuracy for very small angles as well as angles phi close to pi AS WELL AS at phi=pi
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L160}{TExpSO3}{}}}\label{sec:lieGroupBasics:TExpSO3}
({\it Omega})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute the tangent operator corresponding to ExpSO3, see \cite{Bruels2011}
\item[--]
{\bf input}: 3D rotation vector as np.array
\item[--]
{\bf output}: 3x3 matrix as np.array
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L184}{TExpSO3Inv}{}}}\label{sec:lieGroupBasics:TExpSO3Inv}
({\it Omega})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]compute the inverse of the tangent operator TExpSO3, see \cite{Sonneville2014}
\item[]this function was improved, see coordinateMaps.pdf by Stefan Holzinger
\end{itemize}
\item[--]
{\bf input}: 3D rotation vector as np.array
\item[--]
{\bf output}: 3x3 matrix as np.array
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L207}{ExpSE3}{}}}\label{sec:lieGroupBasics:ExpSE3}
({\it x})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute the matrix exponential map on the Lie group SE(3), see \cite{Bruels2011}
\item[--]
{\bf input}: 6D incremental motion vector as np.array
\item[--]
{\bf output}: 4x4 homogeneous transformation matrix as np.array
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ExpSE3 see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInverseKinematics.py}{\texttt{serialRobotInverseKinematics.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L219}{LogSE3}{}}}\label{sec:lieGroupBasics:LogSE3}
({\it H})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute the matrix logarithm on the Lie group SE(3), see \cite{Sonneville2014}
\item[--]
{\bf input}: 4x4 homogeneous transformation matrix as np.array
\item[--]
{\bf output}: 4x4 skew symmetric matrix as np.array
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on LogSE3 see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInverseKinematics.py}{\texttt{serialRobotInverseKinematics.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L236}{TExpSE3}{}}}\label{sec:lieGroupBasics:TExpSE3}
({\it x})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute the tangent operator corresponding to ExpSE3, see \cite{Bruels2011}
\item[--]
{\bf input}: 6D incremental motion vector as np.array
\item[--]
{\bf output}: 6x6 matrix as np.array
\item[--]
{\bf author}: Stefan Holzinger
\item[--]
{\bf notes}: improved accuracy for very small angles as well as angles phi
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L282}{TExpSE3Inv}{}}}\label{sec:lieGroupBasics:TExpSE3Inv}
({\it x})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute the inverse of tangent operator TExpSE3, see \cite{Sonneville2014}
\item[--]
{\bf input}: 6D incremental motion vector as np.array
\item[--]
{\bf output}: 6x6 matrix as np.array
\item[--]
{\bf author}: Stefan Holzinger
\item[--]
{\bf notes}: improved accuracy for very small angles as well as angles phi
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L314}{ExpR3xSO3}{}}}\label{sec:lieGroupBasics:ExpR3xSO3}
({\it x})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute the matrix exponential map on the Lie group R3xSO(3), see \cite{Bruels2011}
\item[--]
{\bf input}: 6D incremental motion vector as np.array
\item[--]
{\bf output}: 7x7 matrix as np.array
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L325}{TExpR3xSO3}{}}}\label{sec:lieGroupBasics:TExpR3xSO3}
({\it x})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute the tangent operator corresponding to ExpR3xSO3, see \cite{Bruels2011}
\item[--]
{\bf input}: 6D incremental motion vector as np.array
\item[--]
{\bf output}: 6x6 matrix as np.array
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L335}{TExpR3xSO3Inv}{}}}\label{sec:lieGroupBasics:TExpR3xSO3Inv}
({\it x})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute the inverse of tangent operator TExpR3xSO3
\item[--]
{\bf input}: 6D incremental motion vector as np.array
\item[--]
{\bf output}: 6x6 matrix as np.array
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L359}{CompositionRuleDirectProductR3AndS3}{}}}\label{sec:lieGroupBasics:CompositionRuleDirectProductR3AndS3}
({\it q0}, {\it incrementalMotionVector})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute composition operation for pairs in the Lie group R3xS3
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it q0}: 7D vector as np.array containing position coordinates and Euler parameters
\item[]{\it incrementalMotionVector}: 6D incremental motion vector as np.array
\end{itemize}
\item[--]
{\bf output}: 7D vector as np.array containing composed position coordinates and composed Euler parameters
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L382}{CompositionRuleSemiDirectProductR3AndS3}{}}}\label{sec:lieGroupBasics:CompositionRuleSemiDirectProductR3AndS3}
({\it q0}, {\it incrementalMotionVector})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute composition operation for pairs in the Lie group R3 semiTimes S3 (corresponds to SE(3))
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it q0}: 7D vector as np.array containing position coordinates and Euler parameters
\item[]{\it incrementalMotionVector}: 6D incremental motion vector as np.array
\end{itemize}
\item[--]
{\bf output}: 7D vector as np.array containing composed position coordinates and composed Euler parameters
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L408}{CompositionRuleDirectProductR3AndR3RotVec}{}}}\label{sec:lieGroupBasics:CompositionRuleDirectProductR3AndR3RotVec}
({\it q0}, {\it incrementalMotionVector})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]compute composition operation for pairs in the group obtained from the direct product of R3 and R3, see \cite{HolzingerGerstmayr2020}
\item[]the rotation vector is used as rotation parametrizations
\item[]this composition operation can be used in formulations which represent the translational velocities in the global (inertial) frame
\end{itemize}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it q0}: 6D vector as np.array containing position coordinates and rotation vector
\item[]{\it incrementalMotionVector}: 6D incremental motion vector as np.array
\end{itemize}
\item[--]
{\bf output}: 7D vector as np.array containing composed position coordinates and composed rotation vector
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L433}{CompositionRuleSemiDirectProductR3AndR3RotVec}{}}}\label{sec:lieGroupBasics:CompositionRuleSemiDirectProductR3AndR3RotVec}
({\it q0}, {\it incrementalMotionVector})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]compute composition operation for pairs in the group obtained from the direct product of R3 and R3.
\item[]the rotation vector is used as rotation parametrizations
\item[]this composition operation can be used in formulations which represent the translational velocities in the local (body-attached) frame
\end{itemize}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it q0}: 6D vector as np.array containing position coordinates and rotation vector
\item[]{\it incrementalMotionVector}: 6D incremental motion vector as np.array
\end{itemize}
\item[--]
{\bf output}: 6D vector as np.array containing composed position coordinates and composed rotation vector
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L459}{CompositionRuleDirectProductR3AndR3RotXYZAngles}{}}}\label{sec:lieGroupBasics:CompositionRuleDirectProductR3AndR3RotXYZAngles}
({\it q0}, {\it incrementalMotionVector})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]compute composition operation for pairs in the group obtained from the direct product of R3 and R3.
\item[]Cardan-Tait/Bryan (CTB) angles are used as rotation parametrizations
\item[]this composition operation can be used in formulations which represent the translational velocities in the global (inertial) frame
\end{itemize}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it q0}: 6D vector as np.array containing position coordinates and Cardan-Tait/Bryan angles
\item[]{\it incrementalMotionVector}: 6D incremental motion vector as np.array
\end{itemize}
\item[--]
{\bf output}: 6D vector as np.array containing composed position coordinates and composed Cardan-Tait/Bryan angles
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L484}{CompositionRuleSemiDirectProductR3AndR3RotXYZAngles}{}}}\label{sec:lieGroupBasics:CompositionRuleSemiDirectProductR3AndR3RotXYZAngles}
({\it q0}, {\it incrementalMotionVector})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]compute composition operation for pairs in the group obtained from the direct product of R3 and R3.
\item[]Cardan-Tait/Bryan (CTB) angles are used as rotation parametrizations
\item[]this composition operation can be used in formulations which represent the translational velocities in the local (body-attached) frame
\end{itemize}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it q0}: 6D vector as np.array containing position coordinates and Cardan-Tait/Bryan angles
\item[]{\it incrementalMotionVector}: 6D incremental motion vector as np.array
\end{itemize}
\item[--]
{\bf output}: 6D vector as np.array containing composed position coordinates and composed Cardan-Tait/Bryan angles
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L509}{CompositionRuleForEulerParameters}{}}}\label{sec:lieGroupBasics:CompositionRuleForEulerParameters}
({\it q}, {\it p})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]compute composition operation for Euler parameters (unit quaternions)
\item[]this composition operation is quaternion multiplication, see \cite{Terze2016}
\end{itemize}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it q}: 4D vector as np.array containing Euler parameters
\item[]{\it p}: 4D vector as np.array containing Euler parameters
\end{itemize}
\item[--]
{\bf output}: 4D vector as np.array containing composed (multiplied) Euler parameters
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L525}{CompositionRuleForRotationVectors}{}}}\label{sec:lieGroupBasics:CompositionRuleForRotationVectors}
({\it v0}, {\it Omega})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute composition operation for rotation vectors v0 and Omega, see \cite{Holzinger2021}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it v0}: 3D rotation vector as np.array
\item[]{\it Omega}: 3D (incremental) rotation vector as np.array
\end{itemize}
\item[--]
{\bf output}: 3D vector as np.array containing composed rotation vector v
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/lieGroupBasics.py\#L548}{CompositionRuleRotXYZAnglesRotationVector}{}}}\label{sec:lieGroupBasics:CompositionRuleRotXYZAnglesRotationVector}
({\it alpha0}, {\it Omega})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute composition operation for RotXYZ angles, see \cite{Holzinger2021}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it alpha0}: 3D vector as np.array containing RotXYZ angles
\item[]{\it Omega}:  3D vector as np.array containing the (incremental) rotation vector
\end{itemize}
\item[--]
{\bf output}: 3D vector as np.array containing composed RotXYZ angles
\item[--]
{\bf author}: Stefan Holzinger
\vspace{12pt}\end{itemize}
%
\mysubsection{Module: mainSystemExtensions}
\label{sec:module:mainSystemExtensions}
NOTE: This module only contains links for extensions of C++ classes. The description is available in the respective descriptions of the C++ interface.
\mysubsection{Module: physics}
\label{sec:module:physics}
  The physics library includes helper functions and data related to physics 
           models and parameters; for rigid body inertia, see rigidBodyUtilities
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Date:      2021-01-20
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/physics.py\#L29}{StribeckFunction}{}}}\label{sec:physics:StribeckFunction}
({\it vel}, {\it muDynamic}, {\it muStaticOffset}, {\it muViscous}= 0, {\it expVel}= 1e-3, {\it regVel}= 1e-3)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]describes regularized Stribeck function with optial viscous part for given velocity,
\item[]$f(v) = \begin{cases} (\mu_d + \mu_{s_{off}}) v, \quad \mathrm{if} \quad |v| <= v_{reg}\\ \mathrm{Sign}(v)\left( \mu_d + \mu_{s_{off}} \mathrm{e}^{-(|v|-v_{reg})/v_{exp}} + \mu_v (|v|-v_{reg}) \right), \quad \mathrm{else}\end{cases}$
\end{itemize}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it vel}: input velocity $v$
\item[]{\it muDynamic}: dynamic friction coefficient $\mu_d$
\item[]{\it muStaticOffset}: $\mu_{s_{off}}$, offset to dynamic friction, which gives muStaticFriction = muDynamic + muStaticOffset
\item[]{\it muViscous}: $\mu_v$, viscous part, acting proportional to velocity except for regVel
\item[]{\it regVel}: $v_{reg}$,  small regularization velocity in which the friction is linear around zero velocity (e.g., to get Newton converged)
\item[]{\it expVel}: $v_{exp}$,  velocity (relative to regVel, at which the muStaticOffset decreases exponentially, at vel=expVel, the factor to muStaticOffset is exp(-1) = 36.8\%)
\end{itemize}
\item[--]
{\bf output}: returns velocity dependent friction coefficient (if muDynamic and muStaticOffset are friction coefficients) or friction force (if muDynamic and muStaticOffset are on force level)
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on StribeckFunction see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/massSpringFrictionInteractive.py}{\texttt{massSpringFrictionInteractive.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/physics.py\#L38}{RegularizedFrictionStep}{}}}\label{sec:physics:RegularizedFrictionStep}
({\it x}, {\it x0}, {\it h0}, {\it x1}, {\it h1})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: helper function for RegularizedFriction(...)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/physics.py\#L59}{RegularizedFriction}{}}}\label{sec:physics:RegularizedFriction}
({\it vel}, {\it muDynamic}, {\it muStaticOffset}, {\it velStatic}, {\it velDynamic}, {\it muViscous}= 0)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: describes regularized friction function, with increased static friction, dynamic friction and optional viscous part
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it vel}: input velocity
\item[]{\it muDynamic}: dynamic friction coefficient
\item[]{\it muStaticOffset}: offset to dynamic friction, which gives muStaticFriction = muDynamic + muStaticOffset
\item[]{\it muViscous}: viscous part, acting proportional to velocity for velocities larger than velDynamic; extension to mentioned references
\item[]{\it velStatic}: small regularization velocity at which exactly the staticFriction is reached; for smaller velocities, the friction is smooth and zero-crossing (unphysical!) (e.g., to get Newton converged)
\item[]{\it velDynamic}: velocity at which muDynamic is reached for first time
\end{itemize}
\item[--]
{\bf output}: returns velocity dependent friction coefficient (if muDynamic and muStaticOffset are friction coefficients) or friction force (if muDynamic and muStaticOffset are on force level)
\item[--]
{\bf notes}: see references: Flores et al. \cite{Flores2008}, Qian et al. \cite{Qian2018}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on RegularizedFriction see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/massSpringFrictionInteractive.py}{\texttt{massSpringFrictionInteractive.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/physics.py\#L77}{VonMisesStress}{}}}\label{sec:physics:VonMisesStress}
({\it stress6D})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute equivalent von-Mises stress given 6 stress components or list of stress6D (or stress6D in rows of np.array)
\item[--]
{\bf input}: stress6D: 6 stress components as list or np.array, using ordering $[\sigma_{xx}$, $\sigma_{yy}$, $\sigma_{zz}$, $\sigma_{yz}$, $\sigma_{xz}$, $\sigma_{xy}]$
\item[--]
{\bf output}: returns scalar equivalent von-Mises stress or np.array of von-Mises stresses for all stress6D
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/physics.py\#L100}{UFvonMisesStress}{}}}\label{sec:physics:UFvonMisesStress}
({\it mbs}, {\it t}, {\it sensorNumbers}, {\it factors}, {\it configuration})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: Sensor user function to compute equivalent von-Mises stress from sensor with Stress or StressLocal OutputVariableType; if more than 1 sensor is given in sensorNumbers, then the maximum stress is computed
\item[--]
{\bf input}: arguments according to \texttt{SensorUserFunction}; factors are ignored
\item[--]
{\bf output}: returns scalar (maximum) equivalent von-Mises stress
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  #assuming s0, s1, s2 being sensor numbers with StressLocal components
  sUser = mbs.AddSensor(SensorUserFunction(sensorNumbers=[s0,s1,s2],
                                           fileName='solution/sensorMisesStress.txt',
                                           sensorUserFunction=UFvonMisesStress))
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
\mysubsection{Module: plot}
\label{sec:module:plot}
 	Plot utility functions based on matplotlib, including plotting of sensors and FFT.
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Johannes Gerstmayr
\item[]Date:      2020-09-16 (created)
\item[]Notes: 	For a list of plot colors useful for matplotlib, see also advancedUtilities.PlotLineCode(...)
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/plot.py\#L56}{ParseOutputFileHeader}{}}}\label{sec:plot:ParseOutputFileHeader}
({\it lines})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: parse header of output file (solution file, sensor file, genetic optimization output, ...) given in file.readlines() format
\item[--]
{\bf output}: return dictionary with 'type'=['sensor','solution','geneticOptimization','parameterVariation'], 'variableType' containing variable types, 'variableRanges' containing ranges for parameter variation
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/plot.py\#L154}{PlotSensorDefaults}{}}}\label{sec:plot:PlotSensorDefaults}
()
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: returns structure with default values for PlotSensor which can be modified once to be set for all later calls of PlotSensor
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  #change one parameter:
  plot.PlotSensorDefaults().fontSize = 12
  #==>now PlotSensor(...) will use fontSize=12
  #==>now PlotSensor(..., fontSize=10) will use fontSize=10
  #==>BUT PlotSensor(..., fontSize=16) will use fontSize=12, BECAUSE 16 is the original default value!!!
  #see which parameters are available:
  print(PlotSensorDefaults())
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
%
\noindent For examples on PlotSensorDefaults see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotFlexible.py}{\texttt{serialRobotFlexible.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/coordinateVectorConstraintGenericODE2.py}{\texttt{coordinateVectorConstraintGenericODE2.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/plot.py\#L230}{PlotSensor}{}}}({\it mbs}, {\it sensorNumbers}= [], {\it components}= 0, {\it xLabel}= 'time (s)', {\it yLabel}= None, {\it labels}= [], {\it colorCodeOffset}= 0, {\it newFigure}= True, {\it closeAll}= False, {\it componentsX}= [], {\it title}= '', {\it figureName}= '', {\it fontSize}= 16, {\it colors}= [], {\it lineStyles}= [], {\it lineWidths}= [], {\it markerStyles}= [], {\it markerSizes}= [], {\it markerDensity}= 0.08, {\it rangeX}= [], {\it rangeY}= [], {\it majorTicksX}= 10, {\it majorTicksY}= 10, {\it offsets}= [], {\it factors}= [], {\it subPlot}= [], {\it sizeInches}= [6.4,4.8], {\it fileName}= '', {\it useXYZcomponents}= True, {\it **kwargs})
\end{flushleft}
\bi
  \item \mybold{NOTE}: this function is directly available in MainSystem (mbs); it should be directly called as mbs.PlotSensor(...). For description of the interface, see the MainSystem Python extensions, \refSection{sec:mainsystemextensions:PlotSensor}.

\ei
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/plot.py\#L690}{PlotFFT}{}}}\label{sec:plot:PlotFFT}
({\it frequency}, {\it data}, {\it xLabel}= 'frequency', {\it yLabel}= 'magnitude', {\it label}= '', {\it freqStart}= 0, {\it freqEnd}= -1, {\it logScaleX}= True, {\it logScaleY}= True, {\it majorGrid}= True, {\it minorGrid}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: plot fft spectrum of signal
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it frequency}:  frequency vector (Hz, if time is in SECONDS)
\item[]{\it data}:       magnitude or phase as returned by ComputeFFT() in exudyn.signalProcessing
\item[]{\it xLabel}:     label for x-axis, default=frequency
\item[]{\it yLabel}:     label for y-axis, default=magnitude
\item[]{\it label}:      either empty string ('') or name used in legend
\item[]{\it freqStart}:  starting range for frequency
\item[]{\it freqEnd}:    end of range for frequency; if freqEnd==-1 (default), the total range is plotted
\item[]{\it logScaleX}:  use log scale for x-axis
\item[]{\it logScaleY}:  use log scale for y-axis
\item[]{\it majorGrid}:  if True, plot major grid with solid line
\item[]{\it minorGrid}:  if True, plot minor grid with dotted line
\end{itemize}
\item[--]
{\bf output}: creates plot and returns plot (plt) handle
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on PlotFFT see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/nMassOscillatorEigenmodes.py}{\texttt{nMassOscillatorEigenmodes.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/plot.py\#L740}{FileStripSpaces}{}}}\label{sec:plot:FileStripSpaces}
({\it filename}, {\it outputFilename}, {\it fileCommentChar}= '', {\it removeDoubleChars}= '')
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: strip spaces at beginning / end of lines; this may be sometimes necessary when reading solutions from files that are space-separated
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it filename}: name of file to process
\item[]{\it outputFilename}: name of file to which text without leading/trailing spaces is written
\item[]{\it fileCommentChar}: if not equal '', lines starting with this character will not be processed
\item[]{\it removeDoubleChars}: if not equal '', this double characters (especial multiple spaces) will be removed; '1.0   3.0' will be converted into '1.0 3.0'
\end{itemize}
\item[--]
{\bf output}: new file written
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/plot.py\#L767}{DataArrayFromSensorList}{}}}\label{sec:plot:DataArrayFromSensorList}
({\it mbs}, {\it sensorNumbers}, {\it positionList}= [], {\it time}= '')
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: helper function to create data array from outputs defined by sensorNumbers list [+optional positionList which must have, e.g., local arc-length of beam according to sensor numbers]; if time=='', current sensor values will be used; if time!=[], evaluation will be based on loading values from file or sensor internal data and evaluate at that time
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: a MainSystem where the sensors are given
\item[]{\it sensorNumbers}: a list of sensor numbers, which shall be evaluated
\item[]{\it positionList}: an optional list of positions per sensor (e.g., axial positions at beam)
\item[]{\it time}: optional time at which the sensor values are evaluated (currently not implemented)
\end{itemize}
\item[--]
{\bf output}: returns data as numpy array, containg per row the number or position (positionList) in the first column and all sensor values in the remaining columns
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on DataArrayFromSensorList see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDriveALE.py}{\texttt{beltDriveALE.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDriveReevingSystem.py}{\texttt{beltDriveReevingSystem.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/plot.py\#L794}{LoadImage}{}}}\label{sec:plot:LoadImage}
({\it fileName}, {\it trianglesAsLines}= True, {\it verbose}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: import image text file as exported from RedrawAndSaveImage() with exportImages.saveImageFormat='TXT'; triangles are converted to lines
\item[--]
{\bf input}: fileName includes directory
\item[--]
{\bf output}: returns dictionary with according structures
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on LoadImage see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolveCraigBampton.py}{\texttt{NGsolveCraigBampton.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolvePistonEngine.py}{\texttt{NGsolvePistonEngine.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/plot.py\#L867}{PlotImage}{}}}\label{sec:plot:PlotImage}
({\it imageData}, {\it HT}= np.eye(4), {\it axesEqual}= True, {\it plot3D}= False, {\it lineWidths}= 1, {\it lineStyles}= '-', {\it triangleEdgeColors}= 'black', {\it triangleEdgeWidths}= 0.5, {\it removeAxes}= True, {\it orthogonalProjection}= True, {\it title}= '', {\it figureName}= '', {\it fileName}= '', {\it fontSize}= 16, {\it closeAll}= False, {\it azim}= 0., {\it elev}= 0.)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: plot 2D or 3D vector image data as provided by LoadImage(...) using matplotlib
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it imageData}: dictionary as provided by LoadImage(...)
\item[]{\it HT}: homogeneous transformation, used to transform coordinates; lines are drawn in (x,y) plane
\item[]{\it axesEqual}: for 2D mode, axis are set equal, otherwise model is distorted
\item[]{\it plot3D}: in this mode, a 3D visualization is used; triangles are only be displayed in this mode!
\item[]{\it lineWidths}: width of lines
\item[]{\it lineStyles}: matplotlib codes for lines
\item[]{\it triangleEdgeColors}: color for triangle edges as tuple of rgb colors or matplotlib color code strings 'black', 'r', ...
\item[]{\it triangleEdgeWidths}: width of triangle edges; set to 0 if edges shall not be shown
\item[]{\it removeAxes}: if True, all axes and background are removed for simpler export
\item[]{\it orthogonalProjection}: if True, projection is orthogonal with no perspective view
\item[]{\it title}: optional string representing plot title
\item[]{\it figureName}: optional name for figure, if newFigure=True
\item[]{\it fileName}: if this string is non-empty, figure will be saved to given path and filename (use figName.pdf to safe as PDF or figName.png to save as PNG image); use matplotlib.use('Agg') in order not to open figures if you just want to save them
\item[]{\it fontSize}: change general fontsize of axis, labels, etc. (matplotlib default is 12, default in PlotSensor: 16)
\item[]{\it closeAll}: if True, close all figures before opening new one (do this only in first PlotSensor command!)
\item[]azim, elev: for 3D plots: the initial angles for the 3D view in degrees
\end{itemize}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on PlotImage see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolveCraigBampton.py}{\texttt{NGsolveCraigBampton.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolvePistonEngine.py}{\texttt{NGsolvePistonEngine.py}} (Ex)
\ei

%
\mysubsection{Module: processing}
\label{sec:module:processing}
  The processing module supports multiple execution of EXUDYN models.
           It includes parameter variation and (genetic) optimization functionality.
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Johannes Gerstmayr, Stefan Holzinger
\item[]Date:      2020-11-17 (2022-02-04 modified by Stefan Holzinger)
\item[]Notes:     Parallel processing, which requires multiprocessing library, can lead to considerable speedup (measured speedup factor > 50 on 80 core machine). The progess bar during multiprocessing requires the library tqdm.
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/processing.py\#L27}{GetVersionPlatformString}{}}}\label{sec:processing:GetVersionPlatformString}
()
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]internal function to return Exudyn version string, which allows to identify how results have been obtained
\item[]writes something like 'Exudyn version = 1.2.33.dev1; Python3.9.11; Windows AVX2 FLOAT64; Windows10 V10.0.19044; AMD64; Intel64 Family 6 Model 142 Stepping 10, GenuineIntel'
\end{itemize}
\item[--]
{\bf notes}: If exudyn C++ module is not available, it outputs the Python version
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/processing.py\#L162}{ProcessParameterList}{}}}\label{sec:processing:ProcessParameterList}
({\it parameterFunction}, {\it parameterList}, {\it useMultiProcessing}, {\it clusterHostNames}= [], {\it **kwargs})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: processes parameterFunction for given parameters in parameterList, see ParameterVariation
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it parameterFunction}: function, which takes the form parameterFunction(parameterDict) and which returns any values that can be stored in a list (e.g., a floating point number)
\item[]{\it parameterList}: list of parameter sets (as dictionaries) which are fed into the parameter variation, see example
\item[]{\it useMultiProcessing}: if True, the multiprocessing lib is used for parallelized computation; WARNING: be aware that the function does not check if your function runs independently; DO NOT use GRAPHICS and DO NOT write to same output files, etc.!
\item[]{\it numberOfThreads}: default: same as number of cpus (threads); used for multiprocessing lib;
\item[]{\it resultsFile}: if provided, output is immediately written to resultsFile during processing
\item[]{\it clusterHostNames}: list of hostnames, e.g. clusterHostNames=['123.124.125.126','123.124.125.127'] providing a list of strings with IP addresses or host names, see dispy documentation. If list is non-empty and useMultiProcessing==True and dispy is installed, cluster computation is used; NOTE that cluster computation speedup factors shown are not fully true, as they include a significant overhead; thus, only for computations which take longer than 1-5 seconds and for sufficient network bandwith, the speedup is roughly true
\item[]{\it useDispyWebMonitor}: if given in **kwargs, a web browser is startet in case of cluster computation to manage the cluster during computation
\item[]{\it useMPI}: if given in **kwargs and set True, and if Python package mpi4py is installed, mpi parallelization is used; for hints see parameterVariationExample.py
\end{itemize}
\item[--]
{\bf output}: returns values containing the results according to parameterList
\item[--]
{\bf notes}: options are passed from Parametervariation
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  def PF(parameterSet):
      #in reality, value will be result of a complex exudyn simulation:
      value = sin(parameterSet['mass']) * parameterSet['stiffness']
      return value
  values=ProcessParameterList(parameterFunction=PF,
                              parameterList=[{'m':1, 's':100},
                                            {'m':2, 's':100},
                                            {'m':3, 's':100},
                                            {'m':1, 's':200},
                                            {'m':2, 's':250},
                                            {'m':3, 's':300},
                                            ], useMultiProcessing=False )
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/processing.py\#L392}{ParameterVariation}{}}}\label{sec:processing:ParameterVariation}
({\it parameterFunction}, {\it parameters}, {\it useLogSpace}= False, {\it debugMode}= False, {\it addComputationIndex}= False, {\it useMultiProcessing}= False, {\it showProgress}= True, {\it parameterFunctionData}= {}, {\it clusterHostNames}= [], {\it numberOfThreads}= None, {\it resultsFile}= '', {\it **kwargs})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]calls successively the function parameterFunction(parameterDict) with variation of parameters in given range; parameterDict is a dictionary, containing the current values of parameters,
\item[]e.g., parameterDict=['mass':13, 'stiffness':12000] to be computed and returns a value or a list of values which is then stored for each parameter
\end{itemize}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it parameterFunction}: function, which takes the form parameterFunction(parameterDict) and which returns any values that can be stored in a list (e.g., a floating point number)
\item[]{\it parameters}: given as a dictionary, consist of name and tuple of (begin, end, numberOfValues) same as in np.linspace(...), e.g. 'mass':(10,50,10), for a mass varied from 10 to 50, using 10 steps OR a list of values [v0, v1, v2, ...], e.g. 'mass':[10,15,25,50]
\item[]{\it useLogSpace}: (optional) if True, the parameters are varied at a logarithmic scale, e.g., [1, 10, 100] instead linear [1, 50.5, 100]
\item[]{\it debugMode}: if True, additional print out is done
\item[]{\it addComputationIndex}: if True, key 'computationIndex' is added to every parameterDict in the call to parameterFunction(), which allows to generate independent output files for every parameter, etc.
\item[]{\it useMultiProcessing}: if True, the multiprocessing lib is used for parallelized computation; WARNING: be aware that the function does not check if your function runs independently; DO NOT use GRAPHICS and DO NOT write to same output files, etc.!
\item[]{\it showProgress}: if True, shows for every iteration the progress bar (requires tqdm library)
\item[]{\it resultsFile}: if provided, output is immediately written to resultsFile during processing
\item[]{\it numberOfThreads}: default(None): same as number of cpus (threads); used for multiprocessing lib;
\item[]{\it parameterFunctionData}: dictionary containing additional data passed to the parameterFunction inside the parameters with dict key 'functionData'; use this e.g. for passing solver parameters or other settings
\item[]{\it clusterHostNames}: list of hostnames, e.g. clusterHostNames=['123.124.125.126','123.124.125.127'] providing a list of strings with IP addresses or host names, see dispy documentation. If list is non-empty and useMultiProcessing==True and dispy is installed, cluster computation is used; NOTE that cluster computation speedup factors shown are not fully true, as they include a significant overhead; thus, only for computations which take longer than 1-5 seconds and for sufficient network bandwith, the speedup is roughly true
\item[]{\it useDispyWebMonitor}: if given in **kwargs, a web browser is started in case of cluster computation to manage the cluster during computation
\item[]{\it useMPI}: if given in **kwargs and set True, and if Python package mpi4py is installed, mpi parallelization is used; for hints see parameterVariationExample.py
\end{itemize}
\item[--]
{\bf output}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]returns [parameterList, values], containing, e.g., parameterList=\{'mass':[1,1,1,2,2,2,3,3,3], 'stiffness':[4,5,6, 4,5,6, 4,5,6]\} and the result values of the parameter variation accoring to the parameterList,
\item[]values=[7,8,9 ,3,4,5, 6,7,8] (depends on solution of problem ..., can also contain tuples, etc.)
\end{itemize}
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  if __name__ == '__main__':
      ParameterVariation(parameterFunction=Test,
                         parameters={'mass':(1,10,10), 'stiffness':(1000,10000,10)},
                         useMultiProcessing=True)
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ParameterVariation see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/dispyParameterVariationExample.py}{\texttt{dispyParameterVariationExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/mpi4pyExample.py}{\texttt{mpi4pyExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/multiprocessingTest.py}{\texttt{multiprocessingTest.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/parameterVariationExample.py}{\texttt{parameterVariationExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/geneticOptimizationTest.py}{\texttt{geneticOptimizationTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/processing.py\#L543}{GeneticOptimization}{}}}\label{sec:processing:GeneticOptimization}
({\it objectiveFunction}, {\it parameters}, {\it populationSize}= 100, {\it numberOfGenerations}= 10, {\it elitistRatio}= 0.1, {\it crossoverProbability}= 0.25, {\it crossoverAmount}= 0.5, {\it rangeReductionFactor}= 0.7, {\it distanceFactor}= 0.1, {\it childDistribution}= "uniform", {\it distanceFactorGenerations}= -1, {\it debugMode}= False, {\it addComputationIndex}= False, {\it useMultiProcessing}= False, {\it showProgress}= True, {\it clusterHostNames}= [], {\it parameterFunctionData}= {}, {\it **kwargs})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute minimum of given objectiveFunction
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it objectiveFunction}: function, which takes the form parameterFunction(parameterDict) and which returns a value or list (or numpy array) which reflects the size of the objective to be minimized
\item[]{\it parameters}: given as a dictionary, consist of name and tuple containing the search range for this parameter (begin, end), e.g. 'mass':(10,50)
\item[]{\it populationSize}: individuals in every generation
\item[]{\it initialPopulationSize}: number of random initial individuals; default: population size
\item[]{\it numberOfGenerations}: number of generations; NOTE: it is required that elitistRatio*populationSize >= 1
\item[]{\it elitistRatio}: the number of surviving individuals in every generation is equal to the previous population times the elitistRatio
\item[]{\it crossoverProbability}: if > 0: children are generated from two (randomly selected) parents by gene-crossover; if 0, no crossover is used
\item[]{\it crossoverAmount}: if crossoverProbability > 0, then this amount is the probability of genes to cross; 0.1: small amount of genes cross, 0.5: 50\% of genes cross
\item[]{\it rangeReductionFactor}: reduction of mutation range (boundary) relative to range of last generation; helps algorithm to converge to more accurate values
\item[]{\it distanceFactor}: children only survive at a certain relative distance of the current range; must be small enough (< 0.5) to allow individuals to survive; ignored if distanceFactor=0; as a rule of thumb, the distanceFactor should be zero in case that there is only one significant minimum, but if there are many local minima, the distanceFactor should be used to search at several different local minima
\item[]{\it childDistribution}: string with name of distribution for producing childs: "normal" (Gaussian, with sigma defining range), "uniform" (exactly in range of childs)
\item[]{\it distanceFactorGenerations}: number of generations (populations) at which the distance factor is active; the distance factor is used to find several local minima; finally, convergence is speed up without the distance factor
\item[]{\it parameterFunctionData}: dictionary containing additional data passed to the objectiveFunction inside the parameters with dict key 'functionData'; use this e.g. for passing solver parameters or other settings
\item[]{\it randomizerInitialization}: initialize randomizer at beginning of optimization in order to get reproducible results, provide any integer in the range between 0 and 2**32 - 1 (default: no initialization)
\item[]{\it debugMode}: if True, additional print out is done
\item[]{\it addComputationIndex}: if True, key 'computationIndex' is added to every parameterDict in the call to parameterFunction(), which allows to generate independent output files for every parameter, etc.
\item[]{\it useMultiProcessing}: if True, the multiprocessing lib is used for parallelized computation; WARNING: be aware that the function does not check if your function runs independently; DO NOT use GRAPHICS and DO NOT write to same output files, etc.!
\item[]{\it showProgress}: if True, shows for every iteration the progress bar (requires tqdm library)
\item[]{\it numberOfThreads}: default: same as number of cpus (threads); used for multiprocessing lib;
\item[]{\it resultsFile}: if provided, the results are stored columnwise into the given file and written after every generation; use resultsMonitor.py to track results in realtime
\item[]{\it clusterHostNames}: list of hostnames, e.g. clusterHostNames=['123.124.125.126','123.124.125.127'] providing a list of strings with IP addresses or host names, see dispy documentation. If list is non-empty and useMultiProcessing==True and dispy is installed, cluster computation is used; NOTE that cluster computation speedup factors shown are not fully true, as they include a significant overhead; thus, only for computations which take longer than 1-5 seconds and for sufficient network bandwith, the speedup is roughly true
\item[]{\it useDispyWebMonitor}: if given in **kwargs, a web browser is startet in case of cluster computation to manage the cluster during computation
\end{itemize}
\item[--]
{\bf output}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]returns [optimumParameter, optimumValue, parameterList, valueList], containing the optimum parameter set 'optimumParameter', optimum value 'optimumValue', the whole list of parameters parameterList with according objective values 'valueList'
\item[]values=[7,8,9 ,3,4,5, 6,7,8] (depends on solution of problem ..., can also contain tuples, etc.)
\end{itemize}
\item[--]
{\bf notes}: This function is still under development and shows an experimental state!
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  GeneticOptimization(objectiveFunction = fOpt, parameters={'mass':(1,10), 'stiffness':(1000,10000)})
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GeneticOptimization see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/geneticOptimizationSliderCrank.py}{\texttt{geneticOptimizationSliderCrank.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/shapeOptimization.py}{\texttt{shapeOptimization.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/geneticOptimizationTest.py}{\texttt{geneticOptimizationTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/processing.py\#L904}{Minimize}{}}}\label{sec:processing:Minimize}
({\it objectiveFunction}, {\it parameters}, {\it initialGuess}= [], {\it method}= 'Nelder-Mead', {\it tol}= 1e-4, {\it options}= {}, {\it enforceBounds}= True, {\it debugMode}= False, {\it showProgress}= True, {\it addComputationIndex}= False, {\it storeFunctionValues}= True, {\it **kwargs})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: Compute minimum of given objectiveFunction. This function is based on scipy.optimize.minimize() and it provides the same interface as GeneticOptimization(). Note that in special cases, you should copy this function and adapt to your needs.
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it objectiveFunction}: function, which takes the form parameterFunction(parameterDict) and which returns a value or list (or numpy array) which reflects the size of the objective to be minimized
\item[]{\it parameters}: given as a dictionary, consist of name and tuple containing the search range for this parameter (begin, end), e.g. 'mass':(10,50)
\item[]{\it storeFunctionValues}: if True, objectiveFunction values are computed (additional costs!) and stored in every iteration into valueList
\item[]{\it initialGuess}: initial guess. Array of real elements of size (n,), where 'n' is the number of independent variables. If not provided by the user, initialGuess is computed from bounds provided in parameterDict.
\item[]{\it method}: solver that should be used, e.g. 'Nelder-Mead', 'Powell', 'CG' etc. A list of available solvers can be found in the documentation of scipy.optimize.minimize().
\item[]{\it tol}: tolerance for termination. When tol is specified, the selected minimization algorithm sets some relevant solver-specific tolerance(s) equal to tol (but this is usually not the tolerance for loss or parameters1). For detailed control, use solver-specific options using the 'options' variable.
\item[]{\it options}: dictionary of solver options. Can be used to set absolute and relative error tolerances. Detailed information can be found in the documentation of scipy.optimize.minimize().
\item[]{\it enforceBounds}: if True, ensures that only parameters within the bounds specified in ParameterDict are used for minimization; this may help to avoid, e.g., negative values, but may lead to non-convergence
\item[]{\it verbose}: prints solver information into console, e.g. number of iterations 'nit', number of funcion evaluations 'nfev', status etc.
\item[]{\it showProgress}: if True, shows for every iteration objective function value, current iteration number, time needed for current iteration, maximum number of iterations and loss (current value of objective function)
\item[]{\it addComputationIndex}: if True, key 'computationIndex' is added for consistency reasons with GeneticOptimizaiton to every parameterDict in the call to parameterFunction(); however, the value is always 0, because no multi threading is used in Minimize(...)
\item[]{\it resultsFile}: if provided, the results are stored columnwise into the given file and written after every generation; use resultsMonitor.py to track results in realtime
\item[]{\it useScipyBounds}: if True, use scipy.optimize.minimize() option 'bounds' to apply bounds on variable specified in ParameterDict. Note, this option is only used by some specific methods of scipy.optimize.minimize()! method='Nelder-Mead' ignores this option for example! if False, option 'enforceBounds' will be set to False!
\item[]{\it args}: extra arguments passed to the objective function and its derivatives (fun, jac and hess functions).
\end{itemize}
\item[--]
{\bf output}: returns [optimumParameter, optimumValue, parameterList, valueList], containing the optimum parameter set 'optimumParameter', optimum value 'optimumValue', the whole list of parameters parameterList with according objective values 'valueList'
\item[--]
{\bf author}: Stefan Holzinger, Johannes Gerstmayr
\item[--]
{\bf notes}: This function is still under development and shows an experimental state! There are currently unused arguments of scipy.optimize.minimize(): Detailed information can be found in the documentation of scipy.optimize.minimize().
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on Minimize see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/minimizeExample.py}{\texttt{minimizeExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/shapeOptimization.py}{\texttt{shapeOptimization.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/processing.py\#L1106}{ComputeSensitivities}{}}}\label{sec:processing:ComputeSensitivities}
({\it parameterFunction}, {\it parameters}, {\it scaledByReference}= False, {\it debugMode}= False, {\it addComputationIndex}= False, {\it useMultiProcessing}= False, {\it showProgress}= True, {\it parameterFunctionData}= dict(), {\it **kwargs})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]Perform a sensitivity analysis by successively calling the function parameterFunction(parameterList[i]) with a one at a time variation of parameters in the defined increments.
\item[]e.g., parameterList[0] =['mass':13, 'stiffness':12000] to be computed and returns a value or a list of values which is then stored for each parameter
\end{itemize}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it parameterFunction}: function, which takes the form parameterFunction(parameterDict) and which returns one or more output values for which the sensitivity is calculated
\item[]{\it parameters}: given as a dictionary, consist of name and tuple of (begin, Variation steps, numberOfValues) e.g. 'mass':(10,0.01,5), for a reference mass of 10, incremented by 0.01*10 and using 5 steps in negative and positive, doing 10 steps in total
\item[]{\it scaledByReference}: if true multiplies the sensitivities with the corresponding reference parameters, so that the sensitivity resembles a change relative to the reference value
\item[]{\it debugMode}: if True, additional information is shown
\item[]{\it addComputationIndex}: if True, key 'computationIndex' is added to every parameterDict in the call to parameterFunction(), which allows to generate independent output files for every parameter etc.
\item[]{\it useMultiProcessing}: if True, the multiprocessing lib is used for parallelized computation; WARNING: be aware that the function does not check if your function runs independently; DO NOT use GRAPHICS and DO NOT write to same output files, etc.!
\item[]{\it showProgress}: if True, shows for every iteration the progress bar (requires tqdm library)
\item[]{\it resultsFile}: if provided, output is immediately written to resultsFile during processing
\item[]{\it numberOfThreads}: default: same as number of cpus (threads); used for multiprocessing lib;
\item[]{\it parameterFunctionData}: dictionary containing additional data passed to the parameterFunction inside the parameters with dict key 'functionData'; use this e.g. for passing solver parameters or other settings
\end{itemize}
\item[--]
{\bf output}: returns [parameterList, valRef, valuesSorted, sensitivity], parameterList containing the list of dictionaries processed. valRef is the Solution for the reference values paramList[0], valuesSorted contains the results sorted by the dictionary key that was varied in the simulation. The sensitivity contains the calculated sensitivity, where the rows are the corresponding outputparameters, while the columns are the input parameters, thereby the index sensitivity[1,0] is the sensitivity of output parameter 1 with respect to the input parameter 0.
\item[--]
{\bf author}: Peter Manzl
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  ComputeSensitivities(parameterFunction=ParameterFunction, parameters = {'mass': (mRef, 0.01, 3), 'spring': (1000,0.01, 10),}, multiprocessing=True)
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ComputeSensitivities see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ComputeSensitivitiesExample.py}{\texttt{ComputeSensitivitiesExample.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/processing.py\#L1216}{PlotOptimizationResults2D}{}}}\label{sec:processing:PlotOptimizationResults2D}
({\it parameterList}, {\it valueList}, {\it xLogScale}= False, {\it yLogScale}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: visualize results of optimization for every parameter (2D plots)
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it parameterList}: taken from output parameterList of \texttt{GeneticOptimization}, containing a dictinary with lists of parameters
\item[]{\it valueList}: taken from output valueList of \texttt{GeneticOptimization}; containing a list of floats that result from the objective function
\item[]{\it xLogScale}: use log scale for x-axis
\item[]{\it yLogScale}: use log scale for y-axis
\end{itemize}
\item[--]
{\bf output}: return [figList, axList] containing the corresponding handles; creates a figure for every parameter in parameterList
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on PlotOptimizationResults2D see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/geneticOptimizationSliderCrank.py}{\texttt{geneticOptimizationSliderCrank.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/minimizeExample.py}{\texttt{minimizeExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/shapeOptimization.py}{\texttt{shapeOptimization.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/geneticOptimizationTest.py}{\texttt{geneticOptimizationTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/processing.py\#L1272}{PlotSensitivityResults}{}}}\label{sec:processing:PlotSensitivityResults}
({\it valRef}, {\it valuesSorted}, {\it sensitivity}, {\it fVar}= None, {\it strYAxis}= None)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: visualize results of Sensitivityanalyis for every parameter (2D plots)
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it valRef}: The output values of the reference solution
\item[]{\it valuesSorted}: The output values of the analysed function sorted by the parameter which was varied
\item[]{\it sensitivity}: The sensitivity Matrix calculated by the function \texttt{ComputeSensitivities()}
\item[]{\it fVar}: The list of variation stepsizes. It is assumed to be 1e-3 if not defined.
\item[]{\it strYAxis}: A list of strings to label the plots yAxis
\end{itemize}
\item[--]
{\bf output}: return [fig, axs] containing the corresponding handles; creates a subplot for every row in the sensitivity matrix
\item[--]
{\bf author}: Peter Manzl
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on PlotSensitivityResults see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ComputeSensitivitiesExample.py}{\texttt{ComputeSensitivitiesExample.py}} (Ex)
\ei

%
\mysubsection{Module: rigidBodyUtilities}
\label{sec:module:rigidBodyUtilities}
 	Advanced utility/mathematical functions for reference frames, rigid body kinematics
			and dynamics. Useful Euler parameter and Tait-Bryan angle conversion functions
			are included. A class for rigid body inertia creating and transformation is available.
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Johannes Gerstmayr, Stefan Holzinger (rotation vector and Tait-Bryan angles)
\item[]Date:      2020-03-10 (created)
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L30}{ComputeOrthonormalBasisVectors}{}}}\label{sec:rigidBodyUtilities:ComputeOrthonormalBasisVectors}
({\it vector0})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute orthogonal basis vectors (normal1, normal2) for given vector0 (non-unique solution!); the length of vector0 must not be 1; if vector0 == [0,0,0], then any normal basis is returned
\item[--]
{\bf output}: returns [vector0normalized, normal1, normal2], in which vector0normalized is the normalized vector0 (has unit length); all vectors in numpy array format
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L55}{ComputeOrthonormalBasis}{}}}\label{sec:rigidBodyUtilities:ComputeOrthonormalBasis}
({\it vector0})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute orthogonal basis, in which the normalized vector0 is the first column and the other columns are normals to vector0 (non-unique solution!); the length of vector0 must not be 1; if vector0 == [0,0,0], then any normal basis is returned
\item[--]
{\bf output}: returns A, a rotation matrix, in which the first column is parallel to vector0; A is a 2D numpy array
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L61}{GramSchmidt}{}}}\label{sec:rigidBodyUtilities:GramSchmidt}
({\it vector0}, {\it vector1})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute Gram-Schmidt projection of given 3D vector 1 on vector 0 and return normalized triad (vector0, vector1, vector0 x vector1)
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on GramSchmidt see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ACFtest.py}{\texttt{ACFtest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/sliderCrank3Dbenchmark.py}{\texttt{sliderCrank3Dbenchmark.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/sliderCrank3Dtest.py}{\texttt{sliderCrank3Dtest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L81}{Skew}{}}}\label{sec:rigidBodyUtilities:Skew}
({\it vector})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute skew symmetric 3x3-matrix from 3x1- or 1x3-vector
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on Skew see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/leggedRobot.py}{\texttt{leggedRobot.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/stiffFlyballGovernor2.py}{\texttt{stiffFlyballGovernor2.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/carRollingDiscTest.py}{\texttt{carRollingDiscTest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/explicitLieGroupIntegratorPythonTest.py}{\texttt{explicitLieGroupIntegratorPythonTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/explicitLieGroupIntegratorTest.py}{\texttt{explicitLieGroupIntegratorTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/heavyTop.py}{\texttt{heavyTop.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/laserScannerTest.py}{\texttt{laserScannerTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/LieGroupIntegrationUnitTests.py}{\texttt{LieGroupIntegrationUnitTests.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L89}{Skew2Vec}{}}}\label{sec:rigidBodyUtilities:Skew2Vec}
({\it skew})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert skew symmetric matrix m to vector
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on Skew2Vec see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInverseKinematics.py}{\texttt{serialRobotInverseKinematics.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L111}{ComputeSkewMatrix}{}}}\label{sec:rigidBodyUtilities:ComputeSkewMatrix}
({\it v})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute skew matrix from vector or matrix; used for ObjectFFRF and CMS implementation
\item[--]
{\bf input}: a vector v in np.array format, containing 3*n components or a matrix with m columns of same shape
\item[--]
{\bf output}: if v is a vector, output is (3*n x 3) skew matrix in np.array format; if v is a (n x m) matrix, the output is a (3*n x m) skew matrix in np.array format
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ComputeSkewMatrix see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectFFRFTest.py}{\texttt{objectFFRFTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L176}{EulerParameters2G}{}}}\label{sec:rigidBodyUtilities:EulerParameters2G}
({\it eulerParameters})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert Euler parameters (ep) to G-matrix (=$\partial \tomega  / \partial \pv_t$)
\item[--]
{\bf input}: vector of 4 eulerParameters as list or np.array
\item[--]
{\bf output}: 3x4 matrix G as np.array
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L185}{EulerParameters2GLocal}{}}}\label{sec:rigidBodyUtilities:EulerParameters2GLocal}
({\it eulerParameters})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert Euler parameters (ep) to local G-matrix (=$\partial \LU{b}{\tomega} / \partial \pv_t$)
\item[--]
{\bf input}: vector of 4 eulerParameters as list or np.array
\item[--]
{\bf output}: 3x4 matrix G as np.array
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on EulerParameters2GLocal see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectFFRFTest.py}{\texttt{objectFFRFTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/rigidBodyAsUserFunctionTest.py}{\texttt{rigidBodyAsUserFunctionTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L194}{EulerParameters2RotationMatrix}{}}}\label{sec:rigidBodyUtilities:EulerParameters2RotationMatrix}
({\it eulerParameters})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute rotation matrix from eulerParameters
\item[--]
{\bf input}: vector of 4 eulerParameters as list or np.array
\item[--]
{\bf output}: 3x3 rotation matrix as np.array
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on EulerParameters2RotationMatrix see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSMobileManipulator.py}{\texttt{ROSMobileManipulator.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/stiffFlyballGovernor2.py}{\texttt{stiffFlyballGovernor2.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/stiffFlyballGovernor.py}{\texttt{stiffFlyballGovernor.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L204}{RotationMatrix2EulerParameters}{}}}\label{sec:rigidBodyUtilities:RotationMatrix2EulerParameters}
({\it rotationMatrix})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute Euler parameters from given rotation matrix
\item[--]
{\bf input}: 3x3 rotation matrix as list of lists or as np.array
\item[--]
{\bf output}: vector of 4 eulerParameters as np.array
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on RotationMatrix2EulerParameters see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/mouseInteractionExample.py}{\texttt{mouseInteractionExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolvePistonEngine.py}{\texttt{NGsolvePistonEngine.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/stiffFlyballGovernor2.py}{\texttt{stiffFlyballGovernor2.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/perf3DRigidBodies.py}{\texttt{perf3DRigidBodies.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/rightAngleFrame.py}{\texttt{rightAngleFrame.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/stiffFlyballGovernor.py}{\texttt{stiffFlyballGovernor.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L249}{AngularVelocity2EulerParameters\_t}{}}}\label{sec:rigidBodyUtilities:AngularVelocity2EulerParameters_t}
({\it angularVelocity}, {\it eulerParameters})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]compute time derivative of Euler parameters from (global) angular velocity vector
\item[]note that for Euler parameters $\pv$, we have $\tomega=\Gm \dot \pv$ ==> $\Gm^T \tomega = \Gm^T\cdot \Gm\cdot \dot \pv$ ==> $\Gm^T \Gm=4(\Im_{4 \times 4} - \pv\cdot \pv^T)\dot\pv = 4 (\Im_{4x4}) \dot \pv$
\end{itemize}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it angularVelocity}: 3D vector of angular velocity in global frame, as lists or as np.array
\item[]{\it eulerParameters}: vector of 4 eulerParameters as np.array or list
\end{itemize}
\item[--]
{\bf output}: vector of time derivatives of 4 eulerParameters as np.array
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L262}{RotationVector2RotationMatrix}{}}}\label{sec:rigidBodyUtilities:RotationVector2RotationMatrix}
({\it rotationVector})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: rotaton matrix from rotation vector, see appendix B in \cite{Simo1988}
\item[--]
{\bf input}: 3D rotation vector as list or np.array
\item[--]
{\bf output}: 3x3 rotation matrix as np.array
\item[--]
{\bf notes}: gets inaccurate for very large rotations, $\phi \\gg 2*\pi$
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on RotationVector2RotationMatrix see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/chatGPTupdate.py}{\texttt{chatGPTupdate.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/chatGPTupdate2.py}{\texttt{chatGPTupdate2.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/stiffFlyballGovernor2.py}{\texttt{stiffFlyballGovernor2.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/universalJoint.py}{\texttt{universalJoint.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/explicitLieGroupMBSTest.py}{\texttt{explicitLieGroupMBSTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/stiffFlyballGovernor.py}{\texttt{stiffFlyballGovernor.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L279}{RotationMatrix2RotationVector}{}}}\label{sec:rigidBodyUtilities:RotationMatrix2RotationVector}
({\it rotationMatrix})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute rotation vector from rotation matrix
\item[--]
{\bf input}: 3x3 rotation matrix as list of lists or as np.array
\item[--]
{\bf output}: vector of 3 components of rotation vector as np.array
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on RotationMatrix2RotationVector see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/explicitLieGroupMBSTest.py}{\texttt{explicitLieGroupMBSTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L311}{ComputeRotationAxisFromRotationVector}{}}}\label{sec:rigidBodyUtilities:ComputeRotationAxisFromRotationVector}
({\it rotationVector})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute rotation axis from given rotation vector
\item[--]
{\bf input}: 3D rotation vector as np.array
\item[--]
{\bf output}: 3D vector as np.array representing the rotation axis
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ComputeRotationAxisFromRotationVector see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/LieGroupIntegrationUnitTests.py}{\texttt{LieGroupIntegrationUnitTests.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L329}{RotationVector2G}{}}}\label{sec:rigidBodyUtilities:RotationVector2G}
({\it rotationVector})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert rotation vector (parameters) (v) to G-matrix (=$\partial \tomega  / \partial \dot \vv$)
\item[--]
{\bf input}: vector of rotation vector (len=3) as list or np.array
\item[--]
{\bf output}: 3x3 matrix G as np.array
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L335}{RotationVector2GLocal}{}}}\label{sec:rigidBodyUtilities:RotationVector2GLocal}
({\it eulerParameters})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert rotation vector (parameters) (v) to local G-matrix (=$\partial \LU{b}{\tomega}   / \partial \vv_t$)
\item[--]
{\bf input}: vector of rotation vector (len=3) as list or np.array
\item[--]
{\bf output}: 3x3 matrix G as np.array
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L348}{RotXYZ2RotationMatrix}{}}}\label{sec:rigidBodyUtilities:RotXYZ2RotationMatrix}
({\it rot})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute rotation matrix from consecutive xyz \acp{Rot} (Tait-Bryan angles); A=Ax*Ay*Az; rot=[rotX, rotY, rotZ]
\item[--]
{\bf input}: 3D vector of Tait-Bryan rotation parameters [X,Y,Z] in radiant
\item[--]
{\bf output}: 3x3 rotation matrix as np.array
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on RotXYZ2RotationMatrix see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/InverseKinematicsNumericalExample.py}{\texttt{InverseKinematicsNumericalExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/stiffFlyballGovernor2.py}{\texttt{stiffFlyballGovernor2.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/explicitLieGroupMBSTest.py}{\texttt{explicitLieGroupMBSTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeTest.py}{\texttt{kinematicTreeTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/stiffFlyballGovernor.py}{\texttt{stiffFlyballGovernor.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L366}{RotationMatrix2RotXYZ}{}}}\label{sec:rigidBodyUtilities:RotationMatrix2RotXYZ}
({\it rotationMatrix})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert rotation matrix to xyz Euler angles (Tait-Bryan angles);  A=Ax*Ay*Az;
\item[--]
{\bf input}: 3x3 rotation matrix as list of lists or np.array
\item[--]
{\bf output}: vector of Tait-Bryan rotation parameters [X,Y,Z] (in radiant) as np.array
\item[--]
{\bf notes}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]due to gimbal lock / singularity at rot[1] = pi/2, -pi/2, ... the reconstruction of
\item[]\texttt{RotationMatrix2RotXYZ( RotXYZ2RotationMatrix(rot) )} may fail, but
\item[]\texttt{RotXYZ2RotationMatrix( RotationMatrix2RotXYZ( RotXYZ2RotationMatrix(rot) ) )} works always
\end{itemize}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on RotationMatrix2RotXYZ see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInteractiveLimits.py}{\texttt{serialRobotInteractiveLimits.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L397}{RotXYZ2G}{}}}\label{sec:rigidBodyUtilities:RotXYZ2G}
({\it rot})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute (global-frame) G-matrix for xyz Euler angles (Tait-Bryan angles) ($\LU{0}{\Gm} = \partial \LU{0}{\tomega}  / \partial \dot \ttheta$)
\item[--]
{\bf input}: 3D vector of Tait-Bryan rotation parameters [X,Y,Z] in radiant
\item[--]
{\bf output}: 3x3 matrix G as np.array
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L412}{RotXYZ2G\_t}{}}}\label{sec:rigidBodyUtilities:RotXYZ2G_t}
({\it rot}, {\it rot\_t})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute time derivative of (global-frame) G-matrix for xyz Euler angles (Tait-Bryan angles) ($\LU{0}{\Gm} = \partial \LU{0}{\tomega}  / \partial \dot \ttheta$)
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it rot}: 3D vector of Tait-Bryan rotation parameters [X,Y,Z] in radiant
\item[]{\it rot\_t}: 3D vector of time derivative of Tait-Bryan rotation parameters [X,Y,Z] in radiant/s
\end{itemize}
\item[--]
{\bf output}: 3x3 matrix G\_t as np.array
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L426}{RotXYZ2GLocal}{}}}\label{sec:rigidBodyUtilities:RotXYZ2GLocal}
({\it rot})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute local (body-fixed) G-matrix for xyz Euler angles (Tait-Bryan angles) ($\LU{b}{\Gm} = \partial \LU{b}{\tomega}  / \partial \ttheta_t$)
\item[--]
{\bf input}: 3D vector of Tait-Bryan rotation parameters [X,Y,Z] in radiant
\item[--]
{\bf output}: 3x3 matrix GLocal as np.array
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L441}{RotXYZ2GLocal\_t}{}}}\label{sec:rigidBodyUtilities:RotXYZ2GLocal_t}
({\it rot}, {\it rot\_t})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute time derivative of (body-fixed) G-matrix for xyz Euler angles (Tait-Bryan angles) ($\LU{b}{\Gm} = \partial \LU{b}{\tomega}  / \partial \ttheta_t$)
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it rot}: 3D vector of Tait-Bryan rotation parameters [X,Y,Z] in radiant
\item[]{\it rot\_t}: 3D vector of time derivative of Tait-Bryan rotation parameters [X,Y,Z] in radiant/s
\end{itemize}
\item[--]
{\bf output}: 3x3 matrix GLocal\_t as np.array
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L461}{AngularVelocity2RotXYZ\_t}{}}}\label{sec:rigidBodyUtilities:AngularVelocity2RotXYZ_t}
({\it angularVelocity}, {\it rotation})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute time derivatives of angles RotXYZ from (global) angular velocity vector and given rotation
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it angularVelocity}: global angular velocity vector as list or np.array
\item[]{\it rotation}: 3D vector of Tait-Bryan rotation parameters [X,Y,Z] in radiant
\end{itemize}
\item[--]
{\bf output}: time derivative of vector of Tait-Bryan rotation parameters [X,Y,Z] (in radiant) as np.array
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L480}{RotXYZ2EulerParameters}{}}}\label{sec:rigidBodyUtilities:RotXYZ2EulerParameters}
({\it alpha})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute four Euler parameters from given RotXYZ angles, see \cite{Henderson1977}
\item[--]
{\bf input}: alpha: 3D vector as np.array containing RotXYZ angles
\item[--]
{\bf output}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]4D vector as np.array containing four Euler parameters
\item[]entry zero of output represent the scalar part of Euler parameters
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L511}{RotationMatrix2RotZYZ}{}}}\label{sec:rigidBodyUtilities:RotationMatrix2RotZYZ}
({\it rotationMatrix}, {\it flip})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert rotation matrix to zyz Euler angles;  A=Az*Ay*Az;
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it rotationMatrix}: 3x3 rotation matrix as list of lists or np.array
\item[]{\it flip}:           argument to choose first Euler angle to be in quadrant 2 or 3.
\end{itemize}
\item[--]
{\bf output}: vector of Euler rotation parameters [Z,Y,Z] (in radiant) as np.array
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: tested (compared with Robotics, Vision and Control book of P. Corke)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L550}{RotationMatrixX}{}}}\label{sec:rigidBodyUtilities:RotationMatrixX}
({\it angleRad})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute rotation matrix w.r.t. X-axis (first axis)
\item[--]
{\bf input}: angle around X-axis in radiant
\item[--]
{\bf output}: 3x3 rotation matrix as np.array
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on RotationMatrixX see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/addPrismaticJoint.py}{\texttt{addPrismaticJoint.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/addRevoluteJoint.py}{\texttt{addRevoluteJoint.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/graphicsDataExample.py}{\texttt{graphicsDataExample.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolveCraigBampton.py}{\texttt{NGsolveCraigBampton.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolvePistonEngine.py}{\texttt{NGsolvePistonEngine.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/generalContactFrictionTests.py}{\texttt{generalContactFrictionTests.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/laserScannerTest.py}{\texttt{laserScannerTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/mainSystemExtensionsTests.py}{\texttt{mainSystemExtensionsTests.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L558}{RotationMatrixY}{}}}\label{sec:rigidBodyUtilities:RotationMatrixY}
({\it angleRad})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute rotation matrix w.r.t. Y-axis (second axis)
\item[--]
{\bf input}: angle around Y-axis in radiant
\item[--]
{\bf output}: 3x3 rotation matrix as np.array
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on RotationMatrixY see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/addPrismaticJoint.py}{\texttt{addPrismaticJoint.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/addRevoluteJoint.py}{\texttt{addRevoluteJoint.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/bicycleIftommBenchmark.py}{\texttt{bicycleIftommBenchmark.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/leggedRobot.py}{\texttt{leggedRobot.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolvePistonEngine.py}{\texttt{NGsolvePistonEngine.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/bricardMechanism.py}{\texttt{bricardMechanism.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/computeODE2AEeigenvaluesTest.py}{\texttt{computeODE2AEeigenvaluesTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ConvexContactTest.py}{\texttt{ConvexContactTest.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L566}{RotationMatrixZ}{}}}\label{sec:rigidBodyUtilities:RotationMatrixZ}
({\it angleRad})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute rotation matrix w.r.t. Z-axis (third axis)
\item[--]
{\bf input}: angle around Z-axis in radiant
\item[--]
{\bf output}: 3x3 rotation matrix as np.array
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on RotationMatrixZ see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/addPrismaticJoint.py}{\texttt{addPrismaticJoint.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/addRevoluteJoint.py}{\texttt{addRevoluteJoint.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/bicycleIftommBenchmark.py}{\texttt{bicycleIftommBenchmark.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/fourBarMechanism3D.py}{\texttt{fourBarMechanism3D.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/mouseInteractionExample.py}{\texttt{mouseInteractionExample.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/bricardMechanism.py}{\texttt{bricardMechanism.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/carRollingDiscTest.py}{\texttt{carRollingDiscTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/computeODE2AEeigenvaluesTest.py}{\texttt{computeODE2AEeigenvaluesTest.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L575}{HomogeneousTransformation}{}}}\label{sec:rigidBodyUtilities:HomogeneousTransformation}
({\it A}, {\it r})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute \ac{HT} matrix from rotation matrix A and translation vector r
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on HomogeneousTransformation see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/InverseKinematicsNumericalExample.py}{\texttt{InverseKinematicsNumericalExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolveCraigBampton.py}{\texttt{NGsolveCraigBampton.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolvePistonEngine.py}{\texttt{NGsolvePistonEngine.py}} (Ex), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L585}{HTtranslate}{}}}\label{sec:rigidBodyUtilities:HTtranslate}
({\it r})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \ac{HT} for translation with vector r
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on HTtranslate see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/InverseKinematicsNumericalExample.py}{\texttt{InverseKinematicsNumericalExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreePendulum.py}{\texttt{kinematicTreePendulum.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSMobileManipulator.py}{\texttt{ROSMobileManipulator.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeAndMBStest.py}{\texttt{kinematicTreeAndMBStest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeConstraintTest.py}{\texttt{kinematicTreeConstraintTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/movingGroundRobotTest.py}{\texttt{movingGroundRobotTest.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L591}{HTtranslateX}{}}}\label{sec:rigidBodyUtilities:HTtranslateX}
({\it x})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \ac{HT} for translation along x axis with value x
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on HTtranslateX see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeAndMBStest.py}{\texttt{kinematicTreeAndMBStest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L597}{HTtranslateY}{}}}\label{sec:rigidBodyUtilities:HTtranslateY}
({\it y})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \ac{HT} for translation along y axis with value y
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on HTtranslateY see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreePendulum.py}{\texttt{kinematicTreePendulum.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeAndMBStest.py}{\texttt{kinematicTreeAndMBStest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeConstraintTest.py}{\texttt{kinematicTreeConstraintTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L603}{HTtranslateZ}{}}}\label{sec:rigidBodyUtilities:HTtranslateZ}
({\it z})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \ac{HT} for translation along z axis with value z
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L609}{HT0}{}}}\label{sec:rigidBodyUtilities:HT0}
()
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: identity \ac{HT}:
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on HT0 see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreePendulum.py}{\texttt{kinematicTreePendulum.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeAndMBStest.py}{\texttt{kinematicTreeAndMBStest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeConstraintTest.py}{\texttt{kinematicTreeConstraintTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L613}{HTrotateX}{}}}\label{sec:rigidBodyUtilities:HTrotateX}
({\it angle})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \ac{HT} for rotation around axis X (first axis)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L619}{HTrotateY}{}}}\label{sec:rigidBodyUtilities:HTrotateY}
({\it angle})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \ac{HT} for rotation around axis X (first axis)
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on HTrotateY see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeAndMBStest.py}{\texttt{kinematicTreeAndMBStest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L625}{HTrotateZ}{}}}\label{sec:rigidBodyUtilities:HTrotateZ}
({\it angle})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \ac{HT} for rotation around axis X (first axis)
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on HTrotateZ see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSMobileManipulator.py}{\texttt{ROSMobileManipulator.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeAndMBStest.py}{\texttt{kinematicTreeAndMBStest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L631}{HT2translation}{}}}\label{sec:rigidBodyUtilities:HT2translation}
({\it T})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: return translation part of \ac{HT}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on HT2translation see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotFlexible.py}{\texttt{serialRobotFlexible.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInteractiveLimits.py}{\texttt{serialRobotInteractiveLimits.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInverseKinematics.py}{\texttt{serialRobotInverseKinematics.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotKinematicTree.py}{\texttt{serialRobotKinematicTree.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeAndMBStest.py}{\texttt{kinematicTreeAndMBStest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/movingGroundRobotTest.py}{\texttt{movingGroundRobotTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/serialRobotTest.py}{\texttt{serialRobotTest.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L635}{HT2rotationMatrix}{}}}\label{sec:rigidBodyUtilities:HT2rotationMatrix}
({\it T})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: return rotation matrix of \ac{HT}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on HT2rotationMatrix see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeAndMBStest.py}{\texttt{kinematicTreeAndMBStest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L640}{InverseHT}{}}}\label{sec:rigidBodyUtilities:InverseHT}
({\it T})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: return inverse \ac{HT} such that inv(T)*T = np.eye(4)
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on InverseHT see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotKinematicTree.py}{\texttt{serialRobotKinematicTree.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L661}{RotationX2T66}{}}}\label{sec:rigidBodyUtilities:RotationX2T66}
({\it angle})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute 6x6 coordinate transformation matrix for rotation around X axis; output: first 3 components for rotation, second 3 components for translation! See Featherstone / Handbook of robotics \cite{Siciliano2016}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L673}{RotationY2T66}{}}}\label{sec:rigidBodyUtilities:RotationY2T66}
({\it angle})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute 6x6 transformation matrix for rotation around Y axis; output: first 3 components for rotation, second 3 components for translation
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L685}{RotationZ2T66}{}}}\label{sec:rigidBodyUtilities:RotationZ2T66}
({\it angle})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute 6x6 transformation matrix for rotation around Z axis; output: first 3 components for rotation, second 3 components for translation
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L697}{Translation2T66}{}}}\label{sec:rigidBodyUtilities:Translation2T66}
({\it translation3D})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute 6x6 transformation matrix for translation according to 3D vector translation3D; output: first 3 components for rotation, second 3 components for translation!
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L708}{TranslationX2T66}{}}}\label{sec:rigidBodyUtilities:TranslationX2T66}
({\it translation})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute 6x6 transformation matrix for translation along X axis; output: first 3 components for rotation, second 3 components for translation!
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L712}{TranslationY2T66}{}}}\label{sec:rigidBodyUtilities:TranslationY2T66}
({\it translation})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute 6x6 transformation matrix for translation along Y axis; output: first 3 components for rotation, second 3 components for translation!
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L716}{TranslationZ2T66}{}}}\label{sec:rigidBodyUtilities:TranslationZ2T66}
({\it translation})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute 6x6 transformation matrix for translation along Z axis; output: first 3 components for rotation, second 3 components for translation!
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L722}{T66toRotationTranslation}{}}}\label{sec:rigidBodyUtilities:T66toRotationTranslation}
({\it T66})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert 6x6 coordinate transformation (Pl\"ucker transform) into rotation and translation
\item[--]
{\bf input}: T66 given as  6x6 numpy array
\item[--]
{\bf output}: [A, v] with 3x3 rotation matrix A and 3D translation vector v
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on T66toRotationTranslation see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L730}{InverseT66toRotationTranslation}{}}}\label{sec:rigidBodyUtilities:InverseT66toRotationTranslation}
({\it T66})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert inverse 6x6 coordinate transformation (Pl\"ucker transform) into rotation and translation
\item[--]
{\bf input}: inverse T66 given as  6x6 numpy array
\item[--]
{\bf output}: [A, v] with 3x3 rotation matrix A and 3D translation vector v
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L740}{RotationTranslation2T66}{}}}\label{sec:rigidBodyUtilities:RotationTranslation2T66}
({\it A}, {\it v})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert rotation and translation into 6x6 coordinate transformation (Pl\"ucker transform)
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it A}: 3x3 rotation matrix A
\item[]{\it v}: 3D translation vector v
\end{itemize}
\item[--]
{\bf output}: return 6x6 transformation matrix 'T66'
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L750}{RotationTranslation2T66Inverse}{}}}\label{sec:rigidBodyUtilities:RotationTranslation2T66Inverse}
({\it A}, {\it v})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert rotation and translation into INVERSE 6x6 coordinate transformation (Pl\"ucker transform)
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it A}: 3x3 rotation matrix A
\item[]{\it v}: 3D translation vector v
\end{itemize}
\item[--]
{\bf output}: return 6x6 transformation matrix 'T66'
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on RotationTranslation2T66Inverse see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L778}{T66toHT}{}}}\label{sec:rigidBodyUtilities:T66toHT}
({\it T66})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert 6x6 coordinate transformation (Pl\"ucker transform) into 4x4 homogeneous transformation; NOTE that the homogeneous transformation is the inverse of what is computed in function pluho() of Featherstone
\item[--]
{\bf input}: T66 given as 6x6 numpy array
\item[--]
{\bf output}: homogeneous transformation (4x4 numpy array)
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on T66toHT see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L789}{HT2T66Inverse}{}}}\label{sec:rigidBodyUtilities:HT2T66Inverse}
({\it T})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert 4x4 homogeneous transformation into 6x6 coordinate transformation (Pl\"ucker transform); NOTE that the homogeneous transformation is the inverse of what is computed in function pluho() of Featherstone
\item[--]
{\bf output}: input: T66 (6x6 numpy array)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L800}{InertiaTensor2Inertia6D}{}}}\label{sec:rigidBodyUtilities:InertiaTensor2Inertia6D}
({\it inertiaTensor})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert a 3x3 matrix (list or numpy array) into a list with 6 inertia components, sorted as J00, J11, J22, J12, J02, J01
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L805}{Inertia6D2InertiaTensor}{}}}\label{sec:rigidBodyUtilities:Inertia6D2InertiaTensor}
({\it inertia6D})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert a list or numpy array with 6 inertia components (sorted as [J00, J11, J22, J12, J02, J01]) (list or numpy array) into a 3x3 matrix (np.array)
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on Inertia6D2InertiaTensor see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/rigidBodyAsUserFunctionTest.py}{\texttt{rigidBodyAsUserFunctionTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L1022}{StrNodeType2NodeType}{}}}\label{sec:rigidBodyUtilities:StrNodeType2NodeType}
({\it sNodeType})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: convert string into exudyn.NodeType; call e.g. with 'NodeType.RotationEulerParameters' or 'RotationEulerParameters'
\item[--]
{\bf notes}: function is not very fast, so should be avoided in time-critical situations
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L1044}{GetRigidBodyNode}{}}}\label{sec:rigidBodyUtilities:GetRigidBodyNode}
({\it nodeType}, {\it position}= [0,0,0], {\it velocity}= [0,0,0], {\it rotationMatrix}= [], {\it rotationParameters}= [], {\it angularVelocity}= [0,0,0])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: get node item interface according to nodeType, using initialization with position, velocity, angularVelocity and rotationMatrix
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it nodeType}: a node type according to exudyn.NodeType, or a string of it, e.g., 'NodeType.RotationEulerParameters' (fastest, but additional algebraic constraint equation), 'NodeType.RotationRxyz' (Tait-Bryan angles, singularity for second angle at +/- 90 degrees), 'NodeType.RotationRotationVector' (used for Lie group integration)
\item[]{\it position}: reference position as list or numpy array with 3 components (in global/world frame)
\item[]{\it velocity}: initial translational velocity as list or numpy array with 3 components (in global/world frame)
\item[]{\it rotationMatrix}: 3x3 list or numpy matrix to define reference rotation; use EITHER rotationMatrix=[[...],[...],[...]] (while rotationParameters=[]) or rotationParameters=[...] (while rotationMatrix=[])
\item[]{\it rotationParameters}: reference rotation parameters; use EITHER rotationMatrix=[[...],[...],[...]] (while rotationParameters=[]) or rotationParameters=[...] (while rotationMatrix=[])
\item[]{\it angularVelocity}: initial angular velocity as list or numpy array with 3 components (in global/world frame)
\end{itemize}
\item[--]
{\bf output}: returns list containing node number and body number: [nodeNumber, bodyNumber]
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L1137}{AddRigidBody}{}}}\label{sec:rigidBodyUtilities:AddRigidBody}
({\it mainSys}, {\it inertia}, {\it nodeType}= exu.NodeType.RotationEulerParameters, {\it position}= [0,0,0], {\it velocity}= [0,0,0], {\it rotationMatrix}= [], {\it rotationParameters}= [], {\it angularVelocity}= [0,0,0], {\it gravity}= [0,0,0], {\it graphicsDataList}= [])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: adds a node (with str(exu.NodeType. ...)) and body for a given rigid body; all quantities (esp. velocity and angular velocity) are given in global coordinates!
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it inertia}: an inertia object as created by class RigidBodyInertia; containing mass, COM and inertia
\item[]{\it nodeType}: a node type according to exudyn.NodeType, or a string of it, e.g., 'NodeType.RotationEulerParameters' (fastest, but additional algebraic constraint equation), 'NodeType.RotationRxyz' (Tait-Bryan angles, singularity for second angle at +/- 90 degrees), 'NodeType.RotationRotationVector' (used for Lie group integration)
\item[]{\it position}: reference position as list or numpy array with 3 components (in global/world frame)
\item[]{\it velocity}: initial translational velocity as list or numpy array with 3 components (in global/world frame)
\item[]{\it rotationMatrix}: 3x3 list or numpy matrix to define reference rotation; use EITHER rotationMatrix=[[...],[...],[...]] (while rotationParameters=[]) or rotationParameters=[...] (while rotationMatrix=[])
\item[]{\it rotationParameters}: reference rotation parameters; use EITHER rotationMatrix=[[...],[...],[...]] (while rotationParameters=[]) or rotationParameters=[...] (while rotationMatrix=[])
\item[]{\it angularVelocity}: initial angular velocity as list or numpy array with 3 components (in global/world frame)
\item[]{\it gravity}: if provided as list or numpy array with 3 components, it adds gravity force to the body at the COM, i.e., fAdd = m*gravity
\item[]{\it graphicsDataList}: list of graphicsData objects to define appearance of body
\end{itemize}
\item[--]
{\bf output}: returns list containing node number and body number: [nodeNumber, bodyNumber]
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on AddRigidBody see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/bicycleIftommBenchmark.py}{\texttt{bicycleIftommBenchmark.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/craneReevingSystem.py}{\texttt{craneReevingSystem.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/fourBarMechanism3D.py}{\texttt{fourBarMechanism3D.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/gyroStability.py}{\texttt{gyroStability.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/carRollingDiscTest.py}{\texttt{carRollingDiscTest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ConvexContactTest.py}{\texttt{ConvexContactTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/distanceSensor.py}{\texttt{distanceSensor.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L1209}{AddRevoluteJoint}{}}}\label{sec:rigidBodyUtilities:AddRevoluteJoint}
({\it mbs}, {\it body0}, {\it body1}, {\it point}, {\it axis}, {\it useGlobalFrame}= True, {\it showJoint}= True, {\it axisRadius}= 0.1, {\it axisLength}= 0.4)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: DEPRECATED (use MainSystem function instead): add revolute joint between two bodies; definition of joint position and axis in global coordinates (alternatively in body0 local coordinates) for reference configuration of bodies; all markers, markerRotation and other quantities are automatically computed
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: the MainSystem to which the joint and markers shall be added
\item[]{\it body0}: a object number for body0, must be rigid body or ground object
\item[]{\it body1}: a object number for body1, must be rigid body or ground object
\item[]{\it point}: a 3D vector as list or np.array containing the global center point of the joint in reference configuration
\item[]{\it axis}: a 3D vector as list or np.array containing the global rotation axis of the joint in reference configuration
\item[]{\it useGlobalFrame}: if False, the point and axis vectors are defined in the local coordinate system of body0
\end{itemize}
\item[--]
{\bf output}: returns list [oJoint, mBody0, mBody1], containing the joint object number, and the two rigid body markers on body0/1 for the joint
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on AddRevoluteJoint see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/openVRengine.py}{\texttt{openVRengine.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/stlFileImport.py}{\texttt{stlFileImport.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/perf3DRigidBodies.py}{\texttt{perf3DRigidBodies.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L1290}{AddPrismaticJoint}{}}}\label{sec:rigidBodyUtilities:AddPrismaticJoint}
({\it mbs}, {\it body0}, {\it body1}, {\it point}, {\it axis}, {\it useGlobalFrame}= True, {\it showJoint}= True, {\it axisRadius}= 0.1, {\it axisLength}= 0.4)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: DEPRECATED (use MainSystem function instead): add prismatic joint between two bodies; definition of joint position and axis in global coordinates (alternatively in body0 local coordinates) for reference configuration of bodies; all markers, markerRotation and other quantities are automatically computed
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: the MainSystem to which the joint and markers shall be added
\item[]{\it body0}: a object number for body0, must be rigid body or ground object
\item[]{\it body1}: a object number for body1, must be rigid body or ground object
\item[]{\it point}: a 3D vector as list or np.array containing the global center point of the joint in reference configuration
\item[]{\it axis}: a 3D vector as list or np.array containing the global translation axis of the joint in reference configuration
\item[]{\it useGlobalFrame}: if False, the point and axis vectors are defined in the local coordinate system of body0
\end{itemize}
\item[--]
{\bf output}: returns list [oJoint, mBody0, mBody1], containing the joint object number, and the two rigid body markers on body0/1 for the joint
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on AddPrismaticJoint see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/openVRengine.py}{\texttt{openVRengine.py}} (Ex)
\ei

%
\mysubsubsection{CLASS RigidBodyInertia (in module rigidBodyUtilities)}
\noindent\textcolor{steelblue}{{\bf class description}}:  helper class for rigid body inertia (see also derived classes Inertia...).
Provides a structure to define mass, inertia and center of mass (COM) of a rigid body.
The inertia tensor and center of mass must correspond when initializing the body!
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf notes}: in the default mode, inertiaTensorAtCOM = False, the inertia tensor must be provided with respect to the reference point; otherwise, it is given at COM; internally, the inertia tensor is always with respect to the reference point, not w.r.t. to COM!
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  i0 = RigidBodyInertia(10,np.diag([1,2,3]))
  i1 = i0.Rotated(RotationMatrixX(np.pi/2))
  i2 = i1.Translated([1,0,0])
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{24pt}\end{itemize}
%
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L827}{\_\_init\_\_}{}}}\label{sec:rigidBodyUtilities:RigidBodyInertia:__init__}
({\it self}, {\it mass}= 0, {\it inertiaTensor}= np.zeros([3,3]), {\it com}= np.zeros(3), {\it inertiaTensorAtCOM}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize RigidBodyInertia with scalar mass, 3x3 inertiaTensor (w.r.t. reference point!!!) and center of mass com
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mass}: mass of rigid body (dimensions need to be consistent, should be in SI-units)
\item[]{\it inertiaTensor}: tensor given w.r.t.\ reference point, NOT w.r.t.\ center of mass!
\item[]{\it com}: center of mass relative to reference point, in same coordinate system as inertiaTensor
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L843}{\_\_add\_\_}{}}}\label{sec:rigidBodyUtilities:RigidBodyInertia:__add__}
({\it self}, {\it otherBodyInertia})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]add (+) operator allows adding another inertia information with SAME local coordinate system and reference point!
\item[]only inertias with same center of rotation can be added!
\end{itemize}
\item[--]\textcolor{steelblue}{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  J = InertiaSphere(2,0.1) + InertiaRodX(1,2)
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L854}{\_\_iadd\_\_}{}}}\label{sec:rigidBodyUtilities:RigidBodyInertia:__iadd__}
({\it self}, {\it otherBodyInertia})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]+= operator allows adding another inertia information with SAME local coordinate system and reference point!
\item[]only inertias with same center of rotation can be added!
\end{itemize}
\item[--]\textcolor{steelblue}{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  J = InertiaSphere(2,0.1)
  J += InertiaRodX(1,2)
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L863}{SetWithCOMinertia}{}}}\label{sec:rigidBodyUtilities:RigidBodyInertia:SetWithCOMinertia}
({\it self}, {\it mass}, {\it inertiaTensorCOM}, {\it com})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: set RigidBodyInertia with scalar mass, 3x3 inertiaTensor (w.r.t.\ com) and center of mass com
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mass}: mass of rigid body (dimensions need to be consistent, should be in SI-units)
\item[]{\it inertiaTensorCOM}: tensor given w.r.t.\ reference point, NOT w.r.t.\ center of mass!
\item[]{\it com}: center of mass relative to reference point, in same coordinate system as inertiaTensor
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L874}{Inertia}{}}}\label{sec:rigidBodyUtilities:RigidBodyInertia:Inertia}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: returns 3x3 inertia tensor with respect to chosen reference point (not necessarily COM)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L878}{InertiaCOM}{}}}\label{sec:rigidBodyUtilities:RigidBodyInertia:InertiaCOM}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: returns 3x3 inertia tensor with respect to COM
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L882}{COM}{}}}\label{sec:rigidBodyUtilities:RigidBodyInertia:COM}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: returns center of mass (COM) w.r.t. chosen reference point
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L886}{Mass}{}}}\label{sec:rigidBodyUtilities:RigidBodyInertia:Mass}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: returns mass
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L890}{Translated}{}}}\label{sec:rigidBodyUtilities:RigidBodyInertia:Translated}
({\it self}, {\it vec})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: returns a RigidBodyInertia with center of mass com shifted by vec; $\ra$ transforms the returned inertiaTensor to the new center of rotation
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L904}{Rotated}{}}}\label{sec:rigidBodyUtilities:RigidBodyInertia:Rotated}
({\it self}, {\it rot})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: returns a RigidBodyInertia rotated by 3x3 rotation matrix rot, such that for a given J, the new inertia tensor reads Jnew = rot*J*rot.T
\item[--]\textcolor{steelblue}{\bf notes}: only allowed if COM=0 !
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L917}{Transformed}{}}}\label{sec:rigidBodyUtilities:RigidBodyInertia:Transformed}
({\it self}, {\it HT})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: return rigid body inertia transformed by homogeneous transformation HT
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L932}{GetInertia6D}{}}}\label{sec:rigidBodyUtilities:RigidBodyInertia:GetInertia6D}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: get vector with 6 inertia components (Jxx, Jyy, Jzz, Jyz, Jxz, Jxy) as needed in ObjectRigidBody
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on RigidBodyInertia see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/bicycleIftommBenchmark.py}{\texttt{bicycleIftommBenchmark.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotKinematicTree.py}{\texttt{serialRobotKinematicTree.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/sliderCrank3DwithANCFbeltDrive2.py}{\texttt{sliderCrank3DwithANCFbeltDrive2.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/universalJoint.py}{\texttt{universalJoint.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/rigidBodyCOMtest.py}{\texttt{rigidBodyCOMtest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/rollingCoinPenaltyTest.py}{\texttt{rollingCoinPenaltyTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/rollingCoinTest.py}{\texttt{rollingCoinTest.py}} (TM), 
 ...

\ei

%
\mysubsubsection{CLASS InertiaCuboid(RigidBodyInertia) (in module rigidBodyUtilities)}
\noindent\textcolor{steelblue}{{\bf class description}}:  create RigidBodyInertia with moment of inertia and mass of a cuboid with density and side lengths sideLengths along local axes 1, 2, 3; inertia w.r.t. center of mass, com=[0,0,0]
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  InertiaCuboid(density=1000,sideLengths=[1,0.1,0.1])
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{24pt}\end{itemize}
%
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L953}{\_\_init\_\_}{}}}\label{sec:rigidBodyUtilities:InertiaCuboid(RigidBodyInertia):__init__}
({\it self}, {\it density}, {\it sideLengths})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize inertia
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on InertiaCuboid see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/addPrismaticJoint.py}{\texttt{addPrismaticJoint.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/addRevoluteJoint.py}{\texttt{addRevoluteJoint.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ANCFrotatingCable2D.py}{\texttt{ANCFrotatingCable2D.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/chatGPTupdate.py}{\texttt{chatGPTupdate.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/chatGPTupdate2.py}{\texttt{chatGPTupdate2.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/bricardMechanism.py}{\texttt{bricardMechanism.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/carRollingDiscTest.py}{\texttt{carRollingDiscTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/computeODE2AEeigenvaluesTest.py}{\texttt{computeODE2AEeigenvaluesTest.py}} (TM), 
 ...

\ei

%
\mysubsubsection{CLASS InertiaRodX(RigidBodyInertia) (in module rigidBodyUtilities)}
\noindent\textcolor{steelblue}{{\bf class description}}:  create RigidBodyInertia with moment of inertia and mass of a rod with mass m and length L in local 1-direction (x-direction); inertia w.r.t. center of mass, com=[0,0,0]
\vspace{3pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L965}{\_\_init\_\_}{}}}\label{sec:rigidBodyUtilities:InertiaRodX(RigidBodyInertia):__init__}
({\it self}, {\it mass}, {\it length})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize inertia with mass and length of rod
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on InertiaRodX see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/fourBarMechanismIftomm.py}{\texttt{fourBarMechanismIftomm.py}} (TM)
\ei

%
\mysubsubsection{CLASS InertiaMassPoint(RigidBodyInertia) (in module rigidBodyUtilities)}
\noindent\textcolor{steelblue}{{\bf class description}}:  create RigidBodyInertia with moment of inertia and mass of mass point with 'mass'; inertia w.r.t. center of mass, com=[0,0,0]
\vspace{3pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L973}{\_\_init\_\_}{}}}\label{sec:rigidBodyUtilities:InertiaMassPoint(RigidBodyInertia):__init__}
({\it self}, {\it mass})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize inertia with mass of point
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on InertiaMassPoint see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/stiffFlyballGovernor2.py}{\texttt{stiffFlyballGovernor2.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/stiffFlyballGovernorKT.py}{\texttt{stiffFlyballGovernorKT.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/stiffFlyballGovernor.py}{\texttt{stiffFlyballGovernor.py}} (TM)
\ei

%
\mysubsubsection{CLASS InertiaSphere(RigidBodyInertia) (in module rigidBodyUtilities)}
\noindent\textcolor{steelblue}{{\bf class description}}:  create RigidBodyInertia with moment of inertia and mass of sphere with mass and radius; inertia w.r.t. center of mass, com=[0,0,0]
\vspace{3pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L981}{\_\_init\_\_}{}}}\label{sec:rigidBodyUtilities:InertiaSphere(RigidBodyInertia):__init__}
({\it self}, {\it mass}, {\it radius})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize inertia with mass and radius of sphere
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on InertiaSphere see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/graphicsDataExample.py}{\texttt{graphicsDataExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/particleClusters.py}{\texttt{particleClusters.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/particlesSilo.py}{\texttt{particlesSilo.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSMassPoint.py}{\texttt{ROSMassPoint.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/tippeTop.py}{\texttt{tippeTop.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/distanceSensor.py}{\texttt{distanceSensor.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/generalContactFrictionTests.py}{\texttt{generalContactFrictionTests.py}} (TM)
\ei

%
\mysubsubsection{CLASS InertiaHollowSphere(RigidBodyInertia) (in module rigidBodyUtilities)}
\noindent\textcolor{steelblue}{{\bf class description}}:  create RigidBodyInertia with moment of inertia and mass of hollow sphere with mass (concentrated at circumference) and radius; inertia w.r.t. center of mass, com=0
\vspace{3pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L990}{\_\_init\_\_}{}}}\label{sec:rigidBodyUtilities:InertiaHollowSphere(RigidBodyInertia):__init__}
({\it self}, {\it mass}, {\it radius})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize inertia with mass and (inner==outer) radius of hollow sphere
\vspace{12pt}\end{itemize}
%
\mysubsubsection{CLASS InertiaCylinder(RigidBodyInertia) (in module rigidBodyUtilities)}
\noindent\textcolor{steelblue}{{\bf class description}}:  create RigidBodyInertia with moment of inertia and mass of cylinder with density, length and outerRadius; axis defines the orientation of the cylinder axis (0=x-axis, 1=y-axis, 2=z-axis); for hollow cylinder use innerRadius != 0; inertia w.r.t. center of mass, com=[0,0,0]
\vspace{3pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/rigidBodyUtilities.py\#L999}{\_\_init\_\_}{}}}\label{sec:rigidBodyUtilities:InertiaCylinder(RigidBodyInertia):__init__}
({\it self}, {\it density}, {\it length}, {\it outerRadius}, {\it axis}, {\it innerRadius}= 0)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize inertia with density, length, outer radius, axis (0=x-axis, 1=y-axis, 2=z-axis) and optional inner radius (for hollow cylinder)
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on InertiaCylinder see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/gyroStability.py}{\texttt{gyroStability.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/leggedRobot.py}{\texttt{leggedRobot.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/openVRengine.py}{\texttt{openVRengine.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSMobileManipulator.py}{\texttt{ROSMobileManipulator.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/universalJoint.py}{\texttt{universalJoint.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFbeltDrive.py}{\texttt{ANCFbeltDrive.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFgeneralContactCircle.py}{\texttt{ANCFgeneralContactCircle.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/carRollingDiscTest.py}{\texttt{carRollingDiscTest.py}} (TM), 
 ...

\ei

%
\mysubsection{Module: robotics}
\label{sec:module:robotics}
  A library which includes support functions for robotics;
			the library is built on standard Denavit-Hartenberg Parameters and
			Homogeneous Transformations (HT) to describe transformations and coordinate systems;
           import this library e.g. with import exudyn.robotics as robotics
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Johannes Gerstmayr
\item[]Date:      2020-04-14
\item[]Example: 	New robot model uses the class Robot with class RobotLink; the old dictionary structure is defined in the example in ComputeJointHT for the definition of the 'robot' dictionary.
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L1029}{StdDH2HT}{}}}\label{sec:roboticsCore:StdDH2HT}
({\it DHparameters})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute homogeneous transformation matrix HT from standard DHparameters=[theta, d, a, alpha]
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on StdDH2HT see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/InverseKinematicsNumericalExample.py}{\texttt{InverseKinematicsNumericalExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotFlexible.py}{\texttt{serialRobotFlexible.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInteractiveLimits.py}{\texttt{serialRobotInteractiveLimits.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotKinematicTree.py}{\texttt{serialRobotKinematicTree.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/movingGroundRobotTest.py}{\texttt{movingGroundRobotTest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/serialRobotTest.py}{\texttt{serialRobotTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L1051}{ModDHKK2HT}{}}}\label{sec:roboticsCore:ModDHKK2HT}
({\it DHparameters})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute pre- and post- homogeneous transformation matrices from modified Denavit-Hartenberg DHparameters=[alpha, d, theta, r]; returns [HTpre, HTpost]; HTpre is transformation before axis rotation, HTpost includes axis rotation and everything hereafter; modified DH-Parameters according to Khalil and Kleinfinger, 1986
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ModDHKK2HT see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotKinematicTree.py}{\texttt{serialRobotKinematicTree.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L1064}{projectAngleToPMPi}{}}}\label{sec:roboticsCore:projectAngleToPMPi}
({\it q0})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: This function projects an angle in the range $[-min_{float}, +max_{float}]$ fo the range $[-\pi, +\pi]$
\item[--]
{\bf input}: q0: An angle either as scalar, list or array
\item[--]
{\bf output}: qProj: The angle projected into the range $[-\pi to \pi]$
\item[--]
{\bf author}: Peter Manzl
\vspace{12pt}\end{itemize}
%
\mysubsubsection{CLASS VRobotLink (in module robotics)}
\noindent\textcolor{steelblue}{{\bf class description}}:  class to define visualization of RobotLink
\vspace{3pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L97}{\_\_init\_\_}{}}}\label{sec:roboticsCore:VRobotLink:__init__}
({\it self}, {\it jointRadius}= 0.06, {\it jointWidth}= 0.12, {\it linkWidth}= 0.1, {\it showMBSjoint}= True, {\it showCOM}= True, {\it linkColor}= [0.4,0.4,0.4,1], {\it graphicsData}= [])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize robot link with parameters, being self-explaining
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it jointRadius}: radius of joint to draw
\item[]{\it jointWidth}: length or width of joint (depending on type of joint)
\item[]{\it showMBSjoint}: if False, joint is not drawn
\item[]{\it linkWidth}: width of link for default drawing
\item[]{\it linkColor}: color of link for default drawing
\item[]{\it showCOM}: if True, center of mass is marked with cube
\item[]{\it graphicsData}: list of GraphicsData to represent link; if list is empty, link graphics will be generated from link geometry data; otherwise, drawing will be taken from graphicsData, and only showMBSjoint and showCOM flags will add additional graphics
\end{itemize}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on VRobotLink see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/InverseKinematicsNumericalExample.py}{\texttt{InverseKinematicsNumericalExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreePendulum.py}{\texttt{kinematicTreePendulum.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotFlexible.py}{\texttt{serialRobotFlexible.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInteractiveLimits.py}{\texttt{serialRobotInteractiveLimits.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeAndMBStest.py}{\texttt{kinematicTreeAndMBStest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeConstraintTest.py}{\texttt{kinematicTreeConstraintTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/movingGroundRobotTest.py}{\texttt{movingGroundRobotTest.py}} (TM), 
 ...

\ei

%
\mysubsubsection{CLASS RobotLink (in module robotics)}
\noindent\textcolor{steelblue}{{\bf class description}}:  class to define one link of a robot
\vspace{3pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L137}{\_\_init\_\_}{}}}\label{sec:roboticsCore:RobotLink:__init__}
({\it self}, {\it mass}, {\it COM}, {\it inertia}, {\it localHT}= erb.HT0(), {\it jointType}= 'Rz', {\it parent}= -2, {\it preHT}= erb.HT0(), {\it PDcontrol}= (None,None), {\it visualization}= VRobotLink())
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize robot link
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mass}: mass of robot link
\item[]{\it COM}: center of mass in link coordinate system
\item[]{\it inertia}: 3x3 matrix (list of lists / numpy array) containing inertia tensor in link coordinates, with respect to center of mass
\item[]{\it localHT}: 4x4 matrix (list of lists / numpy array) containing homogeneous transformation from local joint to link coordinates; default = identity; currently, this transformation is not available in KinematicTree, therefore the link inertia and COM must be transformed accordingly
\item[]{\it preHT}: 4x4 matrix (list of lists / numpy array) containing homogeneous transformation from previous link to this joint; default = identity
\item[]{\it jointType}: string containing joint type, out of: 'Rx', 'Ry', 'Rz' for revolute joints and 'Px', 'Py', 'Pz' for prismatic joints around/along the respecitive local axes
\item[]{\it parent}: for building robots as kinematic tree; use '-2' to automatically set parents for serial robot (on fixed base), use '-1' for ground-parent and any other 0-based index for connection to parent link
\item[]{\it PDcontrol}: tuple of P and D control values, defining position (rotation) proportional value P and velocitiy proportional value D
\item[]{\it visualization}: VRobotLink structure containing options for drawing of link and joints; see class VRobotLink
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L150}{SetPDcontrol}{}}}\label{sec:roboticsCore:RobotLink:SetPDcontrol}
({\it self}, {\it Pvalue}, {\it Dvalue})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: set PD control values for drive of joint related to link using position-proportional value P and differential value (velocity proportional) D
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L154}{HasPDcontrol}{}}}\label{sec:roboticsCore:RobotLink:HasPDcontrol}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: check if contrl is available
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L158}{GetPDcontrol}{}}}\label{sec:roboticsCore:RobotLink:GetPDcontrol}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: get PD control values
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on RobotLink see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/InverseKinematicsNumericalExample.py}{\texttt{InverseKinematicsNumericalExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreePendulum.py}{\texttt{kinematicTreePendulum.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotFlexible.py}{\texttt{serialRobotFlexible.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeAndMBStest.py}{\texttt{kinematicTreeAndMBStest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeConstraintTest.py}{\texttt{kinematicTreeConstraintTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/movingGroundRobotTest.py}{\texttt{movingGroundRobotTest.py}} (TM), 
 ...

\ei

%
\mysubsubsection{CLASS VRobotTool (in module robotics)}
\noindent\textcolor{steelblue}{{\bf class description}}:  class to define visualization of RobotTool
\vspace{3pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L182}{\_\_init\_\_}{}}}\label{sec:roboticsCore:VRobotTool:__init__}
({\it self}, {\it graphicsData}= [])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize robot tool with parameters; currently only graphicsData, which is a list of GraphicsData same as in mbs Objects
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on VRobotTool see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/InverseKinematicsNumericalExample.py}{\texttt{InverseKinematicsNumericalExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreePendulum.py}{\texttt{kinematicTreePendulum.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSMobileManipulator.py}{\texttt{ROSMobileManipulator.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeAndMBStest.py}{\texttt{kinematicTreeAndMBStest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeConstraintTest.py}{\texttt{kinematicTreeConstraintTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/movingGroundRobotTest.py}{\texttt{movingGroundRobotTest.py}} (TM), 
 ...

\ei

%
\mysubsubsection{CLASS RobotTool (in module robotics)}
\noindent\textcolor{steelblue}{{\bf class description}}:  define tool of robot: containing graphics and HT (may add features in future)
\vspace{3pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L191}{\_\_init\_\_}{}}}\label{sec:roboticsCore:RobotTool:__init__}
({\it self}, {\it HT}= erb.HT0(), {\it visualization}= VRobotTool())
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize robot tool
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it HT}: 4x4 matrix (list of lists / numpy array) containing homogeneous transformation to transform from last link to tool
\item[]{\it graphicsData}: dictionary containing a list of GraphicsData, same as in exudyn Objects
\end{itemize}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on RobotTool see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/InverseKinematicsNumericalExample.py}{\texttt{InverseKinematicsNumericalExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreePendulum.py}{\texttt{kinematicTreePendulum.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSMobileManipulator.py}{\texttt{ROSMobileManipulator.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeAndMBStest.py}{\texttt{kinematicTreeAndMBStest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeConstraintTest.py}{\texttt{kinematicTreeConstraintTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/movingGroundRobotTest.py}{\texttt{movingGroundRobotTest.py}} (TM), 
 ...

\ei

%
\mysubsubsection{CLASS VRobotBase (in module robotics)}
\noindent\textcolor{steelblue}{{\bf class description}}:  class to define visualization of RobotBase
\vspace{3pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L205}{\_\_init\_\_}{}}}\label{sec:roboticsCore:VRobotBase:__init__}
({\it self}, {\it graphicsData}= [])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize robot base with parameters; currently only graphicsData, which is a list of GraphicsData same as in mbs Objects
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on VRobotBase see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/InverseKinematicsNumericalExample.py}{\texttt{InverseKinematicsNumericalExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreePendulum.py}{\texttt{kinematicTreePendulum.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSMobileManipulator.py}{\texttt{ROSMobileManipulator.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeAndMBStest.py}{\texttt{kinematicTreeAndMBStest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeConstraintTest.py}{\texttt{kinematicTreeConstraintTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/movingGroundRobotTest.py}{\texttt{movingGroundRobotTest.py}} (TM), 
 ...

\ei

%
\mysubsubsection{CLASS RobotBase (in module robotics)}
\noindent\textcolor{steelblue}{{\bf class description}}:  define base of robot: containing graphics and HT (may add features in future)
\vspace{3pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L215}{\_\_init\_\_}{}}}\label{sec:roboticsCore:RobotBase:__init__}
({\it self}, {\it HT}= erb.HT0(), {\it visualization}= VRobotBase())
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize robot base
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it HT}: 4x4 matrix (list of lists / numpy array) containing homogeneous transformation to transform from world coordinates to base coordinates (changes orientation and position of robot)
\item[]{\it graphicsData}: dictionary containing a list of GraphicsData, same as in exudyn Objects
\end{itemize}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on RobotBase see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/InverseKinematicsNumericalExample.py}{\texttt{InverseKinematicsNumericalExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreePendulum.py}{\texttt{kinematicTreePendulum.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSMobileManipulator.py}{\texttt{ROSMobileManipulator.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeAndMBStest.py}{\texttt{kinematicTreeAndMBStest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeConstraintTest.py}{\texttt{kinematicTreeConstraintTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/movingGroundRobotTest.py}{\texttt{movingGroundRobotTest.py}} (TM), 
 ...

\ei

%
\mysubsubsection{CLASS Robot (in module robotics)}
\noindent\textcolor{steelblue}{{\bf class description}}:  class to define a robot
\vspace{3pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L240}{\_\_init\_\_}{}}}\label{sec:roboticsCore:Robot:__init__}
({\it self}, {\it gravity}= [0,0,-9.81], {\it base}= RobotBase(), {\it tool}= RobotTool(), {\it referenceConfiguration}= [])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize robot class
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it base}: definition of base using RobotBase() class
\item[]{\it tool}: definition of tool using RobotTool() class
\item[]{\it gravity}: a list or 3D numpy array defining gravity
\item[]{\it referenceConfiguration}: a list of scalar quantities defining the parameters for reference configuration
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L266}{AddLink}{}}}\label{sec:roboticsCore:Robot:AddLink}
({\it self}, {\it robotLink})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: add a link to serial robot
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L287}{IsSerialRobot}{}}}\label{sec:roboticsCore:Robot:IsSerialRobot}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: return True, if robot is a serial robot
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L291}{GetLink}{}}}\label{sec:roboticsCore:Robot:GetLink}
({\it self}, {\it i})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: return Link object of link i
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L295}{HasParent}{}}}\label{sec:roboticsCore:Robot:HasParent}
({\it self}, {\it i})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: True if link has parent, False if not
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L299}{GetParentIndex}{}}}\label{sec:roboticsCore:Robot:GetParentIndex}
({\it self}, {\it i})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: Get index of parent link; for serial robot this is simple, but for general trees, there is a index list
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L304}{NumberOfLinks}{}}}\label{sec:roboticsCore:Robot:NumberOfLinks}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: return number of links
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L308}{GetBaseHT}{}}}\label{sec:roboticsCore:Robot:GetBaseHT}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: return base as homogeneous transformation
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L312}{GetToolHT}{}}}\label{sec:roboticsCore:Robot:GetToolHT}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: return base as homogeneous transformation
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L316}{LinkHT}{}}}\label{sec:roboticsCore:Robot:LinkHT}
({\it self}, {\it q})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: compute list of homogeneous transformations for every link, using current joint coordinates q; leads to different results for standard and modified DH parameters because link coordinates are different!
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L345}{JointHT}{}}}\label{sec:roboticsCore:Robot:JointHT}
({\it self}, {\it q})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: compute list of homogeneous transformations for every joint (after rotation), using current joint coordinates q
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L372}{COMHT}{}}}\label{sec:roboticsCore:Robot:COMHT}
({\it self}, {\it HT})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: compute list of  homogeneous transformations HT from base to every COM using HT list from Robot.JointHT(...)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L381}{StaticTorques}{}}}\label{sec:roboticsCore:Robot:StaticTorques}
({\it self}, {\it HT})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: compute list of joint torques for serial robot due to gravity (gravity and mass as given in robot), taking HT from Robot.JointHT()
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L404}{Jacobian}{}}}\label{sec:roboticsCore:Robot:Jacobian}
({\it self}, {\it HT}, {\it toolPosition}= [], {\it mode}= 'all', {\it linkIndex}= None)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: compute jacobian for translation and rotation at toolPosition using joint HT; this is using the Robot functions, but is inefficient for simulation purposes
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it HT}: list of homogeneous transformations per joint , as computed by Robot.JointHT(...)
\item[]{\it toolPosition}: global position at which the jacobian is evaluated (e.g., COM); if empty [], it uses the origin of the last link
\item[]{\it mode}: 'all'...translation and rotation jacobian, 'trans'...only translation part, 'rot': only rotation part
\item[]{\it linkIndex}: link index for which the jacobian is evaluated; if linkIndex==None, it uses the last link provided in HT
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: returns jacobian with translation and rotation parts in rows (3 or 6) according to mode, and one column per HT; in the kinematic tree the columns not related to linkIndex remain zero
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L478}{CreateKinematicTree}{}}}\label{sec:roboticsCore:Robot:CreateKinematicTree}
({\it self}, {\it mbs}, {\it name}= '', {\it forceUserFunction}= 0)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]Add a ObjectKinematicTree to existing mbs from the robot structure inside this robot class;
\item[]Joints defined by the kinematics as well as links (and inertia) are transferred to the kinematic tree object;
\item[]Current implementation only works for serial robots;
\item[]Control can be realized simply by adding PDcontrol to RobotLink structures, then modifying jointPositionOffsetVector and jointVelocityOffsetVector in ObjectKinematicTree; force offsets (e.g., static or dynamic torque compensation) can be added to KinematicTree jointForceVector; more general control can be added by using KinematicTree forceUserFunction;
\item[]The coordinates in KinematicTree (as well as jointPositionOffsetVector, etc.) are sorted in the order as the RobotLinks are added to the Robot class;
\item[]Note that the ObjectKinematicTree is still under development and interfaces may change.
\end{itemize}
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: the multibody system, which will be extended
\item[]{\it name}: object name in KinematicTree; transferred to KinematicTree, default = ''
\item[]{\it forceUserFunction}: defines the user function for computation of joint forces in KinematicTree; transferred to KinematicTree, default = 0
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: the function returns a dictionary containing 'nodeGeneric': generic ODE2 node number ,'objectKinematicTree': the kinematic tree object, 'baseObject': the base object if created, otherwise None; further values will be added in future
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L659}{CreateRedundantCoordinateMBS}{}}}\label{sec:roboticsCore:Robot:CreateRedundantCoordinateMBS}
({\it self}, {\it mbs}, {\it baseMarker}, {\it jointSpringDamperUserFunctionList}= [], {\it jointLoadUserFunctionList}= [], {\it createJointTorqueLoads}= True, {\it rotationMarkerBase}= None, {\it rigidBodyNodeType}= exudyn.NodeType.RotationEulerParameters)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]Add items to existing mbs from the robot structure inside this robot class; robot is attached to baseMarker (can be ground object or moving/deformable body);
\item[]The (serial) robot is built as rigid bodies (containing rigid body nodes), where bodies represent the links which are connected by joints;
\item[]Add optional jointSpringDamperUserFunctionList for individual control of joints; otherwise use PDcontrol in RobotLink structure; additional joint torques/forces can be added via spring damper, using mbs.SetObjectParameter(...) function;
\item[]See several Python examples, e.g., \texttt{serialRobotTestTSD.py}, in Examples or TestModels;
\item[]For more efficient models, use CreateKinematicTree(...) function!
\end{itemize}
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: the multibody system, which will be extended
\item[]{\it baseMarker}: a rigid body marker, at which the robot will be placed (usually ground); note that the local coordinate system of the base must be in accordance with the DH-parameters, i.e., the z-axis must be the first rotation axis. For correction of the base coordinate system, use rotationMarkerBase
\item[]{\it jointSpringDamperUserFunctionList}: NOT IMPLEMENTED yet: jointSpringDamperUserFunctionLista list of user functions for actuation of joints with more efficient spring-damper based connector (spring-damper directly emulates PD-controller); uses torsional spring damper for revolute joints and linear spring damper for prismatic joints; can be empty list (no spring dampers); if entry of list is 0, no user function is created, just pure spring damper; parameters are taken from RobotLink PDcontrol structure, which MUST be defined using SetPDcontrol(...) in RobotLink
\item[]{\it jointLoadUserFunctionList}: DEPRECATED: a list of user functions for actuation of joints according to a LoadTorqueVector userFunction, see serialRobotTest.py as an example; can be empty list
\item[]{\it createJointTorqueLoads}: DEPRECATED: if True, independently of jointLoadUserFunctionList, joint loads are created; the load numbers are stored in lists jointTorque0List/ jointTorque1List; the loads contain zero torques and need to be updated in every computation step, e.g., using a preStepUserFunction; unitTorque0List/ unitTorque1List contain the unit torque vector for the according body(link) which needs to be applied on both bodies attached to the joint
\item[]{\it rotationMarkerBase}: add a numpy 3x3 matrix for rotation of the base, in order that the robot can be attached to any rotated base marker; the rotationMarkerBase is according to the definition in GenericJoint; note, that for moving base, the static compensation does not work (base rotation must be updated)
\item[]{\it rigidBodyNodeType}: specify node type of rigid body node, e.g., exudyn.NodeType.RotationEulerParameters, etc.
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: the function returns a dictionary containing per link nodes and object (body) numbers, 'nodeList', 'bodyList', the object numbers for joints, 'jointList', list of load numbers for joint torques (jointTorque0List, jointTorque1List); unit torque vectors in local coordinates of the bodies to which the torques are applied (unitTorque0List, unitTorque1List); springDamperList contains the spring dampers if defined by PDcontrol of links
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L903}{GetKinematicTree66}{}}}\label{sec:roboticsCore:Robot:GetKinematicTree66}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: export kinematicTree
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L933}{GetLinkGraphicsData}{}}}\label{sec:roboticsCore:Robot:GetLinkGraphicsData}
({\it self}, {\it i}, {\it p0}, {\it p1}, {\it axis0}, {\it axis1}, {\it linkVisualization})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: create link GraphicsData (list) for link i; internally used in CreateRedundantCoordinateMBS(...); linkVisualization contains visualization dict of link
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L977}{BuildFromDictionary}{}}}\label{sec:roboticsCore:Robot:BuildFromDictionary}
({\it self}, {\it robotDict})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: build robot structre from dictionary; this is a DEPRECATED function, which is used in older models; DO NOT USE
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on Robot see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/InverseKinematicsNumericalExample.py}{\texttt{InverseKinematicsNumericalExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreeAndMBS.py}{\texttt{kinematicTreeAndMBS.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/kinematicTreePendulum.py}{\texttt{kinematicTreePendulum.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSMobileManipulator.py}{\texttt{ROSMobileManipulator.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeAndMBStest.py}{\texttt{kinematicTreeAndMBStest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/kinematicTreeConstraintTest.py}{\texttt{kinematicTreeConstraintTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/movingGroundRobotTest.py}{\texttt{movingGroundRobotTest.py}} (TM), 
 ...

\ei

%
\mysubsubsection{CLASS InverseKinematicsNumerical() (in module robotics)}
\noindent\textcolor{steelblue}{{\bf class description}}:  This class can be used to solve the inverse kinematics problem using a multibody system
            by solving the static problem of a serial robot
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf author}: Peter Manzl, Johannes Gerstmayr
\item[--]
{\bf notes}: still under development; errors in orientations of solution may occure. proviedes mtehods to calculate inverse Kinematics
\vspace{24pt}\end{itemize}
%
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L1088}{\_\_init\_\_}{}}}\label{sec:roboticsCore:InverseKinematicsNumerical():__init__}
({\it self}, {\it robot}, {\it jointStiffness}= 1e0, {\it useRenderer}= False, {\it flagDebug}= False, {\it useAlternativeConstraints}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize RigidBodyInertia with scalar mass, 3x3 inertiaTensor (w.r.t. reference point!!!) and center of mass com
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it robot}: robot class
\item[]{\it jointStiffness}: the stiffness used for the robot's model joints
\item[]{\it useRenderer}: when solving the inverse kinematics the renderer is used to show the starting/end
\item[]configuration of the robot using the graphics objects definded in the robot object
\end{itemize}
\item[--]\textcolor{steelblue}{\bf author}: Peter Manzl
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L1180}{GetCurrentRobotHT}{}}}\label{sec:roboticsCore:InverseKinematicsNumerical():GetCurrentRobotHT}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]Utility function to get current Homogeneous transformation of the robot to check inverse Kinematics solution
\item[]** output:
\item[]{\it T}: 4x4 homogeneous Transformation matrix of the current TCP pose
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L1197}{InterpolateHTs}{}}}\label{sec:roboticsCore:InverseKinematicsNumerical():InterpolateHTs}
({\it self}, {\it T1}, {\it T2}, {\it rotStep}= np.pi/16, {\it minSteps}= 1)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: 
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it T1}: 4x4 homogeneous transformation matrix representing the first Pose
\item[]{\it T2}: 4x4 homogeneous transformation matrix representing the second Pose
\item[]{\it rotStep}: the max. size of steps to take for the orientation
\item[]{\it minSteps}: minimum number of substeps to interpolate
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: T: a List of homogeneous Transformations for each step between
\item[--]\textcolor{steelblue}{\bf author}: Peter Manzl
\item[--]\textcolor{steelblue}{\bf notes}: still under development; interpolation may be changed to using logSE3
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L1238}{SolveSafe}{}}}\label{sec:roboticsCore:InverseKinematicsNumerical():SolveSafe}
({\it self}, {\it T}, {\it q0}= None)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]This Method can be used to solve the inverse kinematics problem by solving
\item[]the static problem of a serial robot using steps to interpolate between start and end position close to the function Solve.
\item[]This helps the function Solve() to find the correct solutions.
\end{itemize}
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it T}: the 4x4 homogeneous transformation matrix representing the desired position and orientation of the Endeffector
\item[]{\it q0}: The configuration (joint angles/positions) of the robot from which the numerical methods start so calculate the solution; q0=None indicates that the stored solution (from model or previous solution) shall be used for initialization
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[][q, success]; q: The solution for the joint angles in which the robot's tool center point (TCP) reaches the desired homogeneous transformation matrix T; success=False indicates that all trials for inverse kinematics failed, leading to q=None
\item[]{\it success}: flag to indicate if method was successful
\end{itemize}
\item[--]\textcolor{steelblue}{\bf author}: Peter Manzl, Johannes Gerstmayr
\item[--]\textcolor{steelblue}{\bf notes}: still under development; errors in orientations of solution may occure. works similar to ikine\_LM function of the robotics toolbox from peter corke
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/roboticsCore.py\#L1288}{Solve}{}}}\label{sec:roboticsCore:InverseKinematicsNumerical():Solve}
({\it self}, {\it T}, {\it q0}= None)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]This Method can be used to solve the inverse kinematics problem by solving
\item[]the static problem of a serial robot using steps to interpolate between start and end position close to the function Solve.
\item[]T his helps the fucntion Solve to find the correct solutions.
\end{itemize}
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it T}: the 4x4 homogeneous transformation matrix representing the desired position and orientation of the Endeffector
\item[]{\it q0}: The configuration (joint angles/positions) of the robot from which the numerical methods start so calculate the solution; q0=None indicates that the stored solution (from model or previous solution) shall be used for initialization
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: [q, success]; q: The solution for the joint angles in which the robot's tool center point (TCP) reaches the desired homogeneous transformation matrix T; success=False indicates that all trials for inverse kinematics failed, leading to q=None
\item[--]\textcolor{steelblue}{\bf author}: Peter Manzl, Johannes Gerstmayr
\item[--]\textcolor{steelblue}{\bf notes}: still under development; errors in orientations of solution may occure. works similar to ikine\_LM function of the robotics toolbox from peter corke
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on InverseKinematicsNumerical see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/InverseKinematicsNumericalExample.py}{\texttt{InverseKinematicsNumericalExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInverseKinematics.py}{\texttt{serialRobotInverseKinematics.py}} (Ex)
\ei

%
\mysubsubsection{Module: robotics.rosInterface}
\label{sec:module:robotics.rosInterface}
  This interface collects interfaces and functionality for ROS comunication
			This library is under construction (2023-05);
           To make use of this libraries, you need to 
           install ROS (ROS1 noetic) including rospy
           Please consider following workflow:
           make sure to have a working ROS1-NOETIC installation, ROS2 is not supported yet
           tested only with ROS1-NOETIC, ubuntu 20.04, and Python 3.8.10
           you find all ROS1 installation steps on: 
           http://wiki.ros.org/noetic/Installation/Ubuntu
           Step 1.4 we recommend to install: (sudo apt install ros-noetic-desktop)
           Check the installation of the turtlesim package (rosrun turtlesim turtlesim\_node )
           if not installed: sudo apt install ros-noetic-turtlesim
           use a catkin workspace and build a ROS1 Package  
           Follow instructions on:
           http://wiki.ros.org/ROS/Tutorials (recommend go trough step 1 to 6)
           Minimal example to use:
           create catkin workspace: 
               mkdir -p ~/catkin\_ws/src
               cd ~/catkin\_ws
               catkin\_make
               source devel/setup.bash
           build ROS package:
               cd ~/catkin\_ws/src
               catkin\_create\_pkg my\_pkg\_name rospy roscpp std\_msgs geometry\_msgs sensor\_msgs 
           build catkin workspace and sourcing setup file
               cd ~/catkin\_ws
               cakin\_make
               source ~/catkin\_ws/devel/setup.bash
           for more functionality see also: ROSExampleMassPoint.py, ROSExampleBringup.launch, ROSExampleControlVelocity.py
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Martin Sereinig, Peter Manzl 
\item[]Date:      2023-05-31 (created)
\ei
\mysubsubsubsection{CLASS ROSInterface (in module robotics.rosInterface)}
\noindent\textcolor{steelblue}{{\bf class description}}:  interface super class to establish a ROS Exudyn interface
           see specific class functions which can be used and extended
           by inheritance with class MyClass(ROSInterface)
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf author}: Martin Sereinig, Peter Manzl
\item[--]
{\bf notes}: some inspiration can be taken from
\vspace{24pt}\end{itemize}
%
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/rosInterface.py\#L121}{InitPublisher}{}}}\label{sec:rosInterface:ROSInterface:InitPublisher}
({\it self}, {\it pubTopicName}= '', {\it pubType}= Empty, {\it queueSize}= 10)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: function to create a publisher
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it pubTopicName}: topic name to publish, actual topic will be /exudyn/pubTopicName
\item[]{\it pubType}: data type used in topic
\item[]{\it queSize}: length of queue to hold messages, should be as small as sending frequency (= simulation sample time)
\end{itemize}
\item[--]\textcolor{steelblue}{\bf author}: Martin Sereinig
\item[--]\textcolor{steelblue}{\bf notes}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]find msgs types here
\item[]{\it http}://docs.ros.org/en/melodic/api/std\_msgs/html/index-msg.html
\end{itemize}
\item[--]\textcolor{steelblue}{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  s:
         publisher for poses, pubType = PoseStamped,
         publisher for system data, pubType = Float64MultiArray,
         publisher for filtered force, pubType = WrenchStamped,
         publisher for velocities, pubType = Twist,
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/rosInterface.py\#L131}{ExuCallbackGeneric}{}}}\label{sec:rosInterface:ROSInterface:ExuCallbackGeneric}
({\it self}, {\it subTopicName}, {\it data})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: function to create a generic callback function for a subscriber
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it topic}: topic name generated by init Subscriber
\item[]{\it data}: data structure for regarding individual topic
\end{itemize}
\item[--]\textcolor{steelblue}{\bf author}: Peter Manzl
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/rosInterface.py\#L143}{InitSubscriber}{}}}\label{sec:rosInterface:ROSInterface:InitSubscriber}
({\it self}, {\it subTopicNameSpace}, {\it subTopicName}, {\it subType})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: function to create a subscriber
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it subTopicNameSpace}: topic namespace: 'exudyn/'
\item[]{\it subTopicName}: topic name to subscribe
\item[]{\it subType}: data type for topic to subscribe
\end{itemize}
\item[--]\textcolor{steelblue}{\bf author}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]Peter Manzl
\item[]{\it **note}: callback function will be automatic generated for each subscriber, depending
\item[]on subTopicName. Data will be found under self.subTopicName
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/rosInterface.py\#L151}{CheckROSversion}{}}}\label{sec:rosInterface:ROSInterface:CheckROSversion}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: check the current used ROS version
\item[--]\textcolor{steelblue}{\bf author}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]Martin Sereinig
\item[]{\it **note}: just supports ROS1, ROS2 support will be given in future releases
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/rosInterface.py\#L177}{PublishPoseUpdate}{}}}\label{sec:rosInterface:ROSInterface:PublishPoseUpdate}
({\it self}, {\it mbs}, {\it tExu}, {\it getData}= 'node')
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]Example method to be called once per frame/control cycle in Exudyn PreStepUserFunction
\item[]{\it **note}:        reads sensor values, creates message, publish and subscribe to ROS
\end{itemize}
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}:     mbs (exudyn.exudynCPP.MainSystem), multi-body simulation system from exudyn
\item[]{\it tExu}:    tExu (float), elapsed time since simulation start
\item[]{\it getData}: getData (string), get pose information from 'node' or from 'sensor'
\end{itemize}
\item[--]\textcolor{steelblue}{\bf author}: Martin Sereinig
\item[--]\textcolor{steelblue}{\bf notes}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]reads sensor values, creates message, publish and subscribe to ROS
\item[]publishing each and every step is too much, this would slow down the connection
\item[]{\it thus}: publish every few seconds, only
\item[]furthermore, as vrInterface is only updating the graphics with f=60Hz, we don't have to update
\item[]system state every 1ms, so with f=1000Hz. Instead f=60Hz equivalents to update every 1/60=17ms
\item[]timing variable to know when to send new command to robot or when to publish new mbs system state update
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/rosInterface.py\#L236}{PublishTwistUpdate}{}}}\label{sec:rosInterface:ROSInterface:PublishTwistUpdate}
({\it self}, {\it mbs}, {\it tExu}, {\it getData}= 'node')
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]Example method to be called once per frame/control cycle in Exudyn PreStepUserFunction
\item[]{\it **note}:        reads sensor values, creates message, publish and subscribe to ROS
\end{itemize}
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}:     mbs (exudyn.exudynCPP.MainSystem), multi-body simulation system from exudyn
\item[]{\it tExu}:    tExu (float), elapsed time since simulation start
\item[]{\it getData}: getData (string), get pose information from 'node' or from 'sensor'
\end{itemize}
\item[--]\textcolor{steelblue}{\bf author}: Martin Sereinig
\item[--]\textcolor{steelblue}{\bf notes}: reads sensor values, creates message, publish and subscribe to ROS
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/rosInterface.py\#L279}{PublishSystemStateUpdate}{}}}\label{sec:rosInterface:ROSInterface:PublishSystemStateUpdate}
({\it self}, {\it mbs}, {\it tExu})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: method to be send system state data once per frame/control cycle in Exudyn PreStepUserFunction
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}:     mbs (exudyn.exudynCPP.MainSystem), multi-body simulation system from exudyn
\item[]{\it tExu}:       tExu (float),  simulation time
\item[]{\it systemStateData}:   systemStateData (list), full Exudyn SystemState
\end{itemize}
\item[--]\textcolor{steelblue}{\bf author}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]Martin Sereinig
\item[]{\it **note}:        collects important exudyn system data and send it to ros-topic
\end{itemize}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ROSInterface see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSMassPoint.py}{\texttt{ROSMassPoint.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSMobileManipulator.py}{\texttt{ROSMobileManipulator.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSTurtle.py}{\texttt{ROSTurtle.py}} (Ex)
\ei

%
\mysubsubsection{Module: robotics.future}
\label{sec:module:robotics.future}
  The future module contains functionality which is currently under development
           and will be moved in other robotics libraries in future
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Date:      2023-03-27
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/future.py\#L41}{MakeCorkeRobot}{}}}\label{sec:future:MakeCorkeRobot}
({\it robotDic})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: makeCorkeRobot, creates robot using the peter corke toolbox using standard (stdDH) or modified (modKKDH) Denavid Hartenberg parameters
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it robotDic}: robot dictionary by exudyn robotic models
\item[]{\it dhpara}: stDH for standard DH parameter, modKKDH for modified DH parameter
\end{itemize}
\item[--]
{\bf output}: serial robot object by corke
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]DH Parameter Information:
\item[]stdH = [theta, d, a, alpha] with Rz(theta) * Tz(d) * Tx(a) * Rx(alpha)
\item[]modDH = [alpha, dx, theta, rz] with
\item[]used by Corke and Lynch: Rx(alpha) * Tx(a) * Rz(theta) * Tz(d)
\item[]used by Khali:           Rx(alpha) * Tx(d) * Rz(theta) * Tz(r)
\item[]Important note:  d(khali)=a(corke)  and r(khali)=d(corke)
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/future.py\#L85}{ComputeIK3R}{}}}\label{sec:future:ComputeIK3R}
({\it robotDic}, {\it HT})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: calculates the analytical inverse kinematics for 3R elbow type serial robot manipulator
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it robotDic}: robot dictionary
\item[]{\it HT}: desired position and orientation for the end effector as 4x4 homogeneous transformation matrix as list of lists or np.array
\end{itemize}
\item[--]
{\bf output}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]solutions, list of lists with posible joint angles [q1,q2,q3] (in radiant)
\item[]to achive the desired position (4 posible solutions,schoulder left/right, ellbow up/down ) in following order: left/down, left/up, right/up, right/down
\end{itemize}
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: only applicable for standard Denavit-Hartenberg parameters
\item[--]
{\bf status}: testet with various configurations and joint angels
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/future.py\#L157}{ComputeIKPuma560}{}}}\label{sec:future:ComputeIKPuma560}
({\it robotDic}, {\it HT})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: calculates the analytical inverse kinematics for Puma560 serial 6R robotDic manipulator
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it robotDic}: robotDictionary
\item[]{\it HT}: desired position and orientation for the end effector as 4x4 homogeneous transformation matrix as list of lists or np.array
\end{itemize}
\item[--]
{\bf output}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]qSolutions, list of lists with posible joint angles [q1,q2,q3,q4,q5,q6] (in radiant)
\item[]to achive the desired position and orientation (8 posible solutions,schoulder left/right, ellbow up/down, wrist flipped/notflipped (rotated by pi) )
\item[]left/down/notflipped, left/down/flipped, left/up/notflipped, left/up/flipped, right/up/notflipped, right/up/flipped, right/down/notflipped, right/down/flipped
\end{itemize}
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: Usage for different manipulators with sperical wrist posible, only applicable for standard Denavit-Hartenberg parameters
\item[--]
{\bf status}: tested (compared with robotDiccs, Vision and Control book of P. Corke
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/future.py\#L282}{ComputeIKUR}{}}}\label{sec:future:ComputeIKUR}
({\it robotDic}, {\it HTdes})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: calculates the analytical inverse kinematics for UR type serial 6R robot manipulator without sperical wrist
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it robotDic}: robot dictionary
\item[]{\it HT}: desired position and orientation for the end effector as 4x4 homogeneous transformation matrix as list of lists or np.array
\end{itemize}
\item[--]
{\bf output}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]solutions, list of lists with posible joint angles [q1,q2,q3,q4,q5,q6] (in radiant)
\item[]to achive the desired position and orientation (8 posible solutions,schoulder left/right, ellbow up/down, wrist flipped/notflipped (rotated by pi) )
\item[][left/down/notflipped, left/down/flipped, left/up/notflipped, left/up/flipped, right/up/notflipped, right/up/flipped, right/down/notflipped, right/down/flipped]
\end{itemize}
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: Usage for different manipulators without sperical wrist posible UR3,UR5,UR10, only applicable for standard Denavit-Hartenberg parameters
\item[--]
{\bf status}: under development, works for most configurations, singularities not checked -> ZeroConfiguration not working
\vspace{12pt}\end{itemize}
%
\mysubsubsection{Module: robotics.models}
\label{sec:module:robotics.models}
  This module contains robotics models; They can be imported by simply calling the functions,
           which return the according robot dictionary;
			the library is built on Denavit-Hartenberg Parameters and
			Homogeneous Transformations (HT) to describe transformations and coordinate systems
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Date:      2021-01-10
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/models.py\#L41}{Manipulator4Rsimple}{}}}\label{sec:models:Manipulator4Rsimple}
()
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate 4R manipulator as myRobot dictionary, settings are done in function
\item[--]
{\bf output}: myRobot dictionary
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: the 4th joint is used to simulate a paralell kinematics manipulator
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/models.py\#L130}{Manipulator3RSimple}{}}}\label{sec:models:Manipulator3RSimple}
()
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate 3R manipulator as myRobot dictionary, settings are done in function
\item[--]
{\bf output}: myRobot dictionary
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it DH-parameters}: [theta, d, a, alpha], according to P. Corke
\item[]Values according to Wörnle simple example with l1=0
\item[]d=[h1 0 0];
\item[]theta=[beta1 beta2 beta3];
\item[]a=[l1 l2 l3];
\item[]alpha=[pi/2 0 0];
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/models.py\#L217}{ManipulatorPANDA}{}}}\label{sec:models:ManipulatorPANDA}
()
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate Franka Emika Panda manipulator as myRobot dictionary, settings are done in function
\item[--]
{\bf output}: myRobot dictionary
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]all Parameter according to Gaz et. al \cite{GazDeLuca2019}
\item[]{\it DH-parameters(std)}: [theta, d, a, alpha], according to P. Corke
\item[]Standard DH Parameters, masses, inertias and com according P.Corke and Gaz et. al (they working with modified DH parameter)
\item[]changes to standard DH Parameter checked with P.Corke toolbox
\end{itemize}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ManipulatorPANDA see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/InverseKinematicsNumericalExample.py}{\texttt{InverseKinematicsNumericalExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInverseKinematics.py}{\texttt{serialRobotInverseKinematics.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/models.py\#L358}{ManipulatorUR5}{}}}\label{sec:models:ManipulatorUR5}
()
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate UR5 manipulator as myRobot dictionary, settings are done in function
\item[--]
{\bf output}: myRobot dictionary
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]define myRobot kinematics, UR5 Universal Robotics,
\item[]Standard DH-parameters: [theta, d, a, alpha], according to P. Corke,
\item[]Links modeld as cylindrical tubes, Inertia from Parham M. Kebria2016 / Kuefeta2014
\end{itemize}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ManipulatorUR5 see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/InverseKinematicsNumericalExample.py}{\texttt{InverseKinematicsNumericalExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSMobileManipulator.py}{\texttt{ROSMobileManipulator.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInverseKinematics.py}{\texttt{serialRobotInverseKinematics.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/models.py\#L446}{ManipulatorPuma560}{}}}\label{sec:models:ManipulatorPuma560}
()
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate puma560 manipulator as myRobot dictionary, settings are done in function
\item[--]
{\bf output}: myRobot dictionary
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]std DH-parameters: [theta, d, a, alpha], according to P. Corke page 138,
\item[]puma p560 limits, taken from Corke Visual Control of Robots
\end{itemize}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ManipulatorPuma560 see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/InverseKinematicsNumericalExample.py}{\texttt{InverseKinematicsNumericalExample.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInverseKinematics.py}{\texttt{serialRobotInverseKinematics.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotKinematicTreeDigging.py}{\texttt{serialRobotKinematicTreeDigging.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/models.py\#L544}{LinkDict2Robot}{}}}\label{sec:models:LinkDict2Robot}
({\it robotLinkDict}, {\it robotClass}= None)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generate serial manipulator as robotClass object from robotLinkDict
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it robotClass}: robot class object from roboticsCore; if robotClass is provided, gravity, tool and base are used from there
\item[]{\it robotLinkDict}: list of robot links generated by manipulator import for individual robot dictionary
\end{itemize}
\item[--]
{\bf output}: updated robot class
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]DH Parameter Information
\item[]stdH = [theta, d, a, alpha] with Rz(theta) * Tz(d) * Tx(a) * Rx(alpha)
\item[]modDH = [alpha, dx, theta, rz] with
\item[]used by Corke and Lynch: Rx(alpha) * Tx(a) * Rz(theta) * Tz(d)
\item[]used by Khali:           Rx(alpha) * Tx(d) * Rz(theta) * Tz(r)
\item[]Important note:  d(khali)=a(corke)  and r(khali)=d(corke)
\end{itemize}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on LinkDict2Robot see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSMobileManipulator.py}{\texttt{ROSMobileManipulator.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInverseKinematics.py}{\texttt{serialRobotInverseKinematics.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/models.py\#L598}{LinkDictModDHKK2Robot}{}}}\label{sec:models:LinkDictModDHKK2Robot}
({\it robotLinkDict}, {\it robotClass}= None)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: special test function to generate serial manipulator as robotClass object from robotLinkDict using inertia parameters defined in stdDH coordinates, but creating robot from modDHKK; will be ERASED in future
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it robotLinkDict}: list of robot links generated by manipulator import for individual robot dictionary
\item[]{\it robotClass}: robot class object from roboticsCore; if robotClass is provided, gravity, tool and base are used from there
\end{itemize}
\item[--]
{\bf output}: updated robot class
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: DEPRECATED; function uses modDHKK in robotLinkDict for creation, transforms inertia parameters; should only be used for testing!
\vspace{12pt}\end{itemize}
%
\mysubsubsection{Module: robotics.mobile}
\label{sec:module:robotics.mobile}
  The utilities contains functionality for mobile robots 
           based on the EXUDYN example MecanumWheel RollingDiscPenality
           specific friction angle of rolling disc is used to model rolls of mecanum wheels
           
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Martin Sereinig, Peter Manzl and Johannes Gerstmayr
\item[]Date:      2021-10-01
 Updated:  2023-09-15
\item[]Notes:  formulation is still under development
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/mobile.py\#L41}{mobileRobot2MBS}{}}}\label{sec:mobile:mobileRobot2MBS}
({\it mbs}, {\it mobileRobot}, {\it markerGround}, {\it flagGraphicsRollers}= True, {\it *args}, {\it **kwargs})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]add items to existing mbs to build up a mobile robot platform,
\item[]there are options that can be passed as args / kwargs, which can contains options as described below.
\item[]The robot platform is built out of rigid bodies where the wheels can be modeled as rolling discs
\item[](mecanum wheel x/o configuration) or with a detailed mecanum wheel simulation approach
\end{itemize}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: the multibody system which will be extended
\item[]{\it markerGround}: a rigid body marker, at which the robot will be placed (usually ground)
\item[]{\it mobileRobot}: a dictionary including all information about the mobile robot platform
\end{itemize}
\item[--]
{\bf output}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]the function returns a dictionary containing nodes, body, object and marker numbers of individual mobile robot parts
\item[]nPlatformList, bPlatformList, oPlatformList, mPlatformList; nodes, bodies, objects and marker of the platform [nPlattform] [bPlattform] [oPlattform]  []
\item[]oAxisList, mAxlesList; objects and marker of the axles  [a1, a2, a3, a4]
\item[]nWheelsList, bWheelsList, oRollingDiscsList, mWheelsList; nodes, bodys, objects and markers of the four wheels [w1, w2, w3, w4]
\end{itemize}
\item[--]
{\bf notes}: for coordinate system, see Python function definition
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on mobileRobot2MBS see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSMobileManipulator.py}{\texttt{ROSMobileManipulator.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/mobile.py\#L397}{Generatrix2Polynomial}{}}}\label{sec:mobile:Generatrix2Polynomial}
({\it param}, {\it GeneratrixFunction}, {\it tol}= 1e-14, {\it nFit}= 101, {\it nTest}= 1001)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: create a polynomial describing a generatrix function
\item[--]
{\bf input}: param: list containing data (lRoll, aPoly, ...)
\item[--]
{\bf author}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]Peter Manzl
\item[]{\it **note}: create and fit a polynomial of an order high enough to approximate the given GeneratrixFunction
\item[]with a given tolerance. The error is measured as the Chebyshev distance.
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/mobile.py\#L469}{GeneratrixRoll}{}}}\label{sec:mobile:GeneratrixRoll}
({\it u}, {\it param})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: generatrix function for a roll of a Mecanum wheel
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it u}: parameter, max. +- pi/2
\item[]{\it param['r']}: radius of the associated Mecanum wheel
\item[]{\it param['delta']}: angle of the rolls rotation axis to the wheels rotation axis
\item[]{\it param['dRoll']}: smallest distance of roll axis to the wheel axis
\end{itemize}
\item[--]
{\bf output}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]x and y values for the function in the local frame. The rotation around the
\item[]local x-yxis creates the surface of the roll.
\end{itemize}
\item[--]
{\bf author}: Peter Manzl
\item[--]
{\bf notes}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]parametric equation, x,y are the generatrix of the roll in
\item[]its local frame with the axis of rotation x, see \cite{Gfrerrer2008}.
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/mobile.py\#L482}{FunDiffPoly}{}}}\label{sec:mobile:FunDiffPoly}
({\it x}, {\it a})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: calculates the derivative of the polynomial $a0*x^n + ... $
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it x}: value at which the polynomial is evaluated
\item[]{\it a}: coefficients
\end{itemize}
\item[--]
{\bf output}: f:
\item[--]
{\bf author}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]Peter Manzl
\item[]{\it **note}: helper function polynomial describing a generatrix function
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/mobile.py\#L497}{FunDDiffPoly}{}}}\label{sec:mobile:FunDDiffPoly}
({\it x}, {\it a})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: calculates the second derivative of a polynomial
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it x}: value at which the polynomial is evaluated
\item[]{\it a}: coefficients
\end{itemize}
\item[--]
{\bf output}: f:
\item[--]
{\bf author}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]Peter Manzl
\item[]{\it **note}: helper function polynomial describing a generatrix function
\end{itemize}
\vspace{12pt}\end{itemize}
%
\mysubsubsubsection{CLASS MobileKinematics (in module robotics.mobile)}
\noindent\textcolor{steelblue}{{\bf class description}}:  calculate 4 wheel velocities for a mecanum wheel driven platform with given platform velocities
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf author}: Peter Manzl, Johannes Gerstmayr
\item[--]
{\bf notes}: still under development; wheel axis is mounted at y-axis; positive angVel rotates CCW in x/y plane viewed from top; for coordinate system, see Python class definition
\vspace{24pt}\end{itemize}
%
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/mobile.py\#L315}{\_\_init\_\_}{}}}\label{sec:mobile:MobileKinematics:__init__}
({\it self}, {\it R}, {\it lx}, {\it ly}, {\it flagAdjusted}= False, {\it lcx}= 0, {\it lcy}= 0, {\it wheeltype}= 0)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize mobileKinematics class
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it R}: wheel radius
\item[]{\it lx}: wheel track width
\item[]{\it ly}: wheel base
\item[]{\it wheeltype}: 1=x-config (bad), 0=o-config (good)
\end{itemize}
\item[--]\textcolor{steelblue}{\bf author}: Peter Manzl
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/mobile.py\#L351}{getWheelVelocities}{}}}\label{sec:mobile:MobileKinematics:getWheelVelocities}
({\it self}, {\it vDes})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: calculate wheel velocities from Cartesian velocities
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it vDes}: desired velocity [vx, vy, omega] in the robot's local frame
\item[]{\it vx}: platform  translational velocity in local x direction
\item[]{\it vy}: platform translational velocity in local y direction
\item[]{\it omega}: platform rotational velocity around local z axis
\end{itemize}
\item[--]\textcolor{steelblue}{\bf output}: w: wheel velocities w=[w0,w1,w2,w3]
\item[--]\textcolor{steelblue}{\bf author}: Peter Manzl
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/mobile.py\#L375}{getCartesianVelocities}{}}}\label{sec:mobile:MobileKinematics:getCartesianVelocities}
({\it self}, {\it w})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: calculate Cartesian velocities from wheel velocities
\item[--]\textcolor{steelblue}{\bf input}: w: wheel velocities w=[w0,w1,w2,w3]
\item[--]\textcolor{steelblue}{\bf output}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it v}: Cartesian velocity [vx, vy, omega] in the robot's local frame
\item[]{\it vx}: platform  translational velocity in local x direction
\item[]{\it vy}: platform translational velocity in local y direction
\item[]{\it omega}: platform rotational velocity around local z axis
\end{itemize}
\item[--]\textcolor{steelblue}{\bf author}: Peter Manzl
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on MobileKinematics see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSMobileManipulator.py}{\texttt{ROSMobileManipulator.py}} (Ex)
\ei

%
\mysubsubsection{Module: robotics.motion}
\label{sec:module:robotics.motion}
  functionality for motion including generation of trajectories with acceleration profiles,
           path planning and motion
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Johannes Gerstmayr
\item[]Date:      2022-02-16
\ei
\mysubsubsubsection{CLASS ProfileConstantAcceleration (in module robotics.motion)}
\noindent\textcolor{steelblue}{{\bf class description}}:  class to create a constant acceleration (optimal) PTP trajectory; trajectory ignores global max. velocities and accelerations
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it finalCoordinates}: list or numpy array with final coordinates for profile
\item[]{\it duration}: duration (time) for profile
\end{itemize}
\item[--]
{\bf output}: returns profile object, which is then used to compute interpolated trajectory
\vspace{24pt}\end{itemize}
%
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/motion.py\#L143}{\_\_init\_\_}{}}}\label{sec:motion:ProfileConstantAcceleration:__init__}
({\it self}, {\it finalCoordinates}, {\it duration})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize ProfileConstantAcceleration with vector of final coordinates and duration (time span)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/motion.py\#L148}{GetBasicProfile}{}}}\label{sec:motion:ProfileConstantAcceleration:GetBasicProfile}
({\it self}, {\it initialTime}, {\it initialCoordinates}, {\it globalMaxVelocities}, {\it globalMaxAccelerations})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: return a class representing profile which is used in Trajectory
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ProfileConstantAcceleration see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSMobileManipulator.py}{\texttt{ROSMobileManipulator.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotFlexible.py}{\texttt{serialRobotFlexible.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInteractiveLimits.py}{\texttt{serialRobotInteractiveLimits.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInverseKinematics.py}{\texttt{serialRobotInverseKinematics.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/movingGroundRobotTest.py}{\texttt{movingGroundRobotTest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/serialRobotTest.py}{\texttt{serialRobotTest.py}} (TM)
\ei

%
\mysubsubsubsection{CLASS ProfileLinearAccelerationsList (in module robotics.motion)}
\noindent\textcolor{steelblue}{{\bf class description}}:  class to create a linear acceleration PTP profile, using a list of accelerations to define the profile; the (joint) coordinates and velocities are computed relative to values of previous profiles; ignores global max. accelerations and velocities of Trajectory
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf input}: accelerationList: list of tuples (relativeTime, accelerationVector) in which relativeTime is the time relative to the start of the profile (first time must be zero!) and accelerationVector is the list of accelerations of this time point, which is then linearly interpolated
\item[--]
{\bf output}: returns profile object, which is then used to compute interpolated trajectory in class Trajectory
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  profile = ProfileLinearAccelerationsList([(0,[0.,1.,2]), (0,[1.,1.,-2])])
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{24pt}\end{itemize}
%
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/motion.py\#L169}{\_\_init\_\_}{}}}\label{sec:motion:ProfileLinearAccelerationsList:__init__}
({\it self}, {\it accelerationList})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize ProfileLinearAccelerationsList with a list of tuples containing time and acceleration vector
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/motion.py\#L179}{GetBasicProfile}{}}}\label{sec:motion:ProfileLinearAccelerationsList:GetBasicProfile}
({\it self}, {\it initialTime}, {\it initialCoordinates}, {\it globalMaxVelocities}, {\it globalMaxAccelerations})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: return a class representing profile which is used in Trajectory
\vspace{12pt}\end{itemize}
%
\mysubsubsubsection{CLASS ProfilePTP (in module robotics.motion)}
\noindent\textcolor{steelblue}{{\bf class description}}:  class to create a synchronous motion PTP trajectory, using max. accelerations and max velocities; duration automatically computed
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it finalCoordinates}: list or numpy array with final coordinates for profile
\item[]{\it maxVelocities}: list or numpy array with maximum velocities; may be empty list []; used if smaller than globalMaxVelocities
\item[]{\it maxAccelerations}: list or numpy array with maximum accelerations; may be empty list []; used if smaller than globalMaxAccelerations
\end{itemize}
\item[--]
{\bf output}: returns profile object, which is then used to compute interpolated trajectory
\vspace{24pt}\end{itemize}
%
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/motion.py\#L196}{\_\_init\_\_}{}}}\label{sec:motion:ProfilePTP:__init__}
({\it self}, {\it finalCoordinates}, {\it syncAccTimes}= True, {\it maxVelocities}= [], {\it maxAccelerations}= [])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize ProfilePTP with final coordinates of motion, optionally max. velocities and accelerations just for this profile (overrides global settings)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/motion.py\#L209}{GetBasicProfile}{}}}\label{sec:motion:ProfilePTP:GetBasicProfile}
({\it self}, {\it initialTime}, {\it initialCoordinates}, {\it globalMaxVelocities}, {\it globalMaxAccelerations})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: return a class representing profile which is used in Trajectory
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ProfilePTP see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotFlexible.py}{\texttt{serialRobotFlexible.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInteractiveLimits.py}{\texttt{serialRobotInteractiveLimits.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInverseKinematics.py}{\texttt{serialRobotInverseKinematics.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotKinematicTree.py}{\texttt{serialRobotKinematicTree.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotTSD.py}{\texttt{serialRobotTSD.py}} (Ex), 
 ...

\ei

%
\mysubsubsubsection{CLASS Trajectory (in module robotics.motion)}
\noindent\textcolor{steelblue}{{\bf class description}}:  class to define (PTP) trajectories for robots and multibody systems; trajectories are defined for a set of coordinates (e.g. joint angles or other coordinates which need to be interpolated over time)
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  #create simple trajectory for two joint coordinates:
  traj = Trajectory(initialCoordinates=[1,1], initialTime=1)
  #add optimal trajectory with max. accelerations:
  traj.Add(ProfileConstantAcceleration([2.,3.],2.))
  traj.Add(ProfileConstantAcceleration([3.,-1.],2.))
  #add profile with limited velocities and accelerations:
  traj.Add(ProfilePTP([1,1],syncAccTimes=False, maxVelocities=[1,1], maxAccelerations=[5,5]))
  #now evaluate trajectory at certain time point (this could be now applied in a user function)
  [s,v,a] = traj.Evaluate(t=0.5)
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{24pt}\end{itemize}
%
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/motion.py\#L291}{\_\_init\_\_}{}}}\label{sec:motion:Trajectory:__init__}
({\it self}, {\it initialCoordinates}, {\it initialTime}= 0, {\it maxVelocities}= [], {\it maxAccelerations}= [])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize robot link with parameters, being self-explaining
\item[--]\textcolor{steelblue}{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it initialTime}: initial time for initial coordinates
\item[]{\it initialCoordinates}: initial coordinates for profile
\item[]{\it maxVelocities}: list or numpy array to describe global maximum velocities per coordinate
\item[]{\it maxAccelerations}: list or numpy array to describe global maximum accelerations per coordinate
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/motion.py\#L306}{GetFinalCoordinates}{}}}\label{sec:motion:Trajectory:GetFinalCoordinates}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: returns the coordinates at the end of the (currently) Final profile
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/motion.py\#L314}{Add}{}}}\label{sec:motion:Trajectory:Add}
({\it self}, {\it profile})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: add successively profiles, using MotionProfile class
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/motion.py\#L321}{GetTimes}{}}}\label{sec:motion:Trajectory:GetTimes}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: return vector of times of start/end of profiles
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/motion.py\#L328}{Initialize}{}}}\label{sec:motion:Trajectory:Initialize}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: initialize some parameters for faster evaluation
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/motion.py\#L334}{Evaluate}{}}}\label{sec:motion:Trajectory:Evaluate}
({\it self}, {\it t})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: return interpolation of trajectory for coordinates, velocities and accelerations at given time
\item[--]\textcolor{steelblue}{\bf output}: [s, v, a] as numpy arrays representing coordinates, velocities and accelerations
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/motion.py\#L355}{EvaluateCoordinate}{}}}\label{sec:motion:Trajectory:EvaluateCoordinate}
({\it self}, {\it t}, {\it coordinate})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: return interpolation of trajectory for coordinate, including velocity and acceleration coordinate at given time
\item[--]\textcolor{steelblue}{\bf output}: [s, v, a] being scalar position, velocity and acceleration
\item[--]\textcolor{steelblue}{\bf notes}: faster for single coordinate than Evaluate(...)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/motion.py\#L371}{\_\_iter\_\_}{}}}\label{sec:motion:Trajectory:__iter__}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: iterator allows to use for x in trajectory: ... constructs
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/motion.py\#L375}{\_\_getitem\_\_}{}}}\label{sec:motion:Trajectory:__getitem__}
({\it self}, {\it key})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: access to profiles via operator [], allowing trajectory[0], etc.
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/motion.py\#L379}{\_\_len\_\_}{}}}\label{sec:motion:Trajectory:__len__}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: allow using len(trajectory)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent \textcolor{steelblue}{def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/motion.py\#L384}{\_\_repr\_\_}{}}}\label{sec:motion:Trajectory:__repr__}
({\it self})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]\textcolor{steelblue}{\bf classFunction}: representation of Trajectory is given a list of profiles, allowing easy inspection of data
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on Trajectory see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/humanRobotInteraction.py}{\texttt{humanRobotInteraction.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ROSMobileManipulator.py}{\texttt{ROSMobileManipulator.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotFlexible.py}{\texttt{serialRobotFlexible.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInteractiveLimits.py}{\texttt{serialRobotInteractiveLimits.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/serialRobotInverseKinematics.py}{\texttt{serialRobotInverseKinematics.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/movingGroundRobotTest.py}{\texttt{movingGroundRobotTest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/serialRobotTest.py}{\texttt{serialRobotTest.py}} (TM)
\ei

%
\mysubsubsection{Module: robotics.special}
\label{sec:module:robotics.special}
  additional support functions for robotics;
			The library is built on Denavit-Hartenberg Parameters and
			Homogeneous Transformations (HT) to describe transformations and coordinate systems
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Martin Sereinig
\item[]Date:      2021-22-09
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/special.py\#L31}{VelocityManipulability}{}}}\label{sec:special:VelocityManipulability}
({\it robot}, {\it HT}, {\it mode})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute velocity manipulability measure for given pose (homogeneous  transformation)
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it robot}: robot class
\item[]{\it HT}: actual pose as homogeneous transformaton matrix
\item[]{\it mode}: rotational or translational part of the movement
\end{itemize}
\item[--]
{\bf output}: velocity manipulability measure as scalar value, defined as $\sqrt(det(JJ^T))$
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: compute velocity dependent manipulability definded by Yoshikawa, see \cite{Yoshikawa1985}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/special.py\#L61}{ForceManipulability}{}}}\label{sec:special:ForceManipulability}
({\it robot}, {\it HT}, {\it mode}, {\it singularWeight}= 100)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute force manipulability measure for given pose (homogeneous  transformation)
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it robot}: robot class
\item[]{\it HT}: actual pose as hoogenious transformaton matrix
\item[]{\it singularWeight}: Weighting of singular configurations where the value would be infinity, default value=100
\item[]{\it mode}: rotational or translational part of the movement
\end{itemize}
\item[--]
{\bf output}: force manipulability measure as scalar value, defined as $\sqrt((det(JJ^T))^{-1})$
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: compute force dependent manipulability definded by Yoshikawa, see \cite{Yoshikawa1985}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/special.py\#L105}{StiffnessManipulability}{}}}\label{sec:special:StiffnessManipulability}
({\it robot}, {\it JointStiffness}, {\it HT}, {\it mode}, {\it singularWeight}= 1000)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute cartesian stiffness measure for given pose (homogeneous transformation)
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it robot}: robot class
\item[]{\it JointStiffness}: joint stiffness matrix
\item[]{\it HT}: actual pose as homogeneous transformaton matrix
\item[]{\it mode}: rotational or translational part of the movement
\item[]{\it singularWeight}: Weighting of singular configurations where the value would be infinity,default value=1000
\end{itemize}
\item[--]
{\bf output}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]stiffness manipulability measure as scalar value, defined as minimum Eigenvalaue of the Cartesian stiffness matrix
\item[]Cartesian stiffness matrix
\end{itemize}
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: 
\item[--]
{\bf status}: this function is {\bf currently under development} and under testing!
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/special.py\#L148}{JointJacobian}{}}}\label{sec:special:JointJacobian}
({\it robot}, {\it HTJoint}, {\it HTLink})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute joint jacobian for each frame for given pose (homogeneous transformation)
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it robot}: robot class
\item[]{\it HT}: actual pose as homogeneous transformaton matrix
\end{itemize}
\item[--]
{\bf output}: Link(body)-Jacobi matrix JJ: $\LU{i}{JJ_i}=[\LU{i}{J_{Ri}},\; \LU{i}{J_{Ti}}]$ for each link i, seperated in rotational ($J_R$) and translational ($J_T$) part of Jacobian matrix located in the $i^{th}$ coordiante system, see \cite{woernle2016}
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: runs over number of HTs given in HT (may be less than number of links), caclulations in link coordinate system located at the end of each link regarding Standard  Denavid-Hartenberg parameters, see \cite{Corke2013}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/special.py\#L211}{MassMatrix}{}}}\label{sec:special:MassMatrix}
({\it robot}, {\it HT}, {\it jointJacobian})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute mass matrix from jointJacobian
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it robot}: robot structure
\item[]{\it HT}: actual pose as homogeneous transformaton matrix
\item[]{\it jointJacobian}: provide list of jacobians as provided by function JointJacobian(...)
\end{itemize}
\item[--]
{\bf output}: MM: Mass matrix
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]Mass Matrix calculation calculated in joint coordinates regarding (std) DH parameter:
\item[]**       Dynamic equations in minimal coordinates as described in Mehrkörpersysteme by Woernle, \cite{woernle2016}, p206, eq6.90.
\item[]**       Caclulations in link coordinate system at the end of each link
\end{itemize}
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on MassMatrix see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/shapeOptimization.py}{\texttt{shapeOptimization.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/solverFunctionsTestEigenvalues.py}{\texttt{solverFunctionsTestEigenvalues.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ACFtest.py}{\texttt{ACFtest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/manualExplicitIntegrator.py}{\texttt{manualExplicitIntegrator.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectFFRFreducedOrderAccelerations.py}{\texttt{objectFFRFreducedOrderAccelerations.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectFFRFreducedOrderShowModes.py}{\texttt{objectFFRFreducedOrderShowModes.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectFFRFreducedOrderStressModesTest.py}{\texttt{objectFFRFreducedOrderStressModesTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectFFRFreducedOrderTest.py}{\texttt{objectFFRFreducedOrderTest.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/special.py\#L245}{DynamicManipulability}{}}}\label{sec:special:DynamicManipulability}
({\it robot}, {\it HT}, {\it MassMatrix}, {\it Tmax}, {\it mode}, {\it singularWeight}= 1000)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: compute dynamic manipulability measure for given pose (homogeneous transformation)
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it robot}: robot structure
\item[]{\it HT}: actual pose as homogeneous transformaton matrix
\item[]{\it Tmax}: maximum joint torques
\item[]{\it mode}: rotational or translational part of the movement
\item[]{\it MassMatrix}: Mass (inertia) Maxtrix provided by the function MassMatrix
\item[]{\it singularWeight}: Weighting of singular configurations where the value would be infinity,default value=1000
\end{itemize}
\item[--]
{\bf output}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]dynamic manipulability measure as scalar value, defined as minimum Eigenvalaue of the dynamic manipulability matrix N
\item[]dynamic manipulability matrix
\end{itemize}
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: acceleration dependent manipulability definded by Chiacchio, see \cite{Chiacchio1998}, eq.32. The eigenvectors and eigenvalues of N ([eigenvec eigenval]=eig(N))gives the direction and value of minimal and maximal accaleration )
\item[--]
{\bf status}: this function is {\bf currently under development} and under testing!
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/special.py\#L292}{CalculateAllMeasures}{}}}\label{sec:special:CalculateAllMeasures}
({\it robot}, {\it robotDic}, {\it q}, {\it mode}, {\it flag}= [0,0,0,0])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: calculation of 4 different manipulability measures using a certain serial robot
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it robot}: robot class
\item[]{\it robotDic}: robot dictionary
\item[]{\it q}: joint position vector
\item[]{\it mode}: trans or rot, for used parts of the manipulator Jacobi Matrix
\item[]{\it Tmax}: maximum joint torques
\item[]{\it mode}: rotational or translational part of the movement
\item[]{\it flag}: flag vector to swich individual measure on and of [flagmv,flagmf,flagmst,flagma] = [1,1,1,1]
\end{itemize}
\item[--]
{\bf output}: [mv,mf,mst,mstM,ma,maM]
\item[--]
{\bf author}: Martin Sereinig
\item[--]
{\bf notes}: 
\item[--]
{\bf status}: this function is {\bf currently under development} and under testing!
\vspace{12pt}\end{itemize}
%
\mysubsubsection{Module: robotics.utilities}
\label{sec:module:robotics.utilities}
  The utilities contains general helper functions for the robotics module
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Date:      2023-04-15
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/robotics/utilities.py\#L40}{AddLidar}{}}}\label{sec:utilities:AddLidar}
({\it mbs}, {\it generalContactIndex}, {\it positionOrMarker}, {\it minDistance}= -1e7, {\it maxDistance}= 1e7, {\it cylinderRadius}= 0, {\it lineLength}= 1, {\it numberOfSensors}= 100, {\it angleStart}= 0, {\it angleEnd}= 2*np.pi, {\it inclination}= 0, {\it rotation}= np.eye(3), {\it selectedTypeIndex}= exudyn.ContactTypeIndex.IndexEndOfEnumList, {\it storeInternal}= False, {\it fileName}= '', {\it measureVelocity}= False, {\it addGraphicsObject}= False, {\it drawDisplaced}= True, {\it color}= [1.0, 0.0, 0.0, 1.0])
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: Function to add many distance sensors to represent Lidar; sensors can be either placed on absolute position or attached to rigid body marker
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it generalContactIndex}: the number of the GeneralContact object in mbs; the index of the GeneralContact object which has been added with last AddGeneralContact(...) command is generalContactIndex=mbs.NumberOfGeneralContacts()-1
\item[]{\it positionOrMarker}: either a 3D position as list or np.array, or a MarkerIndex with according rigid body marker
\item[]{\it minDistance}: the minimum distance which is accepted; smaller distance will be ignored
\item[]{\it maxDistance}: the maximum distance which is accepted; items being at maxDistance or futher are ignored; if no items are found, the function returns maxDistance
\item[]{\it cylinderRadius}: in case of spheres (selectedTypeIndex=ContactTypeIndex.IndexSpheresMarkerBased), a cylinder can be used which measures the shortest distance at a certain radius (geometrically interpreted as cylinder)
\item[]{\it lineLength}: length of line to be drawn; note that this length is drawn from obstacle towards sensor if drawDisplaced=True, but the length is always constant
\item[]{\it numberOfSensors}: number of sensors arranged between angleStart and angleEnd; higher numbers give finer resolution (but requires more CPU time)
\item[]{\it angleStart}: starting rangle of angles to be used (in radiant)
\item[]{\it angleEnd}: end of range for angle to be used (in radiant)
\item[]{\it inclination}: angle of inclination (radiant), positive values showing upwards if placed
\item[]{\it rotation}: a 3x3 rotation matrix (numpy); the sensor is placed in the X-Y plane of the marker where it is added to; however, you can use this rotation matrix to change the orientation
\item[]{\it selectedTypeIndex}: either this type has default value, meaning that all items in GeneralContact are measured, or there is a specific type index, which is the only type that is considered during measurement
\item[]{\it storeInternal}: like with any SensorUserFunction, setting to True stores sensor data internally
\item[]{\it fileName}: if defined, recorded data of SensorUserFunction is written to specified file
\item[]{\it measureVelocity}: if True, the sensor measures additionally the velocity (component 0=distance, component 1=velocity); velocity is the velocity in direction 'dirSensor' and does not account for changes in geometry, thus it may be different from the time derivative of the distance!
\item[]{\it addGraphicsObject}: if True, the distance sensor is also visualized graphically in a simplified manner with a red line having the length of dirSensor; NOTE that updates are ONLY performed during computation, not in visualization; for this reason, solutionSettings.sensorsWritePeriod should be accordingly small
\item[]{\it drawDisplaced}: if True, the red line is drawn backwards such that it moves along the measured surface; if False, the beam is fixed to marker or position
\item[]{\it color}: optional color for 'laser beam' to be drawn
\end{itemize}
\item[--]
{\bf output}: creates sensor and returns list of sensor numbers for all laser sensors
\item[--]
{\bf notes}: use generalContactIndex = CreateDistanceSensorGeometry(...) before to create GeneralContact module containing geometry
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on AddLidar see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/laserScannerTest.py}{\texttt{laserScannerTest.py}} (TM)
\ei

%
\mysubsection{Module: signalProcessing}
\label{sec:module:signalProcessing}
  The signal library supports processing of signals for import (e.g. measurement data)
           and for filtering result data.
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Date:      2020-12-10
\item[]Notes:     This module is still under construction and should be used with care!
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/signalProcessing.py\#L27}{FilterSensorOutput}{}}}\label{sec:signalProcessing:FilterSensorOutput}
({\it signal}, {\it filterWindow}= 5, {\it polyOrder}= 3, {\it derivative}= 0, {\it centralDifferentiate}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: filter output of sensors (using numpy savgol filter) as well as numerical differentiation to compute derivative of signal
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it signal}: numpy array (2D array with column-wise storage of signals, as exported by EXUDYN position, displacement, etc. sensors); first column = time, other columns = signals to operate on; note that it is assumed, that time devided in almost constant steps!
\item[]{\it derivative}: 0=no derivative, 1=first derivative, 2=second derivative, etc. (>2 only possible with filter)
\item[]{\it polyOrder}: order of polynomial for interpolation filtering
\item[]{\it filterWindow}: if zero: produces unfiltered derivative; if positive, must be ODD integer {1,3,5,...} and > polyOrder; filterWindow determines the length of the filter window (e.g., to get rid of noise)
\item[]{\it centralDifferentiate}: if True, it uses a central differentiation for first order, unfiltered derivatives; leads to less phase shift of signal!
\end{itemize}
\item[--]
{\bf output}: numpy array containing same columns, but with filtered signal and according derivatives
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on FilterSensorOutput see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFoutputTest.py}{\texttt{ANCFoutputTest.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectFFRFreducedOrderAccelerations.py}{\texttt{objectFFRFreducedOrderAccelerations.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/signalProcessing.py\#L83}{FilterSignal}{}}}\label{sec:signalProcessing:FilterSignal}
({\it signal}, {\it samplingRate}= -1, {\it filterWindow}= 5, {\it polyOrder}= 3, {\it derivative}= 0, {\it centralDifferentiate}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: filter 1D signal (using numpy savgol filter) as well as numerical differentiation to compute derivative of signal
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it signal}: 1D numpy array
\item[]{\it samplingRate}: (time increment) of signal values, needed for derivatives
\item[]{\it derivative}: 0=no derivative, 1=first derivative, 2=second derivative, etc. (>2 only possible with filter)
\item[]{\it polyOrder}: order of polynomial for interpolation filtering
\item[]{\it filterWindow}: if zero: produces unfiltered derivative; if positive, must be ODD integer {1,3,5,...} and > polyOrder; filterWindow determines the length of the filter window (e.g., to get rid of noise)
\item[]{\it centralDifferentiate}: if True, it uses a central differentiation for first order, unfiltered derivatives; leads to less phase shift of signal!
\end{itemize}
\item[--]
{\bf output}: numpy array containing same columns, but with filtered signal and according derivatives
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on FilterSignal see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/objectFFRFreducedOrderAccelerations.py}{\texttt{objectFFRFreducedOrderAccelerations.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/signalProcessing.py\#L128}{ComputeFFT}{}}}\label{sec:signalProcessing:ComputeFFT}
({\it time}, {\it data})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: computes fast-fourier-transform (FFT) resulting in frequency, magnitude and phase of signal data using numpy.fft of numpy
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]time ... time vector in SECONDS in numpy format, having constant sampling rate (not checked!)
\item[]data ... data vector in numpy format
\end{itemize}
\item[--]
{\bf output}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]frequency ... frequency vector (Hz, if time is in SECONDS)
\item[]magnitude ... magnitude vector
\item[]phase     ... phase vector (in radiant)
\end{itemize}
\item[--]
{\bf author}: Stefan Holzinger
\item[--]
{\bf date}: 02.04.2020
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on ComputeFFT see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/nMassOscillatorEigenmodes.py}{\texttt{nMassOscillatorEigenmodes.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/signalProcessing.py\#L167}{GetInterpolatedSignalValue}{}}}\label{sec:signalProcessing:GetInterpolatedSignalValue}
({\it time}, {\it dataArray}, {\it timeArray}= [], {\it dataArrayIndex}= -1, {\it timeArrayIndex}= -1, {\it rangeWarning}= True, {\it tolerance}= 1e-6)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: Interpolate signal having time values with constant sampling rate in timeArray and according data in dataArray
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it time}: time at which the data should be evaluated
\item[]{\it dataArray}: 1D numpy array containing data values to be interpolated [alternatively: 2D numpy array, rows containg the data of the according time point; use dataArrayColumnIndex to specify the column of requested data]
\item[]{\it timeArray}: 1D numpy array containing time values with CONSTANT SAMPLING RATE to be interpolated [alternatively: 2D numpy array, rows containg the time and data of the according time point; use timeArrayColumnIndex to specify the column representing time]; if timeArray is empty list [], dataArray is used instead!
\item[]{\it rangeWarning}: print warning if resulting index gets out of range
\item[]{\it dataArrayColumnIndex}: in case of 2D arrays, this represents the column of the requested data
\item[]{\it timeArrayColumnIndex}: in case of 2D arrays, this represents the column of time values
\item[]{\it tolerance}: this tolerance is used to check, if the timeArray has equidistant interpolation and if the found indices are correct; use e.g. 1e10 in order to ignore this tolerance
\end{itemize}
\item[--]
{\bf output}: interpolated value
\item[--]
{\bf notes}: for interpolation of data WITHOUT constant data rate, use numpy.interp(time, timeArray, dataArray) in case that timeArray and dataArray are 1D arrays
\vspace{12pt}\end{itemize}
%
\mysubsection{Module: solver}
\label{sec:module:solver}
  The solver module provides interfaces to static, dynamic and eigenvalue solvers.
           Most of the solvers are implemented inside the C++ core.
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Johannes Gerstmayr 
\item[]Date:      2020-12-02
\item[]Notes:     Solver functions are included directly in exudyn and can be used with exu.SolveStatic(...)
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/solver.py\#L23}{SolverErrorMessage}{}}}\label{sec:solver:SolverErrorMessage}
({\it solver}, {\it mbs}, {\it isStatic}= False, {\it showCausingObjects}= True, {\it showCausingNodes}= True, {\it showHints}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: (internal) helper function for unique error and helper messages
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/solver.py\#L154}{SolveStatic}{}}}({\it mbs}, {\it simulationSettings}= exudyn.SimulationSettings(), {\it updateInitialValues}= False, {\it storeSolver}= True, {\it showHints}= False, {\it showCausingItems}= True)
\end{flushleft}
\bi
  \item \mybold{NOTE}: this function is directly available in MainSystem (mbs); it should be directly called as mbs.SolveStatic(...). For description of the interface, see the MainSystem Python extensions, \refSection{sec:mainsystemextensions:SolveStatic}.

\ei
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/solver.py\#L219}{SolveDynamic}{}}}({\it mbs}, {\it simulationSettings}= exudyn.SimulationSettings(), {\it solverType}= exudyn.DynamicSolverType.GeneralizedAlpha, {\it updateInitialValues}= False, {\it storeSolver}= True, {\it showHints}= False, {\it showCausingItems}= True)
\end{flushleft}
\bi
  \item \mybold{NOTE}: this function is directly available in MainSystem (mbs); it should be directly called as mbs.SolveDynamic(...). For description of the interface, see the MainSystem Python extensions, \refSection{sec:mainsystemextensions:SolveDynamic}.

\ei
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/solver.py\#L314}{SolverSuccess}{}}}\label{sec:solver:SolverSuccess}
({\it solverStructure})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: return success (True/False) and error message of solver after SolveSteps(...), SolveSystem(...), SolveDynamic(...) or SolveStatic(...) have been called. May also be set if other higher level functions called e.g. SolveSystem(...)
\item[--]
{\bf input}: solverStructure: solver structure, as stored in mbs.sys or as created e.g. by exudyn.MainSolverExplicit()
\item[--]
{\bf output}: [success, errorString], returns success=True or False and in case of no success, information is provided in errorString
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  #assume MainSystem mbs, exu library and simulationSettings:
  try:
      mbs.SolveDynamic(simulationSettings)
  except:
      [success, msg] = exu.SolverSuccess(mbs.sys['dynamicSolver'])
      print('success=',success)
      print('error message=',msg)
  #alternative:
  solver=exu.MainSolverImplicitSecondOrder()
  ...
  [success, msg] = exu.SolverSuccess(solver)
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/solver.py\#L365}{ComputeLinearizedSystem}{}}}({\it mbs}, {\it simulationSettings}= exudyn.SimulationSettings(), {\it useSparseSolver}= False)
\end{flushleft}
\bi
  \item \mybold{NOTE}: this function is directly available in MainSystem (mbs); it should be directly called as mbs.ComputeLinearizedSystem(...). For description of the interface, see the MainSystem Python extensions, \refSection{sec:mainsystemextensions:ComputeLinearizedSystem}.

\ei
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/solver.py\#L441}{ComputeODE2Eigenvalues}{}}}({\it mbs}, {\it simulationSettings}= exudyn.SimulationSettings(), {\it useSparseSolver}= False, {\it numberOfEigenvalues}= 0, {\it constrainedCoordinates}= [], {\it convert2Frequencies}= False, {\it useAbsoluteValues}= True, {\it ignoreAlgebraicEquations}= False, {\it singularValuesTolerance}= 1e-12)
\end{flushleft}
\bi
  \item \mybold{NOTE}: this function is directly available in MainSystem (mbs); it should be directly called as mbs.ComputeODE2Eigenvalues(...). For description of the interface, see the MainSystem Python extensions, \refSection{sec:mainsystemextensions:ComputeODE2Eigenvalues}.

\ei
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/solver.py\#L620}{ComputeSystemDegreeOfFreedom}{}}}({\it mbs}, {\it simulationSettings}= exudyn.SimulationSettings(), {\it threshold}= 1e-12, {\it verbose}= False, {\it useSVD}= False)
\end{flushleft}
\bi
  \item \mybold{NOTE}: this function is directly available in MainSystem (mbs); it should be directly called as mbs.ComputeSystemDegreeOfFreedom(...). For description of the interface, see the MainSystem Python extensions, \refSection{sec:mainsystemextensions:ComputeSystemDegreeOfFreedom}.

\ei
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/solver.py\#L707}{CheckSolverInfoStatistics}{}}}\label{sec:solver:CheckSolverInfoStatistics}
({\it solverName}, {\it infoStat}, {\it numberOfEvaluations})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]helper function for solvers to check e.g. if high number of memory allocations happened during simulation
\item[]This can happen, if large amount of sensors are attached and output is written in every time step
\end{itemize}
\item[--]
{\bf input}: stat=exudyn.InfoStat() from previous step, numberOfEvaluations is a counter which is proportional to number of RHS evaluations in method
\vspace{12pt}\end{itemize}
%
\mysubsection{Module: utilities}
\label{sec:module:utilities}
  Basic support functions for simpler creation of Exudyn models.
			Advanced functions for loading and animating solutions and for drawing a graph of the mbs system.
           This library requires numpy (as well as time and copy)
\begin{itemize}[leftmargin=1.4cm]
\setlength{\itemindent}{-1.4cm}
\item[]Author:    Johannes Gerstmayr
\item[]Date:      2019-07-26 (created)
\ei
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L41}{ShowOnlyObjects}{}}}\label{sec:utilities:ShowOnlyObjects}
({\it mbs}, {\it objectNumbers}= [], {\it showOthers}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: function to hide all objects in mbs except for those listed in objectNumbers
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: mbs containing object
\item[]{\it objectNumbers}: integer object number or list of object numbers to be shown; if empty list [], then all objects are shown
\item[]{\it showOthers}: if True, then all other objects are shown again
\end{itemize}
\item[--]
{\bf output}: changes all colors in mbs, which is NOT reversible
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L63}{HighlightItem}{}}}\label{sec:utilities:HighlightItem}
({\it SC}, {\it mbs}, {\it itemNumber}, {\it itemType}= exudyn.ItemType.Object, {\it showNumbers}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: highlight a certain item with number itemNumber; set itemNumber to -1 to show again all objects
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: mbs containing object
\item[]{\it itemNumbers}: integer object/node/etc number to be highlighted
\item[]{\it itemType}: type of items to be highlighted
\item[]{\it showNumbers}: if True, then the numbers of these items are shown
\end{itemize}
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L102}{\_\_UFsensorDistance}{}}}\label{sec:utilities:__UFsensorDistance}
({\it mbs}, {\it t}, {\it sensorNumbers}, {\it factors}, {\it configuration})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: internal function used for CreateDistanceSensor
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L160}{CreateDistanceSensorGeometry}{}}}({\it mbs}, {\it meshPoints}, {\it meshTrigs}, {\it rigidBodyMarkerIndex}, {\it searchTreeCellSize}= [8,8,8])
\end{flushleft}
\bi
  \item \mybold{NOTE}: this function is directly available in MainSystem (mbs); it should be directly called as mbs.CreateDistanceSensorGeometry(...). For description of the interface, see the MainSystem Python extensions, \refSection{sec:mainsystemextensions:CreateDistanceSensorGeometry}.

\ei
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L193}{CreateDistanceSensor}{}}}({\it mbs}, {\it generalContactIndex}, {\it positionOrMarker}, {\it dirSensor}, {\it minDistance}= -1e7, {\it maxDistance}= 1e7, {\it cylinderRadius}= 0, {\it selectedTypeIndex}= exudyn.ContactTypeIndex.IndexEndOfEnumList, {\it storeInternal}= False, {\it fileName}= '', {\it measureVelocity}= False, {\it addGraphicsObject}= False, {\it drawDisplaced}= True, {\it color}= color4red)
\end{flushleft}
\bi
  \item \mybold{NOTE}: this function is directly available in MainSystem (mbs); it should be directly called as mbs.CreateDistanceSensor(...). For description of the interface, see the MainSystem Python extensions, \refSection{sec:mainsystemextensions:CreateDistanceSensor}.

\ei
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L242}{UFsensorRecord}{}}}\label{sec:utilities:UFsensorRecord}
({\it mbs}, {\it t}, {\it sensorNumbers}, {\it factors}, {\it configuration})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: DEPRECATED: Internal SensorUserFunction, used in function AddSensorRecorder
\item[--]
{\bf notes}: Warning: this method is DEPRECATED, use storeInternal in Sensors, which is much more performant; Note, that a sensor usually just passes through values of an existing sensor, while recording the values to a numpy array row-wise (time in first column, data in remaining columns)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L263}{AddSensorRecorder}{}}}\label{sec:utilities:AddSensorRecorder}
({\it mbs}, {\it sensorNumber}, {\it endTime}, {\it sensorsWritePeriod}, {\it sensorOutputSize}= 3)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: DEPRECATED: Add a SensorUserFunction object in order to record sensor output internally; this avoids creation of files for sensors, which can speedup and simplify evaluation in ParameterVariation and GeneticOptimization; values are stored internally in mbs.variables['sensorRecord'+str(sensorNumber)] where sensorNumber is the mbs sensor number
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: mbs containing object
\item[]{\it sensorNumber}: integer sensor number to be recorded
\item[]{\it endTime}: end time of simulation, as given in simulationSettings.timeIntegration.endTime
\item[]{\it sensorsWritePeriod}: as given in simulationSettings.solutionSettings.sensorsWritePeriod
\item[]{\it sensorOutputSize}: size of sensor data: 3 for Displacement, Position, etc. sensors; may be larger for RotationMatrix or Coordinates sensors; check this size by calling mbs.GetSensorValues(sensorNumber)
\end{itemize}
\item[--]
{\bf output}: adds an according SensorUserFunction sensor to mbs; returns new sensor number; during initialization a new numpy array is allocated in  mbs.variables['sensorRecord'+str(sensorNumber)] and the information is written row-wise: [time, sensorValue1, sensorValue2, ...]
\item[--]
{\bf notes}: Warning: this method is DEPRECATED, use storeInternal in Sensors, which is much more performant; Note, that a sensor usually just passes through values of an existing sensor, while recording the values to a numpy array row-wise (time in first column, data in remaining columns)
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on AddSensorRecorder see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/ComputeSensitivitiesExample.py}{\texttt{ComputeSensitivitiesExample.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L290}{LoadSolutionFile}{}}}\label{sec:utilities:LoadSolutionFile}
({\it fileName}, {\it safeMode}= False, {\it maxRows}= -1, {\it verbose}= True, {\it hasHeader}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: read coordinates solution file (exported during static or dynamic simulation with option exu.SimulationSettings().solutionSettings.coordinatesSolutionFileName='...') into dictionary:
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it fileName}: string containing directory and filename of stored coordinatesSolutionFile
\item[]{\it saveMode}: if True, it loads lines directly to load inconsistent lines as well; use this for huge files (>2GB); is slower but needs less memory!
\item[]{\it verbose}: if True, some information is written when importing file (use for huge files to track progress)
\item[]{\it maxRows}: maximum number of data rows loaded, if saveMode=True; use this for huge files to reduce loading time; set -1 to load all rows
\item[]{\it hasHeader}: set to False, if file is expected to have no header; if False, then some error checks related to file header are not performed
\end{itemize}
\item[--]
{\bf output}: dictionary with 'data': the matrix of stored solution vectors, 'columnsExported': a list with integer values showing the exported sizes [nODE2, nVel2, nAcc2, nODE1, nVel1, nAlgebraic, nData], 'nColumns': the number of data columns and 'nRows': the number of data rows
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on LoadSolutionFile see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/addRevoluteJoint.py}{\texttt{addRevoluteJoint.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDriveALE.py}{\texttt{beltDriveALE.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDriveReevingSystem.py}{\texttt{beltDriveReevingSystem.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/beltDrivesComparison.py}{\texttt{beltDrivesComparison.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/craneReevingSystem.py}{\texttt{craneReevingSystem.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ACFtest.py}{\texttt{ACFtest.py}} (TM), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFbeltDrive.py}{\texttt{ANCFbeltDrive.py}} (TM), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/ANCFgeneralContactCircle.py}{\texttt{ANCFgeneralContactCircle.py}} (TM), 
 ...

\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L421}{NumpyInt8ArrayToString}{}}}\label{sec:utilities:NumpyInt8ArrayToString}
({\it npArray})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: simple conversion of int8 arrays into strings (not highly efficient, so use only for short strings)
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L428}{BinaryReadIndex}{}}}\label{sec:utilities:BinaryReadIndex}
({\it file}, {\it intType})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: read single Index from current file position in binary solution file
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L434}{BinaryReadReal}{}}}\label{sec:utilities:BinaryReadReal}
({\it file}, {\it realType})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: read single Real from current file position in binary solution file
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L440}{BinaryReadString}{}}}\label{sec:utilities:BinaryReadString}
({\it file}, {\it intType})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: read string from current file position in binary solution file
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L446}{BinaryReadArrayIndex}{}}}\label{sec:utilities:BinaryReadArrayIndex}
({\it file}, {\it intType})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: read Index array from current file position in binary solution file
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L453}{BinaryReadRealVector}{}}}\label{sec:utilities:BinaryReadRealVector}
({\it file}, {\it intType}, {\it realType})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: read Real vector from current file position in binary solution file
\item[--]
{\bf output}: return data as numpy array, or False if no data read
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L469}{LoadBinarySolutionFile}{}}}\label{sec:utilities:LoadBinarySolutionFile}
({\it fileName}, {\it maxRows}= -1, {\it verbose}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: read BINARY coordinates solution file (exported during static or dynamic simulation with option exu.SimulationSettings().solutionSettings.coordinatesSolutionFileName='...') into dictionary
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it fileName}: string containing directory and filename of stored coordinatesSolutionFile
\item[]{\it verbose}: if True, some information is written when importing file (use for huge files to track progress)
\item[]{\it maxRows}: maximum number of data rows loaded, if saveMode=True; use this for huge files to reduce loading time; set -1 to load all rows
\end{itemize}
\item[--]
{\bf output}: dictionary with 'data': the matrix of stored solution vectors, 'columnsExported': a list with integer values showing the exported sizes [nODE2, nVel2, nAcc2, nODE1, nVel1, nAlgebraic, nData], 'nColumns': the number of data columns and 'nRows': the number of data rows
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L655}{RecoverSolutionFile}{}}}\label{sec:utilities:RecoverSolutionFile}
({\it fileName}, {\it newFileName}, {\it verbose}= 0)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: recover solution file with last row not completely written (e.g., if crashed, interrupted or no flush file option set)
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it fileName}: string containing directory and filename of stored coordinatesSolutionFile
\item[]{\it newFileName}: string containing directory and filename of new coordinatesSolutionFile
\item[]{\it verbose}: 0=no information, 1=basic information, 2=information per row
\end{itemize}
\item[--]
{\bf output}: writes only consistent rows of file to file with name newFileName
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L711}{InitializeFromRestartFile}{}}}\label{sec:utilities:InitializeFromRestartFile}
({\it mbs}, {\it simulationSettings}, {\it restartFileName}, {\it verbose}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: recover initial coordinates, time, etc. from given restart file
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: MainSystem to be operated with
\item[]{\it simulationSettings}: simulationSettings which is updated and shall be used afterwards for SolveDynamic(...) or SolveStatic(...)
\item[]{\it restartFileName}: string containing directory and filename of stored restart file, as given in solutionSettings.restartFileName
\item[]{\it verbose}: False=no information, True=basic information
\end{itemize}
\item[--]
{\bf output}: modifies simulationSettings and sets according initial conditions in mbs
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L772}{SetSolutionState}{}}}\label{sec:utilities:SetSolutionState}
({\it mbs}, {\it solution}, {\it row}, {\it configuration}= exudyn.ConfigurationType.Current, {\it sendRedrawSignal}= True)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: load selected row of solution dictionary (previously loaded with LoadSolutionFile) into specific state; flag sendRedrawSignal is only used if configuration = exudyn.ConfigurationType.Visualization
\vspace{12pt}\end{itemize}
%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L804}{AnimateSolution}{}}}\label{sec:utilities:AnimateSolution}
({\it mbs}, {\it solution}, {\it rowIncrement}= 1, {\it timeout}= 0.04, {\it createImages}= False, {\it runLoop}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: This function is not further maintaned and should only be used if you do not have tkinter (like on some MacOS versions); use exudyn.interactive.SolutionViewer() instead! AnimateSolution consecutively load the rows of a solution file and visualize the result
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it mbs}: the system used for animation
\item[]{\it solution}: solution dictionary previously loaded with LoadSolutionFile; will be played from first to last row
\item[]{\it rowIncrement}: can be set larger than 1 in order to skip solution frames: e.g. rowIncrement=10 visualizes every 10th row (frame)
\item[]{\it timeout}: in seconds is used between frames in order to limit the speed of animation; e.g. use timeout=0.04 to achieve approximately 25 frames per second
\item[]{\it createImages}: creates consecutively images from the animation, which can be converted into an animation
\item[]{\it runLoop}: if True, the animation is played in a loop until 'q' is pressed in render window
\end{itemize}
\item[--]
{\bf output}: renders the scene in mbs and changes the visualization state in mbs continuously
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on AnimateSolution see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/NGsolvePistonEngine.py}{\texttt{NGsolvePistonEngine.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/rigidRotor3Dnutation.py}{\texttt{rigidRotor3Dnutation.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/SliderCrank.py}{\texttt{SliderCrank.py}} (Ex), 
\\ \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/slidercrankWithMassSpring.py}{\texttt{slidercrankWithMassSpring.py}} (Ex), 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/switchingConstraintsPendulum.py}{\texttt{switchingConstraintsPendulum.py}} (Ex), 
 ...
, 
\exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/TestModels/sliderCrankFloatingTest.py}{\texttt{sliderCrankFloatingTest.py}} (TM)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L848}{DrawSystemGraph}{}}}({\it mbs}, {\it showLoads}= True, {\it showSensors}= True, {\it useItemNames}= False, {\it useItemTypes}= False, {\it addItemTypeNames}= True, {\it multiLine}= True, {\it fontSizeFactor}= 1., {\it layoutDistanceFactor}= 3., {\it layoutIterations}= 100, {\it showLegend}= True, {\it tightLayout}= True)
\end{flushleft}
\bi
  \item \mybold{NOTE}: this function is directly available in MainSystem (mbs); it should be directly called as mbs.DrawSystemGraph(...). For description of the interface, see the MainSystem Python extensions, \refSection{sec:mainsystemextensions:DrawSystemGraph}.

\ei
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L1248}{CreateTCPIPconnection}{}}}\label{sec:utilities:CreateTCPIPconnection}
({\it sendSize}, {\it receiveSize}, {\it IPaddress}= '127.0.0.1', {\it port}= 52421, {\it bigEndian}= False, {\it verbose}= False)
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]function which has to be called before simulation to setup TCP/IP socket (server) for
\item[]sending and receiving data; can be used to communicate with other Python interpreters
\item[]or for communication with MATLAB/Simulink
\end{itemize}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it sendSize}: number of double values to be sent to TCPIP client
\item[]{\it receiveSize}: number of double values to be received from TCPIP client
\item[]{\it IPaddress}: string containing IP address of client (e.g., '127.0.0.1')
\item[]{\it port}: port for communication with client
\item[]{\it bigEndian}: if True, it uses bigEndian, otherwise littleEndian is used for byte order
\end{itemize}
\item[--]
{\bf output}: returns information (TCPIPdata class) on socket; recommended to store this in mbs.sys['TCPIPobject']
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  mbs.sys['TCPIPobject'] = CreateTCPIPconnection(sendSize=3, receiveSize=2,
                                                 bigEndian=True, verbose=True)
  sampleTime = 0.01 #sample time in MATLAB! must be same!
  mbs.variables['tLast'] = 0 #in case that exudyn makes finer steps than sample time
  def PreStepUserFunction(mbs, t):
      if t >= mbs.variables['tLast'] + sampleTime:
          mbs.variables['tLast'] += sampleTime
          tcp = mbs.sys['TCPIPobject']
          y = TCPIPsendReceive(tcp, np.array([t, np.sin(t), np.cos(t)])) #time, torque
          tau = y[1]
          print('tau=',tau)
      return True
  try:
      mbs.SetPreStepUserFunction(PreStepUserFunction)
      #%%++++++++++++++++++++++++++++++++++++++++++++++++++
      mbs.Assemble()
      [...] #start renderer; simulate model
  finally: #use this to always close connection, even in case of errors
      CloseTCPIPconnection(mbs.sys['TCPIPobject'])
  #*****************************************
  #the following settings work between Python and MATLAB-Simulink (client), and gives stable results(with only delay of one step):
  # TCP/IP Client Send:
  #   priority = 2 (in properties)
  #   blocking = false
  #   Transfer Delay on (but off also works)
  # TCP/IP Client Receive:
  #   priority = 1 (in properties)
  #   blocking = true
  #   Sourec Data type = double
  #   data size = number of double in packer
  #   Byte order = BigEndian
  #   timeout = 10
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
%
\noindent For examples on CreateTCPIPconnection see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/TCPIPexudynMatlab.py}{\texttt{TCPIPexudynMatlab.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L1281}{TCPIPsendReceive}{}}}\label{sec:utilities:TCPIPsendReceive}
({\it TCPIPobject}, {\it sendData})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]call this function at every simulation step at which you intend to communicate with
\item[]other programs via TCPIP; e.g., call this function in preStepUserFunction of a mbs model
\end{itemize}
\item[--]
{\bf input}: \vspace{-6pt}
\begin{itemize}[leftmargin=1.2cm]
\setlength{\itemindent}{-0.7cm}
\item[]{\it TCPIPobject}: the object returned by CreateTCPIPconnection(...)
\item[]{\it sendData}: numpy array containing data (double array) to be sent; must agree with sendSize
\end{itemize}
\item[--]
{\bf output}: returns array as received from TCPIP
\item[--]
{\bf example}: \vspace{-12pt}\ei\begin{lstlisting}[language=Python, xleftmargin=36pt]
  mbs.sys['TCPIPobject']=CreateTCPIPconnection(sendSize=2, receiveSize=1, IPaddress='127.0.0.1')
  y = TCPIPsendReceive(mbs.sys['TCPIPobject'], np.array([1.,2.]))
  print(y)
\end{lstlisting}\vspace{-24pt}\bi\item[]\vspace{-24pt}\vspace{12pt}\end{itemize}
%
%
\noindent For examples on TCPIPsendReceive see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/TCPIPexudynMatlab.py}{\texttt{TCPIPexudynMatlab.py}} (Ex)
\ei

%
\noindent\rule{8cm}{0.75pt}\vspace{1pt} \\ 
\begin{flushleft}
\noindent {def {\bf \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/exudyn/utilities.py\#L1294}{CloseTCPIPconnection}{}}}\label{sec:utilities:CloseTCPIPconnection}
({\it TCPIPobject})
\end{flushleft}
\setlength{\itemindent}{0.7cm}
\begin{itemize}[leftmargin=0.7cm]
\item[--]
{\bf function description}: close a previously created TCPIP connection
\vspace{12pt}\end{itemize}
%
%
\noindent For examples on CloseTCPIPconnection see Relevant Examples (Ex) and TestModels (TM) with weblink to github:
\bi
 \item \footnotesize \exuUrl{https://github.com/jgerstmayr/EXUDYN/blob/master/main/pythonDev/Examples/TCPIPexudynMatlab.py}{\texttt{TCPIPexudynMatlab.py}} (Ex)
\ei

%
\mysubsubsection{CLASS TCPIPdata (in module utilities)}
\noindent\textcolor{steelblue}{{\bf class description}}:  helper class for CreateTCPIPconnection and for TCPIPsendReceive
\vspace{3pt} \\ 
